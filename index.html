<!doctype html><html lang="en">
 <head>
  <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
  <title>Attribution Reporting</title>
  <meta content="width=device-width, initial-scale=1, shrink-to-fit=no" name="viewport">
  <link href="https://www.w3.org/StyleSheets/TR/2021/cg-draft" rel="stylesheet">
  <meta content="Bikeshed version d9bd89757, updated Thu Mar 23 10:06:53 2023 -0700" name="generator">
  <link href="https://wicg.github.io/attribution-reporting-api" rel="canonical">
<style>/* style-autolinks */
.css.css, .property.property, .descriptor.descriptor {
    color: var(--a-normal-text);
    font-size: inherit;
    font-family: inherit;
}
.css::before, .property::before, .descriptor::before {
    content: "‘";
}
.css::after, .property::after, .descriptor::after {
    content: "’";
}
.property, .descriptor {
    /* Don't wrap property and descriptor names */
    white-space: nowrap;
}
.type { /* CSS value <type> */
    font-style: italic;
}
pre .property::before, pre .property::after {
    content: "";
}
[data-link-type="property"]::before,
[data-link-type="propdesc"]::before,
[data-link-type="descriptor"]::before,
[data-link-type="value"]::before,
[data-link-type="function"]::before,
[data-link-type="at-rule"]::before,
[data-link-type="selector"]::before,
[data-link-type="maybe"]::before {
    content: "‘";
}
[data-link-type="property"]::after,
[data-link-type="propdesc"]::after,
[data-link-type="descriptor"]::after,
[data-link-type="value"]::after,
[data-link-type="function"]::after,
[data-link-type="at-rule"]::after,
[data-link-type="selector"]::after,
[data-link-type="maybe"]::after {
    content: "’";
}

[data-link-type].production::before,
[data-link-type].production::after,
.prod [data-link-type]::before,
.prod [data-link-type]::after {
    content: "";
}

[data-link-type=element],
[data-link-type=element-attr] {
    font-family: Menlo, Consolas, "DejaVu Sans Mono", monospace;
    font-size: .9em;
}
[data-link-type=element]::before { content: "<" }
[data-link-type=element]::after  { content: ">" }

[data-link-type=biblio] {
    white-space: pre;
}
</style>
<style>/* style-colors */

/* Any --*-text not paired with a --*-bg is assumed to have a transparent bg */
:root {
    color-scheme: light dark;

    --text: black;
    --bg: white;

    --unofficial-watermark: url(https://www.w3.org/StyleSheets/TR/2016/logos/UD-watermark);

    --logo-bg: #1a5e9a;
    --logo-active-bg: #c00;
    --logo-text: white;

    --tocnav-normal-text: #707070;
    --tocnav-normal-bg: var(--bg);
    --tocnav-hover-text: var(--tocnav-normal-text);
    --tocnav-hover-bg: #f8f8f8;
    --tocnav-active-text: #c00;
    --tocnav-active-bg: var(--tocnav-normal-bg);

    --tocsidebar-text: var(--text);
    --tocsidebar-bg: #f7f8f9;
    --tocsidebar-shadow: rgba(0,0,0,.1);
    --tocsidebar-heading-text: hsla(203,20%,40%,.7);

    --toclink-text: var(--text);
    --toclink-underline: #3980b5;
    --toclink-visited-text: var(--toclink-text);
    --toclink-visited-underline: #054572;

    --heading-text: #005a9c;

    --hr-text: var(--text);

    --algo-border: #def;

    --del-text: red;
    --del-bg: transparent;
    --ins-text: #080;
    --ins-bg: transparent;

    --a-normal-text: #034575;
    --a-normal-underline: #bbb;
    --a-visited-text: var(--a-normal-text);
    --a-visited-underline: #707070;
    --a-hover-bg: rgba(75%, 75%, 75%, .25);
    --a-active-text: #c00;
    --a-active-underline: #c00;

    --blockquote-border: silver;
    --blockquote-bg: transparent;
    --blockquote-text: currentcolor;

    --issue-border: #e05252;
    --issue-bg: #fbe9e9;
    --issue-text: var(--text);
    --issueheading-text: #831616;

    --example-border: #e0cb52;
    --example-bg: #fcfaee;
    --example-text: var(--text);
    --exampleheading-text: #574b0f;

    --note-border: #52e052;
    --note-bg: #e9fbe9;
    --note-text: var(--text);
    --noteheading-text: hsl(120, 70%, 30%);
    --notesummary-underline: silver;

    --assertion-border: #aaa;
    --assertion-bg: #eee;
    --assertion-text: black;

    --advisement-border: orange;
    --advisement-bg: #fec;
    --advisement-text: var(--text);
    --advisementheading-text: #b35f00;

    --warning-border: red;
    --warning-bg: hsla(40,100%,50%,0.95);
    --warning-text: var(--text);

    --amendment-border: #330099;
    --amendment-bg: #F5F0FF;
    --amendment-text: var(--text);
    --amendmentheading-text: #220066;

    --def-border: #8ccbf2;
    --def-bg: #def;
    --def-text: var(--text);
    --defrow-border: #bbd7e9;

    --datacell-border: silver;

    --indexinfo-text: #707070;

    --indextable-hover-text: black;
    --indextable-hover-bg: #f7f8f9;

    --outdatedspec-bg: rgba(0, 0, 0, .5);
    --outdatedspec-text: black;
    --outdated-bg: maroon;
    --outdated-text: white;
    --outdated-shadow: red;

    --editedrec-bg: darkorange;
}
</style>
<style>/* style-counters */
body {
    counter-reset: example figure issue;
}
.issue {
    counter-increment: issue;
}
.issue:not(.no-marker)::before {
    content: "Issue " counter(issue);
}

.example {
    counter-increment: example;
}
.example:not(.no-marker)::before {
    content: "Example " counter(example);
}
.invalid.example:not(.no-marker)::before,
.illegal.example:not(.no-marker)::before {
    content: "Invalid Example" counter(example);
}

figcaption {
    counter-increment: figure;
}
figcaption:not(.no-marker)::before {
    content: "Figure " counter(figure) " ";
}
</style>
<style>/* style-dfn-panel */
:root {
    --dfnpanel-bg: #ddd;
    --dfnpanel-text: var(--text);
}
.dfn-panel {
    position: absolute;
    z-index: 35;
    width: 20em;
    min-width: min-content;
    max-width: 300px;
    height: auto;
    max-height: 500px;
    overflow: auto;
    padding: 0.5em 0.75em;
    font: small Helvetica Neue, sans-serif, Droid Sans Fallback;
    background: var(--dfnpanel-bg);
    color: var(--dfnpanel-text);
    border: outset 0.2em;
    white-space: normal; /* in case it's moved into a pre */
}
.dfn-panel:not(.on) { display: none; }
.dfn-panel * { margin: 0; padding: 0; text-indent: 0; }
.dfn-panel > b { display: block; }
.dfn-panel a { color: var(--dfnpanel-text); }
.dfn-panel a:not(:hover) { text-decoration: none !important; border-bottom: none !important; }
.dfn-panel > b + b { margin-top: 0.25em; }
.dfn-panel ul { padding: 0; }
.dfn-panel li { list-style: inside; }
.dfn-panel.activated {
    display: inline-block;
    position: fixed;
    left: .5em;
    bottom: 2em;
    margin: 0 auto;
    max-width: calc(100vw - 1.5em - .4em - .5em);
    max-height: 30vh;
}

.dfn-paneled { cursor: pointer; }
</style>
<style>/* style-issues */
a[href].issue-return {
    float: right;
    float: inline-end;
    color: var(--issueheading-text);
    font-weight: bold;
    text-decoration: none;
}
</style>
<style>/* style-md-lists */
/* This is a weird hack for me not yet following the commonmark spec
   regarding paragraph and lists. */
[data-md] > :first-child {
    margin-top: 0;
}
[data-md] > :last-child {
    margin-bottom: 0;
}
</style>
<style>/* style-selflinks */

:root {
    --selflink-text: white;
    --selflink-bg: gray;
    --selflink-hover-text: black;
}
.heading, .issue, .note, .example, li, dt {
    position: relative;
}
a.self-link {
    position: absolute;
    top: 0;
    left: calc(-1 * (3.5rem - 26px));
    width: calc(3.5rem - 26px);
    height: 2em;
    text-align: center;
    border: none;
    transition: opacity .2s;
    opacity: .5;
}
a.self-link:hover {
    opacity: 1;
}
.heading > a.self-link {
    font-size: 83%;
}
.example > a.self-link,
.note > a.self-link,
.issue > a.self-link {
    /* These blocks are overflow:auto, so positioning outside
       doesn't work. */
    left: auto;
    right: 0;
}
li > a.self-link {
    left: calc(-1 * (3.5rem - 26px) - 2em);
}
dfn > a.self-link {
    top: auto;
    left: auto;
    opacity: 0;
    width: 1.5em;
    height: 1.5em;
    background: var(--selflink-bg);
    color: var(--selflink-text);
    font-style: normal;
    transition: opacity .2s, background-color .2s, color .2s;
}
dfn:hover > a.self-link {
    opacity: 1;
}
dfn > a.self-link:hover {
    color: var(--selflink-hover-text);
}

a.self-link::before            { content: "¶"; }
.heading > a.self-link::before { content: "§"; }
dfn > a.self-link::before      { content: "#"; }
</style>
<style>/* style-syntax-highlighting */

            pre.idl.highlight {
                background: var(--borderedblock-bg, var(--def-bg));
            }
            
code.highlight { padding: .1em; border-radius: .3em; }
pre.highlight, pre > code.highlight { display: block; padding: 1em; margin: .5em 0; overflow: auto; border-radius: 0; }

.highlight:not(.idl) { background: rgba(0, 0, 0, .03); }
c-[a] { color: #990055 } /* Keyword.Declaration */
c-[b] { color: #990055 } /* Keyword.Type */
c-[c] { color: #708090 } /* Comment */
c-[d] { color: #708090 } /* Comment.Multiline */
c-[e] { color: #0077aa } /* Name.Attribute */
c-[f] { color: #669900 } /* Name.Tag */
c-[g] { color: #222222 } /* Name.Variable */
c-[k] { color: #990055 } /* Keyword */
c-[l] { color: #000000 } /* Literal */
c-[m] { color: #000000 } /* Literal.Number */
c-[n] { color: #0077aa } /* Name */
c-[o] { color: #999999 } /* Operator */
c-[p] { color: #999999 } /* Punctuation */
c-[s] { color: #a67f59 } /* Literal.String */
c-[t] { color: #a67f59 } /* Literal.String.Single */
c-[u] { color: #a67f59 } /* Literal.String.Double */
c-[cp] { color: #708090 } /* Comment.Preproc */
c-[c1] { color: #708090 } /* Comment.Single */
c-[cs] { color: #708090 } /* Comment.Special */
c-[kc] { color: #990055 } /* Keyword.Constant */
c-[kn] { color: #990055 } /* Keyword.Namespace */
c-[kp] { color: #990055 } /* Keyword.Pseudo */
c-[kr] { color: #990055 } /* Keyword.Reserved */
c-[ld] { color: #000000 } /* Literal.Date */
c-[nc] { color: #0077aa } /* Name.Class */
c-[no] { color: #0077aa } /* Name.Constant */
c-[nd] { color: #0077aa } /* Name.Decorator */
c-[ni] { color: #0077aa } /* Name.Entity */
c-[ne] { color: #0077aa } /* Name.Exception */
c-[nf] { color: #0077aa } /* Name.Function */
c-[nl] { color: #0077aa } /* Name.Label */
c-[nn] { color: #0077aa } /* Name.Namespace */
c-[py] { color: #0077aa } /* Name.Property */
c-[ow] { color: #999999 } /* Operator.Word */
c-[mb] { color: #000000 } /* Literal.Number.Bin */
c-[mf] { color: #000000 } /* Literal.Number.Float */
c-[mh] { color: #000000 } /* Literal.Number.Hex */
c-[mi] { color: #000000 } /* Literal.Number.Integer */
c-[mo] { color: #000000 } /* Literal.Number.Oct */
c-[sb] { color: #a67f59 } /* Literal.String.Backtick */
c-[sc] { color: #a67f59 } /* Literal.String.Char */
c-[sd] { color: #a67f59 } /* Literal.String.Doc */
c-[se] { color: #a67f59 } /* Literal.String.Escape */
c-[sh] { color: #a67f59 } /* Literal.String.Heredoc */
c-[si] { color: #a67f59 } /* Literal.String.Interpol */
c-[sx] { color: #a67f59 } /* Literal.String.Other */
c-[sr] { color: #a67f59 } /* Literal.String.Regex */
c-[ss] { color: #a67f59 } /* Literal.String.Symbol */
c-[vc] { color: #0077aa } /* Name.Variable.Class */
c-[vg] { color: #0077aa } /* Name.Variable.Global */
c-[vi] { color: #0077aa } /* Name.Variable.Instance */
c-[il] { color: #000000 } /* Literal.Number.Integer.Long */
</style>
<style>/* style-var-click-highlighting */

    var { cursor: pointer; }
    var.selected0 { background-color: #F4D200; box-shadow: 0 0 0 2px #F4D200; }
    var.selected1 { background-color: #FF87A2; box-shadow: 0 0 0 2px #FF87A2; }
    var.selected2 { background-color: #96E885; box-shadow: 0 0 0 2px #96E885; }
    var.selected3 { background-color: #3EEED2; box-shadow: 0 0 0 2px #3EEED2; }
    var.selected4 { background-color: #EACFB6; box-shadow: 0 0 0 2px #EACFB6; }
    var.selected5 { background-color: #82DDFF; box-shadow: 0 0 0 2px #82DDFF; }
    var.selected6 { background-color: #FFBCF2; box-shadow: 0 0 0 2px #FFBCF2; }
    </style>
<style>/* style-darkmode */

@media (prefers-color-scheme: dark) {
    :root {
        --text: #ddd;
        --bg: black;

        --unofficial-watermark: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='400' height='400'%3E%3Cg fill='%23100808' transform='translate(200 200) rotate(-45) translate(-200 -200)' stroke='%23100808' stroke-width='3'%3E%3Ctext x='50%25' y='220' style='font: bold 70px sans-serif; text-anchor: middle; letter-spacing: 6px;'%3EUNOFFICIAL%3C/text%3E%3Ctext x='50%25' y='305' style='font: bold 70px sans-serif; text-anchor: middle; letter-spacing: 6px;'%3EDRAFT%3C/text%3E%3C/g%3E%3C/svg%3E");

        --logo-bg: #1a5e9a;
        --logo-active-bg: #c00;
        --logo-text: white;

        --tocnav-normal-text: #999;
        --tocnav-normal-bg: var(--bg);
        --tocnav-hover-text: var(--tocnav-normal-text);
        --tocnav-hover-bg: #080808;
        --tocnav-active-text: #f44;
        --tocnav-active-bg: var(--tocnav-normal-bg);

        --tocsidebar-text: var(--text);
        --tocsidebar-bg: #080808;
        --tocsidebar-shadow: rgba(255,255,255,.1);
        --tocsidebar-heading-text: hsla(203,20%,40%,.7);

        --toclink-text: var(--text);
        --toclink-underline: #6af;
        --toclink-visited-text: var(--toclink-text);
        --toclink-visited-underline: #054572;

        --heading-text: #8af;

        --hr-text: var(--text);

        --algo-border: #456;

        --del-text: #f44;
        --del-bg: transparent;
        --ins-text: #4a4;
        --ins-bg: transparent;

        --a-normal-text: #6af;
        --a-normal-underline: #555;
        --a-visited-text: var(--a-normal-text);
        --a-visited-underline: var(--a-normal-underline);
        --a-hover-bg: rgba(25%, 25%, 25%, .2);
        --a-active-text: #f44;
        --a-active-underline: var(--a-active-text);

        --borderedblock-bg: rgba(255, 255, 255, .05);

        --blockquote-border: silver;
        --blockquote-bg: var(--borderedblock-bg);
        --blockquote-text: currentcolor;

        --issue-border: #e05252;
        --issue-bg: var(--borderedblock-bg);
        --issue-text: var(--text);
        --issueheading-text: hsl(0deg, 70%, 70%);

        --example-border: hsl(50deg, 90%, 60%);
        --example-bg: var(--borderedblock-bg);
        --example-text: var(--text);
        --exampleheading-text: hsl(50deg, 70%, 70%);

        --note-border: hsl(120deg, 100%, 35%);
        --note-bg: var(--borderedblock-bg);
        --note-text: var(--text);
        --noteheading-text: hsl(120, 70%, 70%);
        --notesummary-underline: silver;

        --assertion-border: #444;
        --assertion-bg: var(--borderedblock-bg);
        --assertion-text: var(--text);

        --advisement-border: orange;
        --advisement-bg: #222218;
        --advisement-text: var(--text);
        --advisementheading-text: #f84;

        --warning-border: red;
        --warning-bg: hsla(40,100%,20%,0.95);
        --warning-text: var(--text);

        --amendment-border: #330099;
        --amendment-bg: #080010;
        --amendment-text: var(--text);
        --amendmentheading-text: #cc00ff;

        --def-border: #8ccbf2;
        --def-bg: #080818;
        --def-text: var(--text);
        --defrow-border: #136;

        --datacell-border: silver;

        --indexinfo-text: #aaa;

        --indextable-hover-text: var(--text);
        --indextable-hover-bg: #181818;

        --outdatedspec-bg: rgba(255, 255, 255, .5);
        --outdatedspec-text: black;
        --outdated-bg: maroon;
        --outdated-text: white;
        --outdated-shadow: red;

        --editedrec-bg: darkorange;
    }
    /* In case a transparent-bg image doesn't expect to be on a dark bg,
       which is quite common in practice... */
    img { background: white; }
}

@media (prefers-color-scheme: dark) {
    :root {
        --selflink-text: black;
        --selflink-bg: silver;
        --selflink-hover-text: white;
    }
}

@media (prefers-color-scheme: dark) {
    :root {
        --dfnpanel-bg: #222;
        --dfnpanel-text: var(--text);
    }
}

@media (prefers-color-scheme: dark) {
    .highlight:not(.idl) { background: rgba(255, 255, 255, .05); }

    c-[a] { color: #d33682 } /* Keyword.Declaration */
    c-[b] { color: #d33682 } /* Keyword.Type */
    c-[c] { color: #2aa198 } /* Comment */
    c-[d] { color: #2aa198 } /* Comment.Multiline */
    c-[e] { color: #268bd2 } /* Name.Attribute */
    c-[f] { color: #b58900 } /* Name.Tag */
    c-[g] { color: #cb4b16 } /* Name.Variable */
    c-[k] { color: #d33682 } /* Keyword */
    c-[l] { color: #657b83 } /* Literal */
    c-[m] { color: #657b83 } /* Literal.Number */
    c-[n] { color: #268bd2 } /* Name */
    c-[o] { color: #657b83 } /* Operator */
    c-[p] { color: #657b83 } /* Punctuation */
    c-[s] { color: #6c71c4 } /* Literal.String */
    c-[t] { color: #6c71c4 } /* Literal.String.Single */
    c-[u] { color: #6c71c4 } /* Literal.String.Double */
    c-[ch] { color: #2aa198 } /* Comment.Hashbang */
    c-[cp] { color: #2aa198 } /* Comment.Preproc */
    c-[cpf] { color: #2aa198 } /* Comment.PreprocFile */
    c-[c1] { color: #2aa198 } /* Comment.Single */
    c-[cs] { color: #2aa198 } /* Comment.Special */
    c-[kc] { color: #d33682 } /* Keyword.Constant */
    c-[kn] { color: #d33682 } /* Keyword.Namespace */
    c-[kp] { color: #d33682 } /* Keyword.Pseudo */
    c-[kr] { color: #d33682 } /* Keyword.Reserved */
    c-[ld] { color: #657b83 } /* Literal.Date */
    c-[nc] { color: #268bd2 } /* Name.Class */
    c-[no] { color: #268bd2 } /* Name.Constant */
    c-[nd] { color: #268bd2 } /* Name.Decorator */
    c-[ni] { color: #268bd2 } /* Name.Entity */
    c-[ne] { color: #268bd2 } /* Name.Exception */
    c-[nf] { color: #268bd2 } /* Name.Function */
    c-[nl] { color: #268bd2 } /* Name.Label */
    c-[nn] { color: #268bd2 } /* Name.Namespace */
    c-[py] { color: #268bd2 } /* Name.Property */
    c-[ow] { color: #657b83 } /* Operator.Word */
    c-[mb] { color: #657b83 } /* Literal.Number.Bin */
    c-[mf] { color: #657b83 } /* Literal.Number.Float */
    c-[mh] { color: #657b83 } /* Literal.Number.Hex */
    c-[mi] { color: #657b83 } /* Literal.Number.Integer */
    c-[mo] { color: #657b83 } /* Literal.Number.Oct */
    c-[sa] { color: #6c71c4 } /* Literal.String.Affix */
    c-[sb] { color: #6c71c4 } /* Literal.String.Backtick */
    c-[sc] { color: #6c71c4 } /* Literal.String.Char */
    c-[dl] { color: #6c71c4 } /* Literal.String.Delimiter */
    c-[sd] { color: #6c71c4 } /* Literal.String.Doc */
    c-[se] { color: #6c71c4 } /* Literal.String.Escape */
    c-[sh] { color: #6c71c4 } /* Literal.String.Heredoc */
    c-[si] { color: #6c71c4 } /* Literal.String.Interpol */
    c-[sx] { color: #6c71c4 } /* Literal.String.Other */
    c-[sr] { color: #6c71c4 } /* Literal.String.Regex */
    c-[ss] { color: #6c71c4 } /* Literal.String.Symbol */
    c-[fm] { color: #268bd2 } /* Name.Function.Magic */
    c-[vc] { color: #cb4b16 } /* Name.Variable.Class */
    c-[vg] { color: #cb4b16 } /* Name.Variable.Global */
    c-[vi] { color: #cb4b16 } /* Name.Variable.Instance */
    c-[vm] { color: #cb4b16 } /* Name.Variable.Magic */
    c-[il] { color: #657b83 } /* Literal.Number.Integer.Long */
}
</style>
 <body class="h-entry">
  <div class="head">
   <p data-fill-with="logo"><a class="logo" href="https://www.w3.org/"> <img alt="W3C" height="48" src="https://www.w3.org/StyleSheets/TR/2021/logos/W3C" width="72"> </a> </p>
   <h1 class="p-name no-ref" id="title">Attribution Reporting</h1>
   <p id="w3c-state"><a href="https://www.w3.org/standards/types#CG-DRAFT">Draft Community Group Report</a>, <time class="dt-updated" datetime="2023-04-04">4 April 2023</time></p>
   <div data-fill-with="spec-metadata">
    <dl>
     <dt>This version:
     <dd><a class="u-url" href="https://wicg.github.io/attribution-reporting-api">https://wicg.github.io/attribution-reporting-api</a>
     <dt>Issue Tracking:
     <dd><a href="https://github.com/WICG/attribution-reporting-api/issues/">GitHub</a>
     <dd><a href="#issues-index">Inline In Spec</a>
     <dt class="editor">Editors:
     <dd class="editor p-author h-card vcard"><a class="p-name fn u-email email" href="mailto:csharrison@chromium.org">Charlie Harrison</a> (<a class="p-org org" href="https://google.com">Google Inc.</a>)
     <dd class="editor p-author h-card vcard"><a class="p-name fn u-email email" href="mailto:johnidel@chromium.org">John Delaney</a> (<a class="p-org org" href="https://google.com">Google Inc.</a>)
     <dd class="editor p-author h-card vcard"><a class="p-name fn u-email email" href="mailto:apaseltiner@chromium.org">Andrew Paseltiner</a> (<a class="p-org org" href="https://google.com">Google Inc.</a>)
    </dl>
   </div>
   <div data-fill-with="warning"></div>
   <p class="copyright" data-fill-with="copyright"><a href="http://www.w3.org/Consortium/Legal/ipr-notice#Copyright">Copyright</a> © 2023 the Contributors to the Attribution Reporting Specification, published by the <a href="https://www.w3.org/community/wicg/">Web Platform Incubator Community Group</a> under the <a href="https://www.w3.org/community/about/agreements/cla/">W3C Community Contributor License Agreement (CLA)</a>.
A human-readable <a href="http://www.w3.org/community/about/agreements/cla-deed/">summary</a> is available. </p>
   <hr title="Separator for header">
  </div>
  <div class="p-summary" data-fill-with="abstract">
   <h2 class="no-num no-toc no-ref heading settled" id="abstract"><span class="content">Abstract</span></h2>
   <p>An API to report that an event may have been caused by another cross-site event. These reports are designed to transfer little enough data between sites that the sites can’t use them to track individual users.</p>
  </div>
  <div data-fill-with="at-risk"></div>
  <h2 class="no-num no-toc no-ref heading settled" id="status"><span class="content">Status of this document</span></h2>
  <div data-fill-with="status">
   <p> This specification was published by the <a href="https://www.w3.org/community/wicg/">Web Platform Incubator Community Group</a>.
  It is not a W3C Standard nor is it on the W3C Standards Track.

  Please note that under the <a href="https://www.w3.org/community/about/agreements/cla/">W3C Community Contributor License Agreement (CLA)</a> there is a limited opt-out and other conditions apply.

  Learn more about <a href="http://www.w3.org/community/">W3C Community and Business Groups</a>. </p>
   <p></p>
  </div>
  <div data-fill-with="at-risk"></div>
  <nav data-fill-with="table-of-contents" id="toc">
   <h2 class="no-num no-toc no-ref" id="contents">Table of Contents</h2>
   <ol class="toc" role="directory">
    <li>
     <a href="#intro"><span class="secno">1</span> <span class="content">Introduction</span></a>
     <ol class="toc">
      <li><a href="#overview"><span class="secno">1.1</span> <span class="content">Overview</span></a>
     </ol>
    <li>
     <a href="#html-monkeypatches"><span class="secno">2</span> <span class="content">HTML monkeypatches</span></a>
     <ol class="toc">
      <li><a href="#monkeypatch-attributionsrc"><span class="secno">2.1</span> <span class="content">API for elements</span></a>
      <li><a href="#monkeypatch-window-open"><span class="secno">2.2</span> <span class="content">Window open steps</span></a>
     </ol>
    <li><a href="#fetch-monkeypatches"><span class="secno">3</span> <span class="content">Fetch monkeypatches</span></a>
    <li><a href="#permission-policy-integration"><span class="secno">4</span> <span class="content">Permissions Policy integration</span></a>
    <li><a href="#clear-site-data-integration"><span class="secno">5</span> <span class="content">Clear Site Data integration</span></a>
    <li>
     <a href="#structures"><span class="secno">6</span> <span class="content">Structures</span></a>
     <ol class="toc">
      <li><a href="#trigger-state"><span class="secno">6.1</span> <span class="content">Trigger state</span></a>
      <li><a href="#randomized-response-output-configuration"><span class="secno">6.2</span> <span class="content">Randomized response output configuration</span></a>
      <li><a href="#randomized-source-response"><span class="secno">6.3</span> <span class="content">Randomized source response</span></a>
      <li><a href="#attribution-filtering"><span class="secno">6.4</span> <span class="content">Attribution filtering</span></a>
      <li><a href="#suitable-origin"><span class="secno">6.5</span> <span class="content">Suitable origin</span></a>
      <li><a href="#source-type-header"><span class="secno">6.6</span> <span class="content">Source type</span></a>
      <li><a href="#attribution-source"><span class="secno">6.7</span> <span class="content">Attribution source</span></a>
      <li><a href="#aggregatable-trigger-data"><span class="secno">6.8</span> <span class="content">Aggregatable trigger data</span></a>
      <li><a href="#aggregatable-dedup-key"><span class="secno">6.9</span> <span class="content">Aggregatable dedup key</span></a>
      <li><a href="#event-level-trigger-configuration"><span class="secno">6.10</span> <span class="content">Event-level trigger configuration</span></a>
      <li><a href="#aggregation-coordinator-header"><span class="secno">6.11</span> <span class="content">Aggregation coordinator</span></a>
      <li><a href="#attribution-trigger"><span class="secno">6.12</span> <span class="content">Attribution trigger</span></a>
      <li><a href="#attribution-report"><span class="secno">6.13</span> <span class="content">Attribution report</span></a>
      <li><a href="#event-level-report"><span class="secno">6.14</span> <span class="content">Event-level report</span></a>
      <li><a href="#aggregatable-contribution"><span class="secno">6.15</span> <span class="content">Aggregatable contribution</span></a>
      <li><a href="#aggregatable-report"><span class="secno">6.16</span> <span class="content">Aggregatable report</span></a>
      <li><a href="#attribution-rate-limits"><span class="secno">6.17</span> <span class="content">Attribution rate-limits</span></a>
      <li><a href="#attribution-debug-data"><span class="secno">6.18</span> <span class="content">Attribution debug data</span></a>
      <li><a href="#attribution-debug-report"><span class="secno">6.19</span> <span class="content">Attribution debug report</span></a>
      <li><a href="#triggering-result"><span class="secno">6.20</span> <span class="content">Triggering result</span></a>
     </ol>
    <li><a href="#storage"><span class="secno">7</span> <span class="content">Storage</span></a>
    <li><a href="#vendor-specific-values"><span class="secno">8</span> <span class="content">Vendor-Specific Values</span></a>
    <li>
     <a href="#general-algorithms"><span class="secno">9</span> <span class="content">General Algorithms</span></a>
     <ol class="toc">
      <li><a href="#serialize-integer"><span class="secno">9.1</span> <span class="content">Serialize an integer</span></a>
      <li><a href="#serialize-destinations"><span class="secno">9.2</span> <span class="content">Serialize attribution destinations</span></a>
      <li><a href="#parsing-filter-data"><span class="secno">9.3</span> <span class="content">Parsing filter data</span></a>
      <li><a href="#parsing-filters"><span class="secno">9.4</span> <span class="content">Parsing filters</span></a>
      <li><a href="#debug-keys"><span class="secno">9.5</span> <span class="content">Cookie-based debugging</span></a>
      <li><a href="#obtaining-randomized-response"><span class="secno">9.6</span> <span class="content">Obtaining a randomized response</span></a>
      <li><a href="#parsing-aggregation-key-piece"><span class="secno">9.7</span> <span class="content">Parsing aggregation key piece</span></a>
      <li><a href="#can-attribution-rate-limit-record-be-removed"><span class="secno">9.8</span> <span class="content">Can attribution rate-limit record be removed</span></a>
      <li><a href="#obtaining-and-delivering-debug-report"><span class="secno">9.9</span> <span class="content">Obtaining and delivering an attribution debug report</span></a>
      <li><a href="#making-a-background-attributionsrc-request"><span class="secno">9.10</span> <span class="content">Making a background attributionsrc request</span></a>
     </ol>
    <li>
     <a href="#source-algorithms"><span class="secno">10</span> <span class="content">Source Algorithms</span></a>
     <ol class="toc">
      <li><a href="#obtaining-randomized-source-response"><span class="secno">10.1</span> <span class="content">Obtaining a randomized source response</span></a>
      <li><a href="#obtaining-attribution-source-anchor"><span class="secno">10.2</span> <span class="content">Obtaining an attribution source from an <code>a</code> element</span></a>
      <li><a href="#obtaining-attribution-source-window-features"><span class="secno">10.3</span> <span class="content">Obtaining an attribution source from window features</span></a>
      <li><a href="#parsing-source-registration"><span class="secno">10.4</span> <span class="content">Parsing source-registration JSON</span></a>
      <li><a href="#processing-an-attribution-source"><span class="secno">10.5</span> <span class="content">Processing an attribution source</span></a>
     </ol>
    <li>
     <a href="#trigger-algorithms"><span class="secno">11</span> <span class="content">Triggering Algorithms</span></a>
     <ol class="toc">
      <li><a href="#attribution-trigger-creation"><span class="secno">11.1</span> <span class="content">Creating an attribution trigger</span></a>
      <li><a href="#does-filter-data-match"><span class="secno">11.2</span> <span class="content">Does filter data match</span></a>
      <li><a href="#should-block-attribution-for-attribution-limit"><span class="secno">11.3</span> <span class="content">Should attribution be blocked by attribution rate limit</span></a>
      <li><a href="#should-block-processing-for-reporting-endpoint-limit"><span class="secno">11.4</span> <span class="content">Should processing be blocked by reporting-endpoint limit</span></a>
      <li><a href="#should-block-attribution-for-rate-limits"><span class="secno">11.5</span> <span class="content">Should attribution be blocked by rate limits</span></a>
      <li><a href="#creating-aggregatable-contributions"><span class="secno">11.6</span> <span class="content">Creating aggregatable contributions</span></a>
      <li><a href="#can-source-create-aggregatable-contributions"><span class="secno">11.7</span> <span class="content">Can source create aggregatable contributions</span></a>
      <li><a href="#obtaining-trigger-debug-data"><span class="secno">11.8</span> <span class="content">Obtaining debug data on trigger registration</span></a>
      <li><a href="#triggering-event-level-attribution"><span class="secno">11.9</span> <span class="content">Triggering event-level attribution</span></a>
      <li><a href="#triggering-aggregatable-attribution"><span class="secno">11.10</span> <span class="content">Triggering aggregatable attribution</span></a>
      <li><a href="#triggering-attribution"><span class="secno">11.11</span> <span class="content">Triggering attribution</span></a>
      <li><a href="#delivery-time"><span class="secno">11.12</span> <span class="content">Establishing report delivery time</span></a>
      <li><a href="#obtaining-an-event-level-report"><span class="secno">11.13</span> <span class="content">Obtaining an event-level report</span></a>
      <li><a href="#obtaining-required-aggregatable-budget"><span class="secno">11.14</span> <span class="content">Obtaining an aggregatable report’s required budget</span></a>
      <li><a href="#obtaining-an-aggregatable-report"><span class="secno">11.15</span> <span class="content">Obtaining an aggregatable report</span></a>
     </ol>
    <li>
     <a href="#report-delivery"><span class="secno">12</span> <span class="content">Report delivery</span></a>
     <ol class="toc">
      <li><a href="#encode-integer"><span class="secno">12.1</span> <span class="content">Encode an unsigned k-bit integer</span></a>
      <li><a href="#obtain-aggregatable-report-debug-mode"><span class="secno">12.2</span> <span class="content">Obtaining an aggregatable report’s debug mode</span></a>
      <li><a href="#obtain-aggregatable-report-shared-info"><span class="secno">12.3</span> <span class="content">Obtaining an aggregatable report’s shared info</span></a>
      <li><a href="#obtain-aggregatable-report-aggregation-service-payloads"><span class="secno">12.4</span> <span class="content">Obtaining an aggregatable report’s aggregation service payloads</span></a>
      <li><a href="#serialize-report-body"><span class="secno">12.5</span> <span class="content">Serialize attribution report body</span></a>
      <li><a href="#serialize-debug-report-body"><span class="secno">12.6</span> <span class="content">Serialize attribution debug report body</span></a>
      <li><a href="#get-report-url"><span class="secno">12.7</span> <span class="content">Get report request URL</span></a>
      <li><a href="#create-report-request"><span class="secno">12.8</span> <span class="content">Creating a report request</span></a>
      <li><a href="#get-report-headers"><span class="secno">12.9</span> <span class="content">Get report request headers</span></a>
      <li><a href="#issue-report-request"><span class="secno">12.10</span> <span class="content">Issuing a report request</span></a>
      <li><a href="#issue-debug-report-request"><span class="secno">12.11</span> <span class="content">Issuing a debug report request</span></a>
      <li><a href="#issue-verbose-debug-report-request"><span class="secno">12.12</span> <span class="content">Issuing a verbose debug request</span></a>
     </ol>
    <li><a href="#cross-app-and-web"><span class="secno">13</span> <span class="content">Cross App and Web Algorithms</span></a>
    <li><a href="#security-considerations"><span class="secno">14</span> <span class="content">Security considerations</span></a>
    <li>
     <a href="#privacy-considerations"><span class="secno">15</span> <span class="content">Privacy consideration</span></a>
     <ol class="toc">
      <li><a href="#clearing-attribution-storage"><span class="secno">15.1</span> <span class="content">Clearing attribution storage</span></a>
     </ol>
    <li>
     <a href="#w3c-conformance"><span class="secno"></span> <span class="content">Conformance</span></a>
     <ol class="toc">
      <li><a href="#w3c-conventions"><span class="secno"></span> <span class="content">Document conventions</span></a>
      <li><a href="#w3c-conformant-algorithms"><span class="secno"></span> <span class="content">Conformant Algorithms</span></a>
     </ol>
    <li>
     <a href="#index"><span class="secno"></span> <span class="content">Index</span></a>
     <ol class="toc">
      <li><a href="#index-defined-here"><span class="secno"></span> <span class="content">Terms defined by this specification</span></a>
      <li><a href="#index-defined-elsewhere"><span class="secno"></span> <span class="content">Terms defined by reference</span></a>
     </ol>
    <li>
     <a href="#references"><span class="secno"></span> <span class="content">References</span></a>
     <ol class="toc">
      <li><a href="#normative"><span class="secno"></span> <span class="content">Normative References</span></a>
      <li><a href="#informative"><span class="secno"></span> <span class="content">Informative References</span></a>
     </ol>
    <li><a href="#idl-index"><span class="secno"></span> <span class="content">IDL Index</span></a>
    <li><a href="#issues-index"><span class="secno"></span> <span class="content">Issues Index</span></a>
   </ol>
  </nav>
  <main>
   <h2 class="heading settled" data-level="1" id="intro"><span class="secno">1. </span><span class="content">Introduction</span><a class="self-link" href="#intro"></a></h2>
   <p><em>This section is non-normative</em></p>
   <p>This specification describes how web browsers can provide a mechanism to the
web that supports measuring and attributing conversions (e.g. purchases) to ads
a user interacted with on another site. This mechanism should remove one need
for cross-site identifiers like third-party cookies.</p>
   <h3 class="heading settled" data-level="1.1" id="overview"><span class="secno">1.1. </span><span class="content">Overview</span><a class="self-link" href="#overview"></a></h3>
   <p>Pages/embedded sites are given the ability to register <a data-link-type="dfn" href="#attribution-source" id="ref-for-attribution-source">attribution sources</a> and <a data-link-type="dfn" href="#attribution-trigger" id="ref-for-attribution-trigger">attribution triggers</a>, which can be linked by the User Agent to generate and
send <a data-link-type="dfn" href="#attribution-report" id="ref-for-attribution-report">attribution reports</a> containing information from both of those events.</p>
   <p>A reporter <code>https://reporter.example</code> embedded on <code>https://source.example</code> is able to
measure whether an iteraction on the page lead to an action on <code>https://destination.example</code> by registering an <a data-link-type="dfn" href="#attribution-source" id="ref-for-attribution-source①">attribution source</a> with <a data-link-type="dfn" href="#attribution-source-attribution-destinations" id="ref-for-attribution-source-attribution-destinations">attribution destinations</a> of « <code>https://destination.example</code> ». Reporters are able to register sources through a variety
of surfaces, but ultimately the reporter is required to provide the User Agent with an
HTTP-response header which allows the source to be eligible for attribution.</p>
   <p>At a later point in time, the reporter, now embedded on <code>https://destination.example</code>,
may register an <a data-link-type="dfn" href="#attribution-trigger" id="ref-for-attribution-trigger①">attribution trigger</a>. Reporters can register triggers by sending an
HTTP-response header containing information about the action/event that occurred. Internally,
the User Agent attempts to match the trigger to previously registered source events based on
where the sources/triggers were registered and configurations provided by the reporter.</p>
   <p>If the User Agent is able to attribute the trigger to a source, it will generate and
send an <a data-link-type="dfn" href="#attribution-report" id="ref-for-attribution-report①">attribution report</a> to the reporter via an HTTP POST request at a later point
in time.</p>
   <h2 class="heading settled" data-level="2" id="html-monkeypatches"><span class="secno">2. </span><span class="content">HTML monkeypatches</span><a class="self-link" href="#html-monkeypatches"></a></h2>
   <h3 class="heading settled" data-level="2.1" id="monkeypatch-attributionsrc"><span class="secno">2.1. </span><span class="content">API for elements</span><a class="self-link" href="#monkeypatch-attributionsrc"></a></h3>
<pre class="idl highlight def"><c- b>interface</c-> <c- b>mixin</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="interface" data-export id="htmlattributionsrcelementutils"><code><c- g>HTMLAttributionSrcElementUtils</c-></code></dfn> {
    [<a class="idl-code" data-link-type="extended-attribute" href="https://html.spec.whatwg.org/multipage/custom-elements.html#cereactions" id="ref-for-cereactions"><c- g>CEReactions</c-></a>] <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString" id="ref-for-idl-USVString"><c- b>USVString</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="HTMLAttributionSrcElementUtils" data-dfn-type="attribute" data-export data-type="USVString" id="dom-htmlattributionsrcelementutils-attributionsrc"><code><c- g>attributionSrc</c-></code></dfn>;
};

<a data-link-type="idl-name" href="https://html.spec.whatwg.org/multipage/text-level-semantics.html#htmlanchorelement" id="ref-for-htmlanchorelement"><c- n>HTMLAnchorElement</c-></a> <c- b>includes</c-> <a data-link-type="idl-name" href="#htmlattributionsrcelementutils" id="ref-for-htmlattributionsrcelementutils"><c- n>HTMLAttributionSrcElementUtils</c-></a>;
<a data-link-type="idl-name" href="https://html.spec.whatwg.org/multipage/embedded-content.html#htmlimageelement" id="ref-for-htmlimageelement"><c- n>HTMLImageElement</c-></a> <c- b>includes</c-> <a data-link-type="idl-name" href="#htmlattributionsrcelementutils" id="ref-for-htmlattributionsrcelementutils①"><c- n>HTMLAttributionSrcElementUtils</c-></a>;
<a data-link-type="idl-name" href="https://html.spec.whatwg.org/multipage/scripting.html#htmlscriptelement" id="ref-for-htmlscriptelement"><c- n>HTMLScriptElement</c-></a> <c- b>includes</c-> <a data-link-type="idl-name" href="#htmlattributionsrcelementutils" id="ref-for-htmlattributionsrcelementutils②"><c- n>HTMLAttributionSrcElementUtils</c-></a>;
</pre>
   <p>Add the following <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/dom.html#concept-element-attributes" id="ref-for-concept-element-attributes">content attributes</a>:</p>
   <dl>
    <dt data-md><code><a data-link-type="element" href="https://html.spec.whatwg.org/multipage/text-level-semantics.html#the-a-element" id="ref-for-the-a-element">a</a></code>
    <dd data-md>
     <p><code>attributionsrc</code> - <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url" id="ref-for-concept-url">URL</a> for attribution registration</p>
    <dt data-md><code><a data-link-type="element" href="https://html.spec.whatwg.org/multipage/embedded-content.html#the-img-element" id="ref-for-the-img-element">img</a></code>
    <dd data-md>
     <p><code>attributionsrc</code> - <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url" id="ref-for-concept-url①">URL</a> for attribution registration</p>
    <dt data-md><code><a data-link-type="element" href="https://html.spec.whatwg.org/multipage/scripting.html#script" id="ref-for-script">script</a></code>
    <dd data-md>
     <p><code>attributionsrc</code> - <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url" id="ref-for-concept-url②">URL</a> for attribution registration</p>
   </dl>
   <p>Add the following content attribute descriptions:</p>
   <dl>
    <dt data-md><code><a data-link-type="element" href="https://html.spec.whatwg.org/multipage/text-level-semantics.html#the-a-element" id="ref-for-the-a-element①">a</a></code>
    <dd data-md>
     <p>The <dfn class="dfn-paneled" data-dfn-for="a" data-dfn-type="element-attr" data-export id="element-attrdef-a-attributionsrc"><code>attributionsrc</code></dfn> attribute is a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string" id="ref-for-string">string</a> representing the <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url" id="ref-for-concept-url③">URL</a> of the resource that will register an <a data-link-type="dfn" href="#attribution-source" id="ref-for-attribution-source②">attribution source</a> when the <code><a data-link-type="element" href="https://html.spec.whatwg.org/multipage/text-level-semantics.html#the-a-element" id="ref-for-the-a-element②">a</a></code> is navigated.</p>
    <dt data-md><code><a data-link-type="element" href="https://html.spec.whatwg.org/multipage/embedded-content.html#the-img-element" id="ref-for-the-img-element①">img</a></code>
    <dd data-md>
     <p>The <dfn data-dfn-for="img" data-dfn-type="element-attr" data-export id="element-attrdef-img-attributionsrc"><code>attributionsrc</code><a class="self-link" href="#element-attrdef-img-attributionsrc"></a></dfn> attribute is a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string" id="ref-for-string①">string</a> representing the <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url" id="ref-for-concept-url④">URL</a> of the resource that will register an <a data-link-type="dfn" href="#attribution-source" id="ref-for-attribution-source③">attribution source</a> or <a data-link-type="dfn" href="#attribution-trigger" id="ref-for-attribution-trigger②">attribution trigger</a> when set.</p>
    <dt data-md><code><a data-link-type="element" href="https://html.spec.whatwg.org/multipage/scripting.html#script" id="ref-for-script①">script</a></code>
    <dd data-md>
     <p>The <dfn data-dfn-for="script" data-dfn-type="element-attr" data-export id="element-attrdef-script-attributionsrc"><code>attributionsrc</code><a class="self-link" href="#element-attrdef-script-attributionsrc"></a></dfn> attribute is a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string" id="ref-for-string②">string</a> representing the <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url" id="ref-for-concept-url⑤">URL</a> of the resource that will register an <a data-link-type="dfn" href="#attribution-source" id="ref-for-attribution-source④">attribution source</a> or <a data-link-type="dfn" href="#attribution-trigger" id="ref-for-attribution-trigger③">attribution trigger</a> when set.</p>
   </dl>
   <p>The IDL attribute <code class="idl"><a data-link-type="idl" href="#dom-htmlattributionsrcelementutils-attributionsrc" id="ref-for-dom-htmlattributionsrcelementutils-attributionsrc">attributionSrc</a></code> must <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/common-dom-interfaces.html#reflect" id="ref-for-reflect">reflect</a> the respective content attribute of the same
name.</p>
   <p>Whenever an <code><a data-link-type="element" href="https://html.spec.whatwg.org/multipage/embedded-content.html#the-img-element" id="ref-for-the-img-element②">img</a></code> or a <code><a data-link-type="element" href="https://html.spec.whatwg.org/multipage/scripting.html#script" id="ref-for-script②">script</a></code> <var>element</var> is created or <var>element</var>’s <code class="idl"><a data-link-type="idl" href="#dom-htmlattributionsrcelementutils-attributionsrc" id="ref-for-dom-htmlattributionsrcelementutils-attributionsrc①">attributionSrc</a></code> attribute is set or changed,
run the following steps:</p>
   <ol>
    <li data-md>
     <p>Let <var>attributionSrc</var> be <var>element</var>’s <code class="idl"><a data-link-type="idl" href="#dom-htmlattributionsrcelementutils-attributionsrc" id="ref-for-dom-htmlattributionsrcelementutils-attributionsrc②">attributionSrc</a></code>.</p>
    <li data-md>
     <p>Let <var>tokens</var> be the result of <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#split-on-ascii-whitespace" id="ref-for-split-on-ascii-whitespace">splitting</a> <var>attributionSrc</var> on ASCII
whitespace.</p>
    <li data-md>
     <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-iterate" id="ref-for-list-iterate">For each</a> <var>token</var> of <var>tokens</var>:</p>
     <ol>
      <li data-md>
       <p>Parse <var>token</var>, relative to <var>element</var>’s node document. If that is not
successful, <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#iteration-continue" id="ref-for-iteration-continue">continue</a>. Otherwise, let <var>url</var> be the
resulting <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url" id="ref-for-concept-url⑥">URL record</a>.</p>
      <li data-md>
       <p>Run <a data-link-type="dfn" href="#make-a-background-attributionsrc-request" id="ref-for-make-a-background-attributionsrc-request">make a background attributionsrc request</a> with <var>url</var>, <var>contextOrigin</var>, "<code><a data-link-type="dfn" href="#eligibility-event-source-trigger" id="ref-for-eligibility-event-source-trigger">event-source, trigger</a></code>",
and <var>element</var>’s node document’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#relevant-settings-object" id="ref-for-relevant-settings-object">relevant settings object</a>.</p>
     </ol>
   </ol>
   <p class="issue" id="issue-0f6e3885"><a class="self-link" href="#issue-0f6e3885"></a> Set <var>contextOrigin</var> properly.</p>
   <p class="issue" id="issue-cdf1dda4"><a class="self-link" href="#issue-cdf1dda4"></a> Add links to "Parse" and "node document".</p>
   <p class="issue" id="issue-4cc8b8aa"><a class="self-link" href="#issue-4cc8b8aa"></a> Consider allowing the user agent to limit the size of <var>tokens</var>.</p>
   <p class="issue" id="issue-80ca5c3f"><a class="self-link" href="#issue-80ca5c3f"></a> Specify when to make background attributionsrc requests for <code><a data-link-type="element" href="https://html.spec.whatwg.org/multipage/text-level-semantics.html#the-a-element" id="ref-for-the-a-element③">a</a></code>.</p>
   <h3 class="heading settled" data-level="2.2" id="monkeypatch-window-open"><span class="secno">2.2. </span><span class="content">Window open steps</span><a class="self-link" href="#monkeypatch-window-open"></a></h3>
   <p class="issue" id="issue-adb5eac2"><a class="self-link" href="#issue-adb5eac2"></a> Monkeypatch <code>window.open()</code>.</p>
   <h2 class="heading settled" data-level="3" id="fetch-monkeypatches"><span class="secno">3. </span><span class="content">Fetch monkeypatches</span><a class="self-link" href="#fetch-monkeypatches"></a></h2>
   <p class="issue" id="issue-963bda2b"><a class="self-link" href="#issue-963bda2b"></a> Specify monkeypatches for source/trigger registration.</p>
   <h2 class="heading settled" data-level="4" id="permission-policy-integration"><span class="secno">4. </span><span class="content">Permissions Policy integration</span><a class="self-link" href="#permission-policy-integration"></a></h2>
   <p>This specification defines a <a data-link-type="dfn" href="https://w3c.github.io/webappsec-permissions-policy/#policy-controlled-feature" id="ref-for-policy-controlled-feature">policy-controlled feature</a> identified by the string "<code><dfn data-dfn-type="dfn" data-noexport id="attribution-reporting">attribution-reporting<a class="self-link" href="#attribution-reporting"></a></dfn></code>".
Its <a data-link-type="dfn" href="https://w3c.github.io/webappsec-permissions-policy/#policy-controlled-feature-default-allowlist" id="ref-for-policy-controlled-feature-default-allowlist">default allowlist</a> is <a href="https://w3c.github.io/webappsec-permissions-policy/#default-allowlist"><code>*</code></a>.</p>
   <h2 class="heading settled" data-level="5" id="clear-site-data-integration"><span class="secno">5. </span><span class="content">Clear Site Data integration</span><a class="self-link" href="#clear-site-data-integration"></a></h2>
   <p>In <a data-link-type="dfn" href="https://w3c.github.io/webappsec-clear-site-data/#abstract-opdef-clear-dom-accessible-storage-for-origin" id="ref-for-abstract-opdef-clear-dom-accessible-storage-for-origin">clear DOM-accessible storage for origin</a>, add the following step:</p>
   <blockquote>
    <ol start="7">
     <li data-md>
      <p>Run <a data-link-type="dfn" href="#clear-site-data" id="ref-for-clear-site-data">clear site data</a> with <var>origin</var>.</p>
    </ol>
   </blockquote>
   <p>To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="clear-site-data">clear site data</dfn> given an <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#concept-origin" id="ref-for-concept-origin">origin</a> <var>origin</var>:</p>
   <ol>
    <li data-md>
     <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-iterate" id="ref-for-list-iterate①">For each</a> <a data-link-type="dfn" href="#attribution-source" id="ref-for-attribution-source⑤">attribution source</a> <var>source</var> of the <a data-link-type="dfn" href="#attribution-source-cache" id="ref-for-attribution-source-cache">attribution source cache</a>:</p>
     <ol>
      <li data-md>
       <p>If <var>source</var>’s <a data-link-type="dfn" href="#attribution-source-reporting-endpoint" id="ref-for-attribution-source-reporting-endpoint">reporting endpoint</a> and <var>origin</var> are <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#same-origin" id="ref-for-same-origin">same origin</a>, <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-remove" id="ref-for-list-remove">remove</a> <var>source</var> from the <a data-link-type="dfn" href="#attribution-source-cache" id="ref-for-attribution-source-cache①">attribution source cache</a>.</p>
     </ol>
    <li data-md>
     <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-iterate" id="ref-for-list-iterate②">For each</a> <a data-link-type="dfn" href="#event-level-report" id="ref-for-event-level-report">event-level report</a> <var>report</var> of the <a data-link-type="dfn" href="#event-level-report-cache" id="ref-for-event-level-report-cache">event-level report cache</a>:</p>
     <ol>
      <li data-md>
       <p>If <var>report</var>’s <a data-link-type="dfn" href="#attribution-report-reporting-endpoint" id="ref-for-attribution-report-reporting-endpoint">reporting endpoint</a> and <var>origin</var> are <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#same-origin" id="ref-for-same-origin①">same origin</a>, <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-remove" id="ref-for-list-remove①">remove</a> <var>report</var> from the <a data-link-type="dfn" href="#event-level-report-cache" id="ref-for-event-level-report-cache①">event-level report cache</a>.</p>
     </ol>
    <li data-md>
     <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-iterate" id="ref-for-list-iterate③">For each</a> <a data-link-type="dfn" href="#aggregatable-report" id="ref-for-aggregatable-report">aggregatable report</a> <var>report</var> of the <a data-link-type="dfn" href="#aggregatable-report-cache" id="ref-for-aggregatable-report-cache">aggregatable report cache</a>:</p>
     <ol>
      <li data-md>
       <p>If <var>report</var>’s <a data-link-type="dfn" href="#attribution-report-reporting-endpoint" id="ref-for-attribution-report-reporting-endpoint①">reporting endpoint</a> and <var>origin</var> are <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#same-origin" id="ref-for-same-origin②">same origin</a>, <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-remove" id="ref-for-list-remove②">remove</a> <var>report</var> from the <a data-link-type="dfn" href="#aggregatable-report-cache" id="ref-for-aggregatable-report-cache①">aggregatable report cache</a>.</p>
     </ol>
   </ol>
   <p class="note" role="note"><span class="marker">Note:</span> We deliberately do <em>not</em> remove matching entries from the <a data-link-type="dfn" href="#attribution-rate-limit-cache" id="ref-for-attribution-rate-limit-cache">attribution rate-limit cache</a>, as doing so would allow a site to reset and
therefore exceed the intended rate limits at will.</p>
   <h2 class="heading settled" data-level="6" id="structures"><span class="secno">6. </span><span class="content">Structures</span><a class="self-link" href="#structures"></a></h2>
   <h3 class="heading settled dfn-paneled" data-dfn-type="dfn" data-level="6.1" data-lt="Trigger state" data-noexport id="trigger-state"><span class="secno">6.1. </span><span class="content">Trigger state</span><a class="self-link" href="#trigger-state" id="ref-for-trigger-state"></a></h3>
   <p>A trigger state is a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#struct" id="ref-for-struct">struct</a> with the following items:</p>
   <dl>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="trigger state" data-dfn-type="dfn" data-noexport id="trigger-state-trigger-data">trigger data</dfn>
    <dd data-md>
     <p>A non-negative 64-bit integer.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="trigger state" data-dfn-type="dfn" data-noexport id="trigger-state-report-window">report window</dfn>
    <dd data-md>
     <p>A non-negative integer.</p>
   </dl>
   <h3 class="heading settled dfn-paneled" data-dfn-type="dfn" data-level="6.2" data-lt="Randomized response output configuration" data-noexport id="randomized-response-output-configuration"><span class="secno">6.2. </span><span class="content">Randomized response output configuration</span><a class="self-link" href="#randomized-response-output-configuration" id="ref-for-randomized-response-output-configuration"></a></h3>
   <p>A randomized response output configuration is a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#struct" id="ref-for-struct①">struct</a> with the following items:</p>
   <dl>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="randomized response output configuration" data-dfn-type="dfn" data-noexport id="randomized-response-output-configuration-max-attributions-per-source">max attributions per source</dfn>
    <dd data-md>
     <p>A positive integer.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="randomized response output configuration" data-dfn-type="dfn" data-noexport id="randomized-response-output-configuration-trigger-data-cardinality">trigger data cardinality</dfn>
    <dd data-md>
     <p>A positive integer.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="randomized response output configuration" data-dfn-type="dfn" data-noexport id="randomized-response-output-configuration-num-report-windows">num report windows</dfn>
    <dd data-md>
     <p>A positive integer.</p>
   </dl>
   <h3 class="heading settled dfn-paneled" data-dfn-type="dfn" data-level="6.3" data-lt="Randomized source response" data-noexport id="randomized-source-response"><span class="secno">6.3. </span><span class="content">Randomized source response</span><a class="self-link" href="#randomized-source-response" id="ref-for-randomized-source-response"></a></h3>
   <p>A randomized source response is null or a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-set" id="ref-for-ordered-set">set</a> of <a data-link-type="dfn" href="#trigger-state" id="ref-for-trigger-state④">trigger states</a>.</p>
   <h3 class="heading settled" data-level="6.4" id="attribution-filtering"><span class="secno">6.4. </span><span class="content">Attribution filtering</span><a class="self-link" href="#attribution-filtering"></a></h3>
   <p>A <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="filter-value">filter value</dfn> is an <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-set" id="ref-for-ordered-set①">ordered set</a> of <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string" id="ref-for-string③">strings</a>.</p>
   <p>A <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="filter-map">filter map</dfn> is an <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-map" id="ref-for-ordered-map">ordered map</a> whose <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-key" id="ref-for-map-key">keys</a> are <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string" id="ref-for-string④">strings</a> and whose <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-value" id="ref-for-map-value">values</a> are <a data-link-type="dfn" href="#filter-value" id="ref-for-filter-value">filter values</a>.</p>
   <h3 class="heading settled dfn-paneled" data-dfn-type="dfn" data-level="6.5" data-lt="Suitable origin" data-noexport id="suitable-origin"><span class="secno">6.5. </span><span class="content">Suitable origin</span><a class="self-link" href="#suitable-origin" id="ref-for-suitable-origin"></a></h3>
   <p>A suitable origin is an <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#concept-origin" id="ref-for-concept-origin①">origin</a> that is <a data-link-type="dfn" href="#check-if-an-origin-is-suitable" id="ref-for-check-if-an-origin-is-suitable">suitable</a>.</p>
   <h3 class="heading settled" data-level="6.6" id="source-type-header"><span class="secno">6.6. </span><span class="content">Source type</span><a class="self-link" href="#source-type-header"></a></h3>
   <p>A <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="source-type">source type</dfn> is one of the following:</p>
   <dl>
    <dt data-md>"<dfn class="dfn-paneled" data-dfn-for="source type" data-dfn-type="dfn" data-noexport id="source-type-navigation"><code>navigation</code></dfn>"
    <dd data-md>
     <p>The source was associated with a top-level navigation.</p>
    <dt data-md>"<dfn class="dfn-paneled" data-dfn-for="source type" data-dfn-type="dfn" data-noexport id="source-type-event"><code>event</code></dfn>"
    <dd data-md>
     <p>The source was not associated with a top-level navigation.</p>
   </dl>
   <h3 class="heading settled dfn-paneled" data-dfn-type="dfn" data-level="6.7" data-lt="Attribution source" data-noexport id="attribution-source"><span class="secno">6.7. </span><span class="content">Attribution source</span><a class="self-link" href="#attribution-source" id="ref-for-attribution-source⑤④"></a></h3>
   <p>An attribution source is a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#struct" id="ref-for-struct②">struct</a> with the following items:</p>
   <dl>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="attribution source" data-dfn-type="dfn" data-noexport id="attribution-source-source-identifier">source identifier</dfn>
    <dd data-md>
     <p>A <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string" id="ref-for-string⑤">string</a>.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="attribution source" data-dfn-type="dfn" data-noexport id="attribution-source-source-origin">source origin</dfn>
    <dd data-md>
     <p>A <a data-link-type="dfn" href="#suitable-origin" id="ref-for-suitable-origin①⑥">suitable origin</a>.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="attribution source" data-dfn-type="dfn" data-noexport id="attribution-source-event-id">event ID</dfn>
    <dd data-md>
     <p>A non-negative 64-bit integer.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="attribution source" data-dfn-type="dfn" data-noexport id="attribution-source-attribution-destinations">attribution destinations</dfn>
    <dd data-md>
     <p>An <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-set" id="ref-for-ordered-set②">ordered set</a> of <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#site" id="ref-for-site">sites</a>.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="attribution source" data-dfn-type="dfn" data-noexport id="attribution-source-reporting-endpoint">reporting endpoint</dfn>
    <dd data-md>
     <p>A <a data-link-type="dfn" href="#suitable-origin" id="ref-for-suitable-origin①">suitable origin</a>.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="attribution source" data-dfn-type="dfn" data-noexport id="attribution-source-source-type">source type</dfn>
    <dd data-md>
     <p>A <a data-link-type="dfn" href="#source-type" id="ref-for-source-type">source type</a>.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="attribution source" data-dfn-type="dfn" data-noexport id="attribution-source-expiry">expiry</dfn>
    <dd data-md>
     <p>A <a data-link-type="dfn" href="https://w3c.github.io/hr-time/#dfn-duration" id="ref-for-dfn-duration">duration</a>.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="attribution source" data-dfn-type="dfn" data-noexport id="attribution-source-event-report-window">event report window</dfn>
    <dd data-md>
     <p>A <a data-link-type="dfn" href="https://w3c.github.io/hr-time/#dfn-duration" id="ref-for-dfn-duration①">duration</a>.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="attribution source" data-dfn-type="dfn" data-noexport id="attribution-source-aggregatable-report-window">aggregatable report window</dfn>
    <dd data-md>
     <p>A <a data-link-type="dfn" href="https://w3c.github.io/hr-time/#dfn-duration" id="ref-for-dfn-duration②">duration</a>.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="attribution source" data-dfn-type="dfn" data-noexport id="attribution-source-priority">priority</dfn>
    <dd data-md>
     <p>A 64-bit integer.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="attribution source" data-dfn-type="dfn" data-noexport id="attribution-source-source-time">source time</dfn>
    <dd data-md>
     <p>A <a data-link-type="dfn" href="https://w3c.github.io/hr-time/#dfn-moment" id="ref-for-dfn-moment">moment</a>.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="attribution source" data-dfn-type="dfn" data-noexport id="attribution-source-number-of-event-level-reports">number of event-level reports</dfn>
    <dd data-md>
     <p>Number of <a data-link-type="dfn" href="#event-level-report" id="ref-for-event-level-report①">event-level reports</a> created for this <a data-link-type="dfn" href="#attribution-source" id="ref-for-attribution-source⑥">attribution source</a>.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="attribution source" data-dfn-type="dfn" data-noexport id="attribution-source-event-level-attributable">event-level attributable</dfn> (default true)
    <dd data-md>
     <p>A <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#boolean" id="ref-for-boolean">boolean</a>.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="attribution source" data-dfn-type="dfn" data-noexport id="attribution-source-dedup-keys">dedup keys</dfn>
    <dd data-md>
     <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-set" id="ref-for-ordered-set③">ordered set</a> of <a data-link-type="dfn" href="#event-level-trigger-configuration-dedup-key" id="ref-for-event-level-trigger-configuration-dedup-key">dedup keys</a> associated with this <a data-link-type="dfn" href="#attribution-source" id="ref-for-attribution-source⑦">attribution source</a>.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="attribution source" data-dfn-type="dfn" data-noexport id="attribution-source-randomized-response">randomized response</dfn>
    <dd data-md>
     <p>A <a data-link-type="dfn" href="#randomized-source-response" id="ref-for-randomized-source-response①">randomized source response</a>.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="attribution source" data-dfn-type="dfn" data-noexport id="attribution-source-randomized-trigger-rate">randomized trigger rate</dfn>
    <dd data-md>
     <p>A number between 0 and 1 (both inclusive).</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="attribution source" data-dfn-type="dfn" data-noexport id="attribution-source-filter-data">filter data</dfn>
    <dd data-md>
     <p>A <a data-link-type="dfn" href="#filter-map" id="ref-for-filter-map">filter map</a>.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="attribution source" data-dfn-type="dfn" data-noexport id="attribution-source-debug-key">debug key</dfn>
    <dd data-md>
     <p>Null or a non-negative 64-bit integer.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="attribution source" data-dfn-type="dfn" data-noexport id="attribution-source-aggregation-keys">aggregation keys</dfn>
    <dd data-md>
     <p>An <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-map" id="ref-for-ordered-map①">ordered map</a> whose <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-key" id="ref-for-map-key①">keys</a> are <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string" id="ref-for-string⑥">strings</a> and whose <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-value" id="ref-for-map-value①">values</a> are
non-negative 128-bit integers.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="attribution source" data-dfn-type="dfn" data-noexport id="attribution-source-aggregatable-budget-consumed">aggregatable budget consumed</dfn>
    <dd data-md>
     <p>A non-negative integer, total <a data-link-type="dfn" href="#aggregatable-contribution-value" id="ref-for-aggregatable-contribution-value">value</a> of all <a data-link-type="dfn" href="#aggregatable-contribution" id="ref-for-aggregatable-contribution">aggregatable contributions</a> created with this <a data-link-type="dfn" href="#attribution-source" id="ref-for-attribution-source⑧">attribution source</a>.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="attribution source" data-dfn-type="dfn" data-noexport id="attribution-source-aggregatable-dedup-keys">aggregatable dedup keys</dfn>
    <dd data-md>
     <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-set" id="ref-for-ordered-set④">ordered set</a> of <a data-link-type="dfn" href="#aggregatable-dedup-key-dedup-key" id="ref-for-aggregatable-dedup-key-dedup-key">aggregatable dedup key values</a> associated with this <a data-link-type="dfn" href="#attribution-source" id="ref-for-attribution-source⑨">attribution source</a>.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="attribution source" data-dfn-type="dfn" data-noexport id="attribution-source-debug-reporting-enabled">debug reporting enabled</dfn>
    <dd data-md>
     <p>A <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#boolean" id="ref-for-boolean①">boolean</a>.</p>
   </dl>
   <p>An <a data-link-type="dfn" href="#attribution-source" id="ref-for-attribution-source①⓪">attribution source</a> <var>source</var>’s <dfn class="dfn-paneled" data-dfn-for="attribution source" data-dfn-type="dfn" data-noexport id="attribution-source-expiry-time">expiry time</dfn> is <var>source</var>’s <a data-link-type="dfn" href="#attribution-source-source-time" id="ref-for-attribution-source-source-time">source time</a> + <var>source</var>’s <a data-link-type="dfn" href="#attribution-source-expiry" id="ref-for-attribution-source-expiry">expiry</a>.</p>
   <p>An <a data-link-type="dfn" href="#attribution-source" id="ref-for-attribution-source①①">attribution source</a> <var>source</var>’s <dfn class="dfn-paneled" data-dfn-for="attribution source" data-dfn-type="dfn" data-noexport id="attribution-source-event-report-window-time">event report window time</dfn> is <var>source</var>’s <a data-link-type="dfn" href="#attribution-source-source-time" id="ref-for-attribution-source-source-time①">source time</a> + <var>source</var>’s <a data-link-type="dfn" href="#attribution-source-event-report-window" id="ref-for-attribution-source-event-report-window">event report window</a>.</p>
   <p>An <a data-link-type="dfn" href="#attribution-source" id="ref-for-attribution-source①②">attribution source</a> <var>source</var>’s <dfn class="dfn-paneled" data-dfn-for="attribution source" data-dfn-type="dfn" data-noexport id="attribution-source-aggregatable-report-window-time">aggregatable report window time</dfn> is <var>source</var>’s <a data-link-type="dfn" href="#attribution-source-source-time" id="ref-for-attribution-source-source-time②">source time</a> + <var>source</var>’s <a data-link-type="dfn" href="#attribution-source-aggregatable-report-window" id="ref-for-attribution-source-aggregatable-report-window">aggregatable report window</a>.</p>
   <p>An <a data-link-type="dfn" href="#attribution-source" id="ref-for-attribution-source①③">attribution source</a> <var>source</var>’s <dfn class="dfn-paneled" data-dfn-for="attribution source" data-dfn-type="dfn" data-noexport id="attribution-source-source-site">source site</dfn> is the result
of <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#obtain-a-site" id="ref-for-obtain-a-site">obtaining a site</a> from <var>source</var>’s <a data-link-type="dfn" href="#attribution-source-source-origin" id="ref-for-attribution-source-source-origin">source origin</a>.</p>
   <h3 class="heading settled dfn-paneled" data-dfn-type="dfn" data-level="6.8" data-lt="Aggregatable trigger data" data-noexport id="aggregatable-trigger-data"><span class="secno">6.8. </span><span class="content">Aggregatable trigger data</span><a class="self-link" href="#aggregatable-trigger-data" id="ref-for-aggregatable-trigger-data"></a></h3>
   <p>An aggregatable trigger data is a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#struct" id="ref-for-struct③">struct</a> with the following items:</p>
   <dl>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="aggregatable trigger data" data-dfn-type="dfn" data-noexport id="aggregatable-trigger-data-key-piece">key piece</dfn>
    <dd data-md>
     <p>A non-negative 128-bit integer.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="aggregatable trigger data" data-dfn-type="dfn" data-noexport id="aggregatable-trigger-data-source-keys">source keys</dfn>
    <dd data-md>
     <p>An <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-set" id="ref-for-ordered-set⑤">ordered set</a> of <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string" id="ref-for-string⑦">strings</a>.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="aggregatable trigger data" data-dfn-type="dfn" data-noexport id="aggregatable-trigger-data-filters">filters</dfn>
    <dd data-md>
     <p>A <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list" id="ref-for-list">list</a> of <a data-link-type="dfn" href="#filter-map" id="ref-for-filter-map①">filter maps</a>.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="aggregatable trigger data" data-dfn-type="dfn" data-noexport id="aggregatable-trigger-data-negated-filters">negated filters</dfn>
    <dd data-md>
     <p>A <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list" id="ref-for-list①">list</a> of <a data-link-type="dfn" href="#filter-map" id="ref-for-filter-map②">filter maps</a>.</p>
   </dl>
   <h3 class="heading settled dfn-paneled" data-dfn-type="dfn" data-level="6.9" data-lt="Aggregatable dedup key" data-noexport id="aggregatable-dedup-key"><span class="secno">6.9. </span><span class="content">Aggregatable dedup key</span><a class="self-link" href="#aggregatable-dedup-key" id="ref-for-aggregatable-dedup-key"></a></h3>
   <p>An aggregatable dedup key is a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#struct" id="ref-for-struct④">struct</a> with the following items:</p>
   <dl>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="aggregatable dedup key" data-dfn-type="dfn" data-noexport id="aggregatable-dedup-key-dedup-key">dedup key</dfn>
    <dd data-md>
     <p>Null or a non-negative 64-bit integer.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="aggregatable dedup key" data-dfn-type="dfn" data-noexport id="aggregatable-dedup-key-filters">filters</dfn>
    <dd data-md>
     <p>A <a data-link-type="dfn" href="#filter-map" id="ref-for-filter-map③">filter map</a>.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="aggregatable dedup key" data-dfn-type="dfn" data-noexport id="aggregatable-dedup-key-negated-filters">negated filters</dfn>
    <dd data-md>
     <p>A <a data-link-type="dfn" href="#filter-map" id="ref-for-filter-map④">filter map</a>.</p>
   </dl>
   <h3 class="heading settled dfn-paneled" data-dfn-type="dfn" data-level="6.10" data-lt="Event-level trigger configuration" data-noexport id="event-level-trigger-configuration"><span class="secno">6.10. </span><span class="content">Event-level trigger configuration</span><a class="self-link" href="#event-level-trigger-configuration" id="ref-for-event-level-trigger-configuration"></a></h3>
   <p>An event-level trigger configuration is a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#struct" id="ref-for-struct⑤">struct</a> with the following items:</p>
   <dl>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="event-level trigger configuration" data-dfn-type="dfn" data-noexport id="event-level-trigger-configuration-trigger-data">trigger data</dfn>
    <dd data-md>
     <p>A non-negative 64-bit integer.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="event-level trigger configuration" data-dfn-type="dfn" data-noexport id="event-level-trigger-configuration-dedup-key">dedup key</dfn>
    <dd data-md>
     <p>Null or a non-negative 64-bit integer.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="event-level trigger configuration" data-dfn-type="dfn" data-noexport id="event-level-trigger-configuration-priority">priority</dfn>
    <dd data-md>
     <p>A 64-bit integer.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="event-level trigger configuration" data-dfn-type="dfn" data-noexport id="event-level-trigger-configuration-filters">filters</dfn>
    <dd data-md>
     <p>A <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list" id="ref-for-list②">list</a> of <a data-link-type="dfn" href="#filter-map" id="ref-for-filter-map⑤">filter maps</a>.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="event-level trigger configuration" data-dfn-type="dfn" data-noexport id="event-level-trigger-configuration-negated-filters">negated filters</dfn>
    <dd data-md>
     <p>A <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list" id="ref-for-list③">list</a> of <a data-link-type="dfn" href="#filter-map" id="ref-for-filter-map⑥">filter maps</a>.</p>
   </dl>
   <h3 class="heading settled" data-level="6.11" id="aggregation-coordinator-header"><span class="secno">6.11. </span><span class="content">Aggregation coordinator</span><a class="self-link" href="#aggregation-coordinator-header"></a></h3>
   <p>An <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="aggregation-coordinator">aggregation coordinator</dfn> is one of a user-agent-determined <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-set" id="ref-for-ordered-set⑥">set</a> of <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string" id="ref-for-string⑧">strings</a> that specifies which aggregation service deployment to use.</p>
   <h3 class="heading settled dfn-paneled" data-dfn-type="dfn" data-level="6.12" data-lt="Attribution trigger" data-noexport id="attribution-trigger"><span class="secno">6.12. </span><span class="content">Attribution trigger</span><a class="self-link" href="#attribution-trigger" id="ref-for-attribution-trigger②⓪"></a></h3>
   <p>An attribution trigger is a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#struct" id="ref-for-struct⑥">struct</a> with the following items:</p>
   <dl>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="attribution trigger" data-dfn-type="dfn" data-noexport id="attribution-trigger-attribution-destination">attribution destination</dfn>
    <dd data-md>
     <p>A <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#site" id="ref-for-site①">site</a>.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="attribution trigger" data-dfn-type="dfn" data-noexport id="attribution-trigger-trigger-time">trigger time</dfn>
    <dd data-md>
     <p>A <a data-link-type="dfn" href="https://w3c.github.io/hr-time/#dfn-moment" id="ref-for-dfn-moment①">moment</a>.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="attribution trigger" data-dfn-type="dfn" data-noexport id="attribution-trigger-reporting-endpoint">reporting endpoint</dfn>
    <dd data-md>
     <p>A <a data-link-type="dfn" href="#suitable-origin" id="ref-for-suitable-origin②">suitable origin</a>.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="attribution trigger" data-dfn-type="dfn" data-noexport id="attribution-trigger-filters">filters</dfn>
    <dd data-md>
     <p>A <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list" id="ref-for-list④">list</a> of <a data-link-type="dfn" href="#filter-map" id="ref-for-filter-map⑦">filter maps</a>.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="attribution trigger" data-dfn-type="dfn" data-noexport id="attribution-trigger-negated-filters">negated filters</dfn>
    <dd data-md>
     <p>A <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list" id="ref-for-list⑤">list</a> of <a data-link-type="dfn" href="#filter-map" id="ref-for-filter-map⑧">filter maps</a>.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="attribution trigger" data-dfn-type="dfn" data-noexport id="attribution-trigger-debug-key">debug key</dfn>
    <dd data-md>
     <p>Null or a non-negative 64-bit integer.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="attribution trigger" data-dfn-type="dfn" data-noexport id="attribution-trigger-event-level-trigger-configurations">event-level trigger configurations</dfn>
    <dd data-md>
     <p>A <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-set" id="ref-for-ordered-set⑦">set</a> of <a data-link-type="dfn" href="#event-level-trigger-configuration" id="ref-for-event-level-trigger-configuration⑤">event-level trigger configuration</a>.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="attribution trigger" data-dfn-type="dfn" data-noexport id="attribution-trigger-aggregatable-trigger-data">aggregatable trigger data</dfn>
    <dd data-md>
     <p>A <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list" id="ref-for-list⑥">list</a> of <a data-link-type="dfn" href="#aggregatable-trigger-data" id="ref-for-aggregatable-trigger-data③">aggregatable trigger data</a>.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="attribution trigger" data-dfn-type="dfn" data-noexport id="attribution-trigger-aggregatable-values">aggregatable values</dfn>
    <dd data-md>
     <p>An <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-map" id="ref-for-ordered-map②">ordered map</a> whose <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-key" id="ref-for-map-key②">keys</a> are <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string" id="ref-for-string⑨">strings</a> and whose <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-value" id="ref-for-map-value②">values</a> are non-negative 32-bit integers.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="attribution trigger" data-dfn-type="dfn" data-noexport id="attribution-trigger-aggregatable-dedup-keys">aggregatable dedup keys</dfn>
    <dd data-md>
     <p>A <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list" id="ref-for-list⑦">list</a> of <a data-link-type="dfn" href="#aggregatable-dedup-key" id="ref-for-aggregatable-dedup-key③">aggregatable dedup key</a>.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="attribution trigger" data-dfn-type="dfn" data-noexport id="attribution-trigger-serialized-private-state-token">serialized private state token</dfn>
    <dd data-md>
     <p>A <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#byte-sequence" id="ref-for-byte-sequence">byte sequence</a>.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="attribution trigger" data-dfn-type="dfn" data-noexport id="attribution-trigger-debug-reporting-enabled">debug reporting enabled</dfn>
    <dd data-md>
     <p>A <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#boolean" id="ref-for-boolean②">boolean</a>.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="attribution trigger" data-dfn-type="dfn" data-noexport id="attribution-trigger-aggregation-coordinator">aggregation coordinator</dfn>
    <dd data-md>
     <p>An <a data-link-type="dfn" href="#aggregation-coordinator" id="ref-for-aggregation-coordinator">aggregation coordinator</a>.</p>
   </dl>
   <h3 class="heading settled dfn-paneled" data-dfn-type="dfn" data-level="6.13" data-lt="Attribution report" data-noexport id="attribution-report"><span class="secno">6.13. </span><span class="content">Attribution report</span><a class="self-link" href="#attribution-report" id="ref-for-attribution-report①④"></a></h3>
   <p>An attribution report is a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#struct" id="ref-for-struct⑦">struct</a> with the following items:</p>
   <dl>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="attribution report, aggregatable report, event-level report" data-dfn-type="dfn" data-noexport id="attribution-report-reporting-endpoint">reporting endpoint</dfn>
    <dd data-md>
     <p>A <a data-link-type="dfn" href="#suitable-origin" id="ref-for-suitable-origin③">suitable origin</a>.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="attribution report, aggregatable report, event-level report" data-dfn-type="dfn" data-noexport id="attribution-report-report-time">report time</dfn>
    <dd data-md>
     <p>A <a data-link-type="dfn" href="https://w3c.github.io/hr-time/#dfn-moment" id="ref-for-dfn-moment②">moment</a>.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="attribution report, aggregatable report, event-level report" data-dfn-type="dfn" data-noexport id="attribution-report-original-report-time">original report time</dfn>
    <dd data-md>
     <p>A <a data-link-type="dfn" href="https://w3c.github.io/hr-time/#dfn-moment" id="ref-for-dfn-moment③">moment</a>.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="attribution report, aggregatable report, event-level report" data-dfn-type="dfn" data-noexport id="attribution-report-delivered">delivered</dfn> (default false)
    <dd data-md>
     <p>A <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#boolean" id="ref-for-boolean③">boolean</a>.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="attribution report, aggregatable report, event-level report" data-dfn-type="dfn" data-noexport id="attribution-report-report-id">report ID</dfn>
    <dd data-md>
     <p>A <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string" id="ref-for-string①⓪">string</a>.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="attribution report, aggregatable report, event-level report" data-dfn-type="dfn" data-noexport id="attribution-report-source-debug-key">source debug key</dfn>
    <dd data-md>
     <p>Null or a non-negative 64-bit integer.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="attribution report, aggregatable report, event-level report" data-dfn-type="dfn" data-noexport id="attribution-report-trigger-debug-key">trigger debug key</dfn>
    <dd data-md>
     <p>Null or a non-negative 64-bit integer.</p>
   </dl>
   <h3 class="heading settled dfn-paneled" data-dfn-type="dfn" data-level="6.14" data-lt="Event-level report" data-noexport id="event-level-report"><span class="secno">6.14. </span><span class="content">Event-level report</span><a class="self-link" href="#event-level-report" id="ref-for-event-level-report①③"></a></h3>
   <p>An event-level report is an <a data-link-type="dfn" href="#attribution-report" id="ref-for-attribution-report②">attribution report</a> with the following additional items:</p>
   <dl>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="event-level report" data-dfn-type="dfn" data-noexport id="event-level-report-event-id">event ID</dfn>
    <dd data-md>
     <p>A non-negative 64-bit integer.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="event-level report" data-dfn-type="dfn" data-noexport id="event-level-report-source-type">source type</dfn>
    <dd data-md>
     <p>A <a data-link-type="dfn" href="#source-type" id="ref-for-source-type①">source type</a>.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="event-level report" data-dfn-type="dfn" data-noexport id="event-level-report-trigger-data">trigger data</dfn>
    <dd data-md>
     <p>A non-negative 64-bit integer.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="event-level report" data-dfn-type="dfn" data-noexport id="event-level-report-randomized-trigger-rate">randomized trigger rate</dfn>
    <dd data-md>
     <p>A number between 0 and 1 (both inclusive).</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="event-level report" data-dfn-type="dfn" data-noexport id="event-level-report-trigger-priority">trigger priority</dfn>
    <dd data-md>
     <p>A 64-bit integer.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="event-level report" data-dfn-type="dfn" data-noexport id="event-level-report-trigger-time">trigger time</dfn>
    <dd data-md>
     <p>A <a data-link-type="dfn" href="https://w3c.github.io/hr-time/#dfn-moment" id="ref-for-dfn-moment④">moment</a>.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="event-level report" data-dfn-type="dfn" data-noexport id="event-level-report-source-identifier">source identifier</dfn>
    <dd data-md>
     <p>A string.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="event-level report" data-dfn-type="dfn" data-noexport id="event-level-report-attribution-destinations">attribution destinations</dfn>
    <dd data-md>
     <p>An <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-set" id="ref-for-ordered-set⑧">ordered set </a> of <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#site" id="ref-for-site②">sites</a>.</p>
   </dl>
   <h3 class="heading settled dfn-paneled" data-dfn-type="dfn" data-level="6.15" data-lt="Aggregatable contribution" data-noexport id="aggregatable-contribution"><span class="secno">6.15. </span><span class="content">Aggregatable contribution</span><a class="self-link" href="#aggregatable-contribution" id="ref-for-aggregatable-contribution⑤"></a></h3>
   <p>An aggregatable contribution is a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#struct" id="ref-for-struct⑧">struct</a> with the following items:</p>
   <dl>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="aggregatable contribution" data-dfn-type="dfn" data-noexport id="aggregatable-contribution-key">key</dfn>
    <dd data-md>
     <p>A non-negative 128-bit integer.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="aggregatable contribution" data-dfn-type="dfn" data-noexport id="aggregatable-contribution-value">value</dfn>
    <dd data-md>
     <p>A non-negative 32-bit integer.</p>
   </dl>
   <h3 class="heading settled dfn-paneled" data-dfn-type="dfn" data-level="6.16" data-lt="Aggregatable report" data-noexport id="aggregatable-report"><span class="secno">6.16. </span><span class="content">Aggregatable report</span><a class="self-link" href="#aggregatable-report" id="ref-for-aggregatable-report②⓪"></a></h3>
   <p>An aggregatable report is an <a data-link-type="dfn" href="#attribution-report" id="ref-for-attribution-report③">attribution report</a> with the following additional items:</p>
   <dl>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="aggregatable report" data-dfn-type="dfn" data-noexport id="aggregatable-report-source-time">source time</dfn>
    <dd data-md>
     <p>A <a data-link-type="dfn" href="https://w3c.github.io/hr-time/#dfn-moment" id="ref-for-dfn-moment⑤">moment</a>.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="aggregatable report" data-dfn-type="dfn" data-noexport id="aggregatable-report-contributions">contributions</dfn>
    <dd data-md>
     <p>A <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list" id="ref-for-list⑧">list</a> of <a data-link-type="dfn" href="#aggregatable-contribution" id="ref-for-aggregatable-contribution①">aggregatable contributions</a>.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="aggregatable report" data-dfn-type="dfn" data-noexport id="aggregatable-report-effective-attribution-destination">effective attribution destination</dfn>
    <dd data-md>
     <p>A <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#site" id="ref-for-site③">site</a>.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="aggregatable report" data-dfn-type="dfn" data-noexport id="aggregatable-report-serialized-private-state-token">serialized private state token</dfn>
    <dd data-md>
     <p>A <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#byte-sequence" id="ref-for-byte-sequence①">byte sequence</a>.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="aggregatable report" data-dfn-type="dfn" data-noexport id="aggregatable-report-aggregation-coordinator">aggregation coordinator</dfn>
    <dd data-md>
     <p>Null or an <a data-link-type="dfn" href="#aggregation-coordinator" id="ref-for-aggregation-coordinator①">aggregation coordinator</a>.</p>
   </dl>
   <h3 class="heading settled" data-level="6.17" id="attribution-rate-limits"><span class="secno">6.17. </span><span class="content">Attribution rate-limits</span><a class="self-link" href="#attribution-rate-limits"></a></h3>
   <p>A <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="rate-limit-scope">rate-limit scope</dfn> is one of the following:</p>
   <ul>
    <li>"<dfn class="dfn-paneled" data-dfn-for="rate-limit scope" data-dfn-type="dfn" data-noexport id="rate-limit-scope-source"><code>source</code></dfn>" 
    <li>"<dfn class="dfn-paneled" data-dfn-for="rate-limit scope" data-dfn-type="dfn" data-noexport id="rate-limit-scope-attribution"><code>attribution</code></dfn>" 
   </ul>
   <p>An <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="attribution-rate-limit-record">attribution rate-limit record</dfn> is a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#struct" id="ref-for-struct⑨">struct</a> with the following items:</p>
   <dl>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="attribution rate-limit record" data-dfn-type="dfn" data-noexport id="attribution-rate-limit-record-scope">scope</dfn>
    <dd data-md>
     <p>A <a data-link-type="dfn" href="#rate-limit-scope" id="ref-for-rate-limit-scope">rate-limit scope</a>.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="attribution rate-limit record" data-dfn-type="dfn" data-noexport id="attribution-rate-limit-record-source-site">source site</dfn>
    <dd data-md>
     <p>A <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#site" id="ref-for-site④">site</a>.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="attribution rate-limit record" data-dfn-type="dfn" data-noexport id="attribution-rate-limit-record-attribution-destination">attribution destination</dfn>
    <dd data-md>
     <p>A <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#site" id="ref-for-site⑤">site</a>.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="attribution rate-limit record" data-dfn-type="dfn" data-noexport id="attribution-rate-limit-record-reporting-endpoint">reporting endpoint</dfn>
    <dd data-md>
     <p>A <a data-link-type="dfn" href="#suitable-origin" id="ref-for-suitable-origin④">suitable origin</a>.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="attribution rate-limit record" data-dfn-type="dfn" data-noexport id="attribution-rate-limit-record-time">time</dfn>
    <dd data-md>
     <p>A <a data-link-type="dfn" href="https://w3c.github.io/hr-time/#dfn-moment" id="ref-for-dfn-moment⑥">moment</a>.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="attribution rate-limit record" data-dfn-type="dfn" data-noexport id="attribution-rate-limit-record-expiry-time">expiry time</dfn>
    <dd data-md>
     <p>Null or a <a data-link-type="dfn" href="https://w3c.github.io/hr-time/#dfn-moment" id="ref-for-dfn-moment⑦">moment</a>.</p>
   </dl>
   <h3 class="heading settled dfn-paneled" data-dfn-type="dfn" data-level="6.18" data-lt="Attribution debug data" data-noexport id="attribution-debug-data"><span class="secno">6.18. </span><span class="content">Attribution debug data</span><a class="self-link" href="#attribution-debug-data" id="ref-for-attribution-debug-data"></a></h3>
   <p>A <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="debug-data-type">debug data type</dfn> is a non-empty string that specifies the set of data that is
contained in the <a data-link-type="dfn" href="#attribution-debug-data-body" id="ref-for-attribution-debug-data-body">body</a> of an <a data-link-type="dfn" href="#attribution-debug-data" id="ref-for-attribution-debug-data⑥">attribution debug data</a>.</p>
   <p>A <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="source-debug-data-type">source debug data type</dfn> is a <a data-link-type="dfn" href="#debug-data-type" id="ref-for-debug-data-type">debug data type</a> for source registrations.
Possible values are:</p>
   <ul>
    <li>"<dfn class="dfn-paneled" data-dfn-for="source debug data type" data-dfn-type="dfn" data-noexport id="source-debug-data-type-source-destination-limit"><code>source-destination-limit</code></dfn>" 
    <li>"<dfn class="dfn-paneled" data-dfn-for="source debug data type" data-dfn-type="dfn" data-noexport id="source-debug-data-type-source-noised"><code>source-noised</code></dfn>" 
    <li>"<dfn class="dfn-paneled" data-dfn-for="source debug data type" data-dfn-type="dfn" data-noexport id="source-debug-data-type-source-storage-limit"><code>source-storage-limit</code></dfn>" 
    <li>"<dfn class="dfn-paneled" data-dfn-for="source debug data type" data-dfn-type="dfn" data-noexport id="source-debug-data-type-source-success"><code>source-success</code></dfn>" 
    <li>"<dfn class="dfn-paneled" data-dfn-for="source debug data type" data-dfn-type="dfn" data-noexport id="source-debug-data-type-source-unknown-error"><code>source-unknown-error</code></dfn>" 
   </ul>
   <p>A <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="trigger-debug-data-type">trigger debug data type</dfn> is a <a data-link-type="dfn" href="#debug-data-type" id="ref-for-debug-data-type①">debug data type</a> for trigger registrations.
Possible values are:</p>
   <ul>
    <li>"<dfn class="dfn-paneled" data-dfn-for="trigger debug data type" data-dfn-type="dfn" data-noexport id="trigger-debug-data-type-trigger-aggregate-deduplicated"><code>trigger-aggregate-deduplicated</code></dfn>" 
    <li>"<dfn class="dfn-paneled" data-dfn-for="trigger debug data type" data-dfn-type="dfn" data-noexport id="trigger-debug-data-type-trigger-aggregate-no-contributions"><code>trigger-aggregate-no-contributions</code></dfn>" 
    <li>"<dfn class="dfn-paneled" data-dfn-for="trigger debug data type" data-dfn-type="dfn" data-noexport id="trigger-debug-data-type-trigger-aggregate-insufficient-budget"><code>trigger-aggregate-insufficient-budget</code></dfn>" 
    <li>"<dfn class="dfn-paneled" data-dfn-for="trigger debug data type" data-dfn-type="dfn" data-noexport id="trigger-debug-data-type-trigger-aggregate-storage-limit"><code>trigger-aggregate-storage-limit</code></dfn>" 
    <li>"<dfn class="dfn-paneled" data-dfn-for="trigger debug data type" data-dfn-type="dfn" data-noexport id="trigger-debug-data-type-trigger-aggregate-report-window-passed"><code>trigger-aggregate-report-window-passed</code></dfn>" 
    <li>"<dfn class="dfn-paneled" data-dfn-for="trigger debug data type" data-dfn-type="dfn" data-noexport id="trigger-debug-data-type-trigger-attributions-per-source-destination-limit"><code>trigger-attributions-per-source-destination-limit</code></dfn>" 
    <li>"<dfn class="dfn-paneled" data-dfn-for="trigger debug data type" data-dfn-type="dfn" data-noexport id="trigger-debug-data-type-trigger-event-deduplicated"><code>trigger-event-deduplicated</code></dfn>" 
    <li>"<dfn class="dfn-paneled" data-dfn-for="trigger debug data type" data-dfn-type="dfn" data-noexport id="trigger-debug-data-type-trigger-event-excessive-reports"><code>trigger-event-excessive-reports</code></dfn>" 
    <li>"<dfn class="dfn-paneled" data-dfn-for="trigger debug data type" data-dfn-type="dfn" data-noexport id="trigger-debug-data-type-trigger-event-low-priority"><code>trigger-event-low-priority</code></dfn>" 
    <li>"<dfn class="dfn-paneled" data-dfn-for="trigger debug data type" data-dfn-type="dfn" data-noexport id="trigger-debug-data-type-trigger-event-no-matching-configurations"><code>trigger-event-no-matching-configurations</code></dfn>" 
    <li>"<dfn class="dfn-paneled" data-dfn-for="trigger debug data type" data-dfn-type="dfn" data-noexport id="trigger-debug-data-type-trigger-event-noise"><code>trigger-event-noise</code></dfn>" 
    <li>"<dfn class="dfn-paneled" data-dfn-for="trigger debug data type" data-dfn-type="dfn" data-noexport id="trigger-debug-data-type-trigger-event-report-window-passed"><code>trigger-event-report-window-passed</code></dfn>" 
    <li>"<dfn class="dfn-paneled" data-dfn-for="trigger debug data type" data-dfn-type="dfn" data-noexport id="trigger-debug-data-type-trigger-event-storage-limit"><code>trigger-event-storage-limit</code></dfn>" 
    <li>"<dfn class="dfn-paneled" data-dfn-for="trigger debug data type" data-dfn-type="dfn" data-noexport id="trigger-debug-data-type-trigger-no-matching-source"><code>trigger-no-matching-source</code></dfn>" 
    <li>"<dfn class="dfn-paneled" data-dfn-for="trigger debug data type" data-dfn-type="dfn" data-noexport id="trigger-debug-data-type-trigger-no-matching-filter-data"><code>trigger-no-matching-filter-data</code></dfn>" 
    <li>"<dfn class="dfn-paneled" data-dfn-for="trigger debug data type" data-dfn-type="dfn" data-noexport id="trigger-debug-data-type-trigger-reporting-origin-limit"><code>trigger-reporting-origin-limit</code></dfn>" 
    <li>"<dfn data-dfn-for="trigger debug data type" data-dfn-type="dfn" data-noexport id="trigger-debug-data-type-trigger-unknown-error"><code>trigger-unknown-error</code><a class="self-link" href="#trigger-debug-data-type-trigger-unknown-error"></a></dfn>" 
   </ul>
   <p>An attribution debug data is a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#struct" id="ref-for-struct①⓪">struct</a> with the following items:</p>
   <dl>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="attribution debug data" data-dfn-type="dfn" data-noexport id="attribution-debug-data-data-type">data type</dfn>
    <dd data-md>
     <p>A <a data-link-type="dfn" href="#debug-data-type" id="ref-for-debug-data-type②">debug data type</a>.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="attribution debug data" data-dfn-type="dfn" data-noexport id="attribution-debug-data-body">body</dfn>
    <dd data-md>
     <p>A <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-map" id="ref-for-ordered-map③">map</a> whose fields are determined by the <a data-link-type="dfn" href="#attribution-debug-data-data-type" id="ref-for-attribution-debug-data-data-type">data type</a>.</p>
   </dl>
   <h3 class="heading settled dfn-paneled" data-dfn-type="dfn" data-level="6.19" data-lt="Attribution debug report" data-noexport id="attribution-debug-report"><span class="secno">6.19. </span><span class="content">Attribution debug report</span><a class="self-link" href="#attribution-debug-report" id="ref-for-attribution-debug-report"></a></h3>
   <p>An attribution debug report is a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#struct" id="ref-for-struct①①">struct</a> with the following items:</p>
   <dl>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="attribution debug report" data-dfn-type="dfn" data-noexport id="attribution-debug-report-data">data</dfn>
    <dd data-md>
     <p>A <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list" id="ref-for-list⑨">list</a> of <a data-link-type="dfn" href="#attribution-debug-data" id="ref-for-attribution-debug-data①">attribution debug data</a>.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="attribution debug report" data-dfn-type="dfn" data-noexport id="attribution-debug-report-reporting-endpoint">reporting endpoint</dfn>
    <dd data-md>
     <p>A <a data-link-type="dfn" href="#suitable-origin" id="ref-for-suitable-origin⑤">suitable origin</a>.</p>
   </dl>
   <h3 class="heading settled dfn-paneled" data-dfn-type="dfn" data-level="6.20" data-lt="Triggering result" data-noexport id="triggering-result"><span class="secno">6.20. </span><span class="content">Triggering result</span><a class="self-link" href="#triggering-result" id="ref-for-triggering-result"></a></h3>
   <p>A <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="triggering-status">triggering status</dfn> is one of the following:</p>
   <ul>
    <li>"<dfn class="dfn-paneled" data-dfn-for="triggering status" data-dfn-type="dfn" data-noexport id="triggering-status-dropped"><code>dropped</code></dfn>" 
    <li>"<dfn class="dfn-paneled" data-dfn-for="triggering status" data-dfn-type="dfn" data-noexport id="triggering-status-noised"><code>noised</code></dfn>" 
    <li>"<dfn class="dfn-paneled" data-dfn-for="triggering status" data-dfn-type="dfn" data-noexport id="triggering-status-attributed"><code>attributed</code></dfn>" 
   </ul>
   <p class="note" role="note"><span class="marker">Note:</span> "<code><a data-link-type="dfn" href="#triggering-status-noised" id="ref-for-triggering-status-noised">noised</a></code>" only applies for <a data-link-type="dfn" href="#trigger-event-level-attribution" id="ref-for-trigger-event-level-attribution">triggering event-level attribution</a> when it is attributed
successfully but dropped as the noise was applied to the source.</p>
   <p>A triggering result is a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#tuple" id="ref-for-tuple">tuple</a> with the following items:</p>
   <dl>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="triggering result" data-dfn-type="dfn" data-noexport id="triggering-result-status">status</dfn>
    <dd data-md>
     <p>A <a data-link-type="dfn" href="#triggering-status" id="ref-for-triggering-status">triggering status</a>.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="triggering result" data-dfn-type="dfn" data-noexport id="triggering-result-debug-data">debug data</dfn>
    <dd data-md>
     <p>Null or an <a data-link-type="dfn" href="#attribution-debug-data" id="ref-for-attribution-debug-data②">attribution debug data</a>.</p>
   </dl>
   <h2 class="heading settled" data-level="7" id="storage"><span class="secno">7. </span><span class="content">Storage</span><a class="self-link" href="#storage"></a></h2>
   <p>A user agent holds an <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="attribution-source-cache">attribution source cache</dfn>, which is an <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-set" id="ref-for-ordered-set⑨">ordered set</a> of <a data-link-type="dfn" href="#attribution-source" id="ref-for-attribution-source①④">attribution sources</a>.</p>
   <p>A user agent holds an <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="event-level-report-cache">event-level report cache</dfn>, which is an <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-set" id="ref-for-ordered-set①⓪">ordered set</a> of <a data-link-type="dfn" href="#event-level-report" id="ref-for-event-level-report②">event-level reports</a>.</p>
   <p>A user agent holds an <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="aggregatable-report-cache">aggregatable report cache</dfn>, which is an <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-set" id="ref-for-ordered-set①①">ordered set</a> of <a data-link-type="dfn" href="#aggregatable-report" id="ref-for-aggregatable-report①">aggregatable reports</a>.</p>
   <p>A user agent holds an <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="attribution-rate-limit-cache">attribution rate-limit cache</dfn>, which is an <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-set" id="ref-for-ordered-set①②">ordered set</a> of <a data-link-type="dfn" href="#attribution-rate-limit-record" id="ref-for-attribution-rate-limit-record">attribution rate-limit records</a>.</p>
   <p>The above caches are collectively known as the <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="attribution-caches">attribution caches</dfn>. The <a data-link-type="dfn" href="#attribution-caches" id="ref-for-attribution-caches">attribution caches</a> are
shared among all <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#environment-settings-object" id="ref-for-environment-settings-object">environment settings objects</a>.</p>
   <p class="note" role="note"><span class="marker">Note:</span> This would ideally use <a data-link-type="dfn" href="https://storage.spec.whatwg.org/#storage-bottle" id="ref-for-storage-bottle">storage bottles</a> to provide access to the attribution caches.
However attribution data is inherently cross-site, and operations on storage would need to span across all storage bottle maps.</p>
   <h2 class="heading settled" data-level="8" id="vendor-specific-values"><span class="secno">8. </span><span class="content">Vendor-Specific Values</span><a class="self-link" href="#vendor-specific-values"></a></h2>
   <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="max-source-expiry">Max source expiry</dfn> is a positive <a data-link-type="dfn" href="https://w3c.github.io/hr-time/#dfn-duration" id="ref-for-dfn-duration③">duration</a> that controls the
maximum value that can be used as an <a data-link-type="dfn" href="#attribution-source-expiry" id="ref-for-attribution-source-expiry①">expiry</a>. It must be
greater than or equal to 30 days.</p>
   <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="max-entries-per-filter-data">Max entries per filter data</dfn> is a positive integer that controls the
maximum <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-size" id="ref-for-map-size">size</a> of an <a data-link-type="dfn" href="#attribution-source" id="ref-for-attribution-source①⑤">attribution source</a>'s <a data-link-type="dfn" href="#attribution-source-filter-data" id="ref-for-attribution-source-filter-data">filter data</a>.</p>
   <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="max-values-per-filter-data-entry">Max values per filter data entry</dfn> is a positive integer that
controls the maximum <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-size" id="ref-for-list-size">size</a> of each <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-value" id="ref-for-map-value③">value</a> of an <a data-link-type="dfn" href="#attribution-source" id="ref-for-attribution-source①⑥">attribution source</a>'s <a data-link-type="dfn" href="#attribution-source-filter-data" id="ref-for-attribution-source-filter-data①">filter data</a>.</p>
   <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="max-aggregation-keys-per-attribution">Max aggregation keys per attribution</dfn> is a positive integer that
controls the maximum <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-size" id="ref-for-map-size①">size</a> of an <a data-link-type="dfn" href="#attribution-source" id="ref-for-attribution-source①⑦">attribution source</a>'s <a data-link-type="dfn" href="#attribution-source-aggregation-keys" id="ref-for-attribution-source-aggregation-keys">aggregation keys</a>, the maximum <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-size" id="ref-for-list-size①">size</a> of an <a data-link-type="dfn" href="#aggregatable-trigger-data" id="ref-for-aggregatable-trigger-data①">aggregatable trigger data</a>'s <a data-link-type="dfn" href="#aggregatable-trigger-data-source-keys" id="ref-for-aggregatable-trigger-data-source-keys">source keys</a>,
and the maximum <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-size" id="ref-for-map-size②">size</a> of an <a data-link-type="dfn" href="#attribution-trigger" id="ref-for-attribution-trigger④">attribution trigger</a>'s <a data-link-type="dfn" href="#attribution-trigger-aggregatable-values" id="ref-for-attribution-trigger-aggregatable-values">aggregatable values</a>.</p>
   <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="max-pending-sources-per-source-origin">Max pending sources per source origin</dfn> is a positive integer that
controls how many <a data-link-type="dfn" href="#attribution-source" id="ref-for-attribution-source①⑧">attribution sources</a> can be in the <a data-link-type="dfn" href="#attribution-source-cache" id="ref-for-attribution-source-cache②">attribution source cache</a> per <a data-link-type="dfn" href="#attribution-source-source-origin" id="ref-for-attribution-source-source-origin①">source origin</a>.</p>
   <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="navigation-source-trigger-data-cardinality">Navigation-source trigger data cardinality</dfn> is a positive integer
that controls the valid range of <a data-link-type="dfn" href="#event-level-trigger-configuration-trigger-data" id="ref-for-event-level-trigger-configuration-trigger-data">trigger data</a> for triggers that are
attributed to an <a data-link-type="dfn" href="#attribution-source" id="ref-for-attribution-source①⑨">attribution source</a> whose <a data-link-type="dfn" href="#attribution-source-source-type" id="ref-for-attribution-source-source-type">source type</a> is "<code><a data-link-type="dfn" href="#source-type-navigation" id="ref-for-source-type-navigation">navigation</a></code>":
0 &lt;= <a data-link-type="dfn" href="#event-level-trigger-configuration-trigger-data" id="ref-for-event-level-trigger-configuration-trigger-data①">trigger data</a> &lt; <a data-link-type="dfn" href="#navigation-source-trigger-data-cardinality" id="ref-for-navigation-source-trigger-data-cardinality">navigation-source trigger data cardinality</a>.</p>
   <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="event-source-trigger-data-cardinality">Event-source trigger data cardinality</dfn> is a positive integer that
controls the valid range of <a data-link-type="dfn" href="#event-level-trigger-configuration-trigger-data" id="ref-for-event-level-trigger-configuration-trigger-data②">trigger data</a> for triggers that are attributed to an <a data-link-type="dfn" href="#attribution-source" id="ref-for-attribution-source②⓪">attribution source</a> whose <a data-link-type="dfn" href="#attribution-source-source-type" id="ref-for-attribution-source-source-type①">source type</a> is "<code><a data-link-type="dfn" href="#source-type-event" id="ref-for-source-type-event">event</a></code>":
0 &lt;= <a data-link-type="dfn" href="#event-level-trigger-configuration-trigger-data" id="ref-for-event-level-trigger-configuration-trigger-data③">trigger data</a> &lt; <a data-link-type="dfn" href="#event-source-trigger-data-cardinality" id="ref-for-event-source-trigger-data-cardinality">event-source trigger data cardinality</a>.</p>
   <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="randomized-response-epsilon">Randomized response epsilon</dfn> is a non-negative double that controls
the randomized response probability of an <a data-link-type="dfn" href="#attribution-source" id="ref-for-attribution-source②①">attribution source</a>.</p>
   <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="max-event-level-reports-per-attribution-destination">Max event-level reports per attribution destination</dfn> is a positive integer that
controls how many <a data-link-type="dfn" href="#event-level-report" id="ref-for-event-level-report③">event-level reports</a> can be in the <a data-link-type="dfn" href="#event-level-report-cache" id="ref-for-event-level-report-cache②">event-level report cache</a> per <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#site" id="ref-for-site⑥">site</a> in <a data-link-type="dfn" href="#event-level-report-attribution-destinations" id="ref-for-event-level-report-attribution-destinations">attribution destinations</a>.</p>
   <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="max-aggregatable-reports-per-attribution-destination">Max aggregatable reports per attribution destination</dfn> is a positive integer that controls how
many <a data-link-type="dfn" href="#aggregatable-report" id="ref-for-aggregatable-report②">aggregatable reports</a> can be in the <a data-link-type="dfn" href="#aggregatable-report-cache" id="ref-for-aggregatable-report-cache②">aggregatable report cache</a> per <a data-link-type="dfn" href="#aggregatable-report-effective-attribution-destination" id="ref-for-aggregatable-report-effective-attribution-destination">effective attribution destination</a>.</p>
   <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="max-attributions-per-navigation-source">Max attributions per navigation source</dfn> is a positive integer that
controls how many times a single <a data-link-type="dfn" href="#attribution-source" id="ref-for-attribution-source②②">attribution source</a> whose <a data-link-type="dfn" href="#attribution-source-source-type" id="ref-for-attribution-source-source-type②">source type</a> is "<code><a data-link-type="dfn" href="#source-type-navigation" id="ref-for-source-type-navigation①">navigation</a></code>" can create an <a data-link-type="dfn" href="#event-level-report" id="ref-for-event-level-report④">event-level report</a>.</p>
   <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="max-attributions-per-event-source">Max attributions per event source</dfn> is a positive integer that
controls how many times a single <a data-link-type="dfn" href="#attribution-source" id="ref-for-attribution-source②③">attribution source</a> whose <a data-link-type="dfn" href="#attribution-source-source-type" id="ref-for-attribution-source-source-type③">source type</a> is "<code><a data-link-type="dfn" href="#source-type-event" id="ref-for-source-type-event①">event</a></code>" can create an <a data-link-type="dfn" href="#event-level-report" id="ref-for-event-level-report⑤">event-level report</a>.</p>
   <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="max-destinations-covered-by-unexpired-sources">Max destinations covered by unexpired sources</dfn> is a positive
integer that controls the maximum number of distinct <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#site" id="ref-for-site⑦">sites</a> across all <a data-link-type="dfn" href="#attribution-source-attribution-destinations" id="ref-for-attribution-source-attribution-destinations①">attribution destinations</a> for unexpired <a data-link-type="dfn" href="#attribution-source" id="ref-for-attribution-source②④">attribution sources</a> with a given (<a data-link-type="dfn" href="#attribution-source-source-site" id="ref-for-attribution-source-source-site">source site</a>, <a data-link-type="dfn" href="#attribution-source-reporting-endpoint" id="ref-for-attribution-source-reporting-endpoint①">reporting endpoint</a>).</p>
   <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="attribution-rate-limit-window">Attribution rate-limit window</dfn> is a positive <a data-link-type="dfn" href="https://w3c.github.io/hr-time/#dfn-duration" id="ref-for-dfn-duration④">duration</a> that
controls the rate-limiting window for attribution.</p>
   <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="max-source-reporting-endpoints-per-rate-limit-window">Max source reporting endpoints per rate-limit window</dfn> is a positive
integer that controls the maximum number of distinct <a data-link-type="dfn" href="#attribution-source-reporting-endpoint" id="ref-for-attribution-source-reporting-endpoint②">reporting endpoints</a> for a
(<a data-link-type="dfn" href="#attribution-rate-limit-record-source-site" id="ref-for-attribution-rate-limit-record-source-site">source site</a>, <a data-link-type="dfn" href="#attribution-rate-limit-record-attribution-destination" id="ref-for-attribution-rate-limit-record-attribution-destination">attribution destination</a>) that can create <a data-link-type="dfn" href="#attribution-source" id="ref-for-attribution-source②⑤">attribution sources</a> per <a data-link-type="dfn" href="#attribution-rate-limit-window" id="ref-for-attribution-rate-limit-window">attribution rate-limit window</a>.</p>
   <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="max-attribution-reporting-endpoints-per-rate-limit-window">Max attribution reporting endpoints per rate-limit window</dfn> is a
positive integer that controls the maximum number of distinct <a data-link-type="dfn" href="#attribution-trigger-reporting-endpoint" id="ref-for-attribution-trigger-reporting-endpoint">reporting endpoints</a> for a
(<a data-link-type="dfn" href="#attribution-rate-limit-record-source-site" id="ref-for-attribution-rate-limit-record-source-site①">source site</a>, <a data-link-type="dfn" href="#attribution-rate-limit-record-attribution-destination" id="ref-for-attribution-rate-limit-record-attribution-destination①">attribution destination</a>) that can create <a data-link-type="dfn" href="#event-level-report" id="ref-for-event-level-report⑥">event-level reports</a> per <a data-link-type="dfn" href="#attribution-rate-limit-window" id="ref-for-attribution-rate-limit-window①">attribution rate-limit window</a>.</p>
   <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="max-attributions-per-rate-limit-window">Max attributions per rate-limit window</dfn> is a positive integer that
controls the maximum number of attributions for a
(<a data-link-type="dfn" href="#attribution-rate-limit-record-source-site" id="ref-for-attribution-rate-limit-record-source-site②">source site</a>, <a data-link-type="dfn" href="#attribution-rate-limit-record-attribution-destination" id="ref-for-attribution-rate-limit-record-attribution-destination②">attribution destination</a>, <a data-link-type="dfn" href="#attribution-rate-limit-record-reporting-endpoint" id="ref-for-attribution-rate-limit-record-reporting-endpoint">reporting endpoint</a>) per <a data-link-type="dfn" href="#attribution-rate-limit-window" id="ref-for-attribution-rate-limit-window②">attribution rate-limit window</a>.</p>
   <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="allowed-aggregatable-budget-per-source">Allowed aggregatable budget per source</dfn> is a positive integer that controls the total <a data-link-type="dfn" href="#aggregatable-report-required-aggregatable-budget" id="ref-for-aggregatable-report-required-aggregatable-budget">required aggregatable budget</a> of all <a data-link-type="dfn" href="#aggregatable-report" id="ref-for-aggregatable-report③">aggregatable reports</a> created for
an <a data-link-type="dfn" href="#attribution-source" id="ref-for-attribution-source②⑥">attribution source</a>.</p>
   <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="min-aggregatable-report-delay">Min aggregatable report delay</dfn> is a non-negative <a data-link-type="dfn" href="https://w3c.github.io/hr-time/#dfn-duration" id="ref-for-dfn-duration⑤">duration</a> that controls the minimum
delay to deliver an <a data-link-type="dfn" href="#aggregatable-report" id="ref-for-aggregatable-report④">aggregatable report</a>.</p>
   <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="randomized-aggregatable-report-delay">Randomized aggregatable report delay</dfn> is a positive <a data-link-type="dfn" href="https://w3c.github.io/hr-time/#dfn-duration" id="ref-for-dfn-duration⑥">duration</a> that controls the
random delay to deliver an <a data-link-type="dfn" href="#aggregatable-report" id="ref-for-aggregatable-report⑤">aggregatable report</a>.</p>
   <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="default-aggregation-coordinator">Default aggregation coordinator</dfn> is the <a data-link-type="dfn" href="#aggregation-coordinator" id="ref-for-aggregation-coordinator②">aggregation coordinator</a> that controls how to
obtain the public key for encrypting an <a data-link-type="dfn" href="#aggregatable-report" id="ref-for-aggregatable-report⑥">aggregatable report</a> by default.</p>
   <h2 class="heading settled" data-level="9" id="general-algorithms"><span class="secno">9. </span><span class="content">General Algorithms</span><a class="self-link" href="#general-algorithms"></a></h2>
   <h3 class="heading settled" data-level="9.1" id="serialize-integer"><span class="secno">9.1. </span><span class="content">Serialize an integer</span><a class="self-link" href="#serialize-integer"></a></h3>
   <p>To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="serialize-an-integer">serialize an integer</dfn>, represent it as a string of the shortest possible decimal number.</p>
   <p class="issue" id="issue-ccb90c6c"><a class="self-link" href="#issue-ccb90c6c"></a> This would ideally be replaced by a more descriptive algorithm in Infra. See <a href="https://github.com/whatwg/infra/issues/201">infra/201</a></p>
   <h3 class="heading settled" data-level="9.2" id="serialize-destinations"><span class="secno">9.2. </span><span class="content">Serialize attribution destinations</span><a class="self-link" href="#serialize-destinations"></a></h3>
   <p>To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="serialize-attribution-destinations">serialize <a data-link-type="dfn" href="#event-level-report-attribution-destinations" id="ref-for-event-level-report-attribution-destinations①">attribution destinations</a></dfn> <var>destinations</var>, run the following steps:</p>
   <ol>
    <li data-md>
     <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#assert" id="ref-for-assert">Assert</a>: <var>destinations</var> is not <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-is-empty" id="ref-for-list-is-empty">empty</a>.</p>
    <li data-md>
     <p>Let <var>destinationStrings</var> be a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list" id="ref-for-list①⓪">list</a>.</p>
    <li data-md>
     <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-iterate" id="ref-for-list-iterate④">For each</a> <var>destination</var> in <var>destinations</var>:</p>
     <ol>
      <li data-md>
       <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#assert" id="ref-for-assert①">Assert</a>: <var>destination</var> is not the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#concept-origin-opaque" id="ref-for-concept-origin-opaque">opaque origin</a>.</p>
      <li data-md>
       <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-append" id="ref-for-list-append">Append</a> <var>destination</var> <a href="https://html.spec.whatwg.org/multipage/origin.html#serialization-of-a-site">serialized</a> to <var>destinationStrings</var>.</p>
     </ol>
    <li data-md>
     <p>If <var>destinationStrings</var>’s <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-size" id="ref-for-list-size②">size</a> is equal to 1, return <var>destinationStrings</var>[0].</p>
    <li data-md>
     <p>Return <var>destinationStrings</var>.</p>
   </ol>
   <p>To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="check-if-an-origin-is-suitable">check if an origin is suitable</dfn> given an <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#concept-origin" id="ref-for-concept-origin②">origin</a> <var>origin</var>:</p>
   <ol>
    <li data-md>
     <p>If <var>origin</var> is not a <a data-link-type="dfn" href="https://w3c.github.io/webappsec-secure-contexts/#potentially-trustworthy-origin" id="ref-for-potentially-trustworthy-origin">potentially trustworthy origin</a>, return false.</p>
    <li data-md>
     <p>If <var>origin</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#concept-origin-scheme" id="ref-for-concept-origin-scheme">scheme</a> is not "<code>http</code>" or "<code>https</code>", return false.</p>
    <li data-md>
     <p>Return true.</p>
   </ol>
   <h3 class="heading settled" data-level="9.3" id="parsing-filter-data"><span class="secno">9.3. </span><span class="content">Parsing filter data</span><a class="self-link" href="#parsing-filter-data"></a></h3>
   <p>To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="parse-filter-values">parse filter values</dfn> given a <var>value</var>:</p>
   <ol>
    <li data-md>
     <p>If <var>value</var> is not a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-map" id="ref-for-ordered-map④">map</a>, return null.</p>
    <li data-md>
     <p>Let <var>result</var> be a new <a data-link-type="dfn" href="#filter-map" id="ref-for-filter-map⑨">filter map</a>.</p>
    <li data-md>
     <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-iterate" id="ref-for-map-iterate">For each</a> <var>filter</var> → <var>data</var> of <var>value</var>:</p>
     <ol>
      <li data-md>
       <p>If <var>data</var> is not a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list" id="ref-for-list①①">list</a>, return null.</p>
      <li data-md>
       <p>Let <var>set</var> be a new <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-set" id="ref-for-ordered-set①③">ordered set</a>.</p>
      <li data-md>
       <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-iterate" id="ref-for-list-iterate⑤">For each</a> <var>d</var> of <var>data</var>:</p>
       <ol>
        <li data-md>
         <p>If <var>d</var> is not a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string" id="ref-for-string①①">string</a>, return null.</p>
        <li data-md>
         <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#set-append" id="ref-for-set-append">Append</a> <var>d</var> to <var>set</var>.</p>
       </ol>
      <li data-md>
       <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-set" id="ref-for-map-set">Set</a> <var>result</var>[<var>filter</var>] to <var>set</var>.</p>
     </ol>
    <li data-md>
     <p>Return <var>result</var>.</p>
   </ol>
   <p>To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="parse-filter-data">parse filter data</dfn> given a <var>value</var>:</p>
   <ol>
    <li data-md>
     <p>Let <var>map</var> be the result of running <a data-link-type="dfn" href="#parse-filter-values" id="ref-for-parse-filter-values">parse filter values</a> with <var>value</var>.</p>
    <li data-md>
     <p>If <var>map</var> is null, return null.</p>
    <li data-md>
     <p>If <var>map</var>’s <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-size" id="ref-for-map-size③">size</a> is greater than the user agent’s <a data-link-type="dfn" href="#max-entries-per-filter-data" id="ref-for-max-entries-per-filter-data">max entries per filter data</a>, return null.</p>
    <li data-md>
     <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-iterate" id="ref-for-map-iterate①">For each</a> <var>filter</var> → <var>set</var> of <var>map</var>:</p>
     <ol>
      <li data-md>
       <p>If <var>set</var>’s <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-size" id="ref-for-list-size③">size</a> is greater than the user agent’s <a data-link-type="dfn" href="#max-values-per-filter-data-entry" id="ref-for-max-values-per-filter-data-entry">max values per filter data entry</a>, return null.</p>
     </ol>
    <li data-md>
     <p>Return <var>map</var>.</p>
   </ol>
   <p class="issue" id="issue-5c232164"><a class="self-link" href="#issue-5c232164"></a> Determine whether to limit <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string-length" id="ref-for-string-length">length</a> or <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string-code-point-length" id="ref-for-string-code-point-length">code point length</a> for <var>filter</var> and <var>d</var> above.</p>
   <h3 class="heading settled" data-level="9.4" id="parsing-filters"><span class="secno">9.4. </span><span class="content">Parsing filters</span><a class="self-link" href="#parsing-filters"></a></h3>
   <p>To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="parse-filters">parse filters</dfn> given a <var>value</var>:</p>
   <ol>
    <li data-md>
     <p>Let <var>filtersList</var> be a new <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list" id="ref-for-list①②">list</a>.</p>
    <li data-md>
     <p>If <var>value</var> is a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-map" id="ref-for-ordered-map⑤">map</a>, then:</p>
     <ol>
      <li data-md>
       <p>Let <var>filterMap</var> be the result of running <a data-link-type="dfn" href="#parse-filter-values" id="ref-for-parse-filter-values①">parse filter values</a> with <var>value</var>.</p>
      <li data-md>
       <p>If <var>filterMap</var> is null, return null.</p>
      <li data-md>
       <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-append" id="ref-for-list-append①">Append</a> <var>filterMap</var> to <var>filtersList</var>.</p>
      <li data-md>
       <p>Return <var>filtersList</var>.</p>
     </ol>
    <li data-md>
     <p>If <var>value</var> is not a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list" id="ref-for-list①③">list</a>, return null.</p>
    <li data-md>
     <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-iterate" id="ref-for-list-iterate⑥">For each</a> <var>data</var> of <var>value</var>:</p>
     <ol>
      <li data-md>
       <p>Let <var>filterMap</var> be the result of running <a data-link-type="dfn" href="#parse-filter-values" id="ref-for-parse-filter-values②">parse filter values</a> with <var>data</var>.</p>
      <li data-md>
       <p>If <var>filterMap</var> is null, return null.</p>
      <li data-md>
       <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-append" id="ref-for-list-append②">Append</a> <var>filterMap</var> to <var>filtersList</var>.</p>
     </ol>
    <li data-md>
     <p>Return <var>filtersList</var>.</p>
   </ol>
   <h3 class="heading settled" data-level="9.5" id="debug-keys"><span class="secno">9.5. </span><span class="content">Cookie-based debugging</span><a class="self-link" href="#debug-keys"></a></h3>
   <p>To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="check-if-cookie-based-debugging-is-allowed">check if cookie-based debugging is allowed</dfn> given a <a data-link-type="dfn" href="#suitable-origin" id="ref-for-suitable-origin⑥">suitable origin</a> <var>reportingOrigin</var>:</p>
   <ol>
    <li data-md>
     <p>Let <var>domain</var> be the <a href="https://datatracker.ietf.org/doc/html/draft-ietf-httpbis-rfc6265bis#name-canonicalized-host-names">canonicalized domain name</a> of <var>reportingOrigin</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#concept-origin-host" id="ref-for-concept-origin-host">host</a>.</p>
    <li data-md>
     <p>For each <var>cookie</var> of the user agent’s <a href="https://datatracker.ietf.org/doc/html/draft-ietf-httpbis-rfc6265bis#name-storage-model">cookie store</a>:</p>
     <ol>
      <li data-md>
       <p>If <var>cookie</var>’s name is not "<code>ar_debug</code>", <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#iteration-continue" id="ref-for-iteration-continue①">continue</a>.</p>
      <li data-md>
       <p>If <var>cookie</var>’s http-only-flag is false, <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#iteration-continue" id="ref-for-iteration-continue②">continue</a>.</p>
      <li data-md>
       <p>If <var>cookie</var>’s secure-flag is false, <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#iteration-continue" id="ref-for-iteration-continue③">continue</a>.</p>
      <li data-md>
       <p>If <var>cookie</var>’s same-site-flag is not "<code>None</code>", <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#iteration-continue" id="ref-for-iteration-continue④">continue</a>.</p>
      <li data-md>
       <p>If <var>cookie</var>’s host-only-flag is true and <var>domain</var> is not
identical to <var>cookie</var>’s domain, <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#iteration-continue" id="ref-for-iteration-continue⑤">continue</a>.</p>
      <li data-md>
       <p>If <var>cookie</var>’s host-only-flag is false and <var>domain</var> does not <a href="https://datatracker.ietf.org/doc/html/draft-ietf-httpbis-rfc6265bis#name-domain-matching">domain-match</a> <var>cookie</var>’s domain, <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#iteration-continue" id="ref-for-iteration-continue⑥">continue</a>.</p>
      <li data-md>
       <p>If "<code>/</code>" does not <a href="https://datatracker.ietf.org/doc/html/draft-ietf-httpbis-rfc6265bis#name-paths-and-path-match">path-match</a> <var>cookie</var>’s path, <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#iteration-continue" id="ref-for-iteration-continue⑦">continue</a>.</p>
      <li data-md>
       <p>Return <strong>allowed</strong>.</p>
     </ol>
    <li data-md>
     <p>Return <strong>blocked</strong>.</p>
   </ol>
   <p class="issue" id="issue-6b554b5d"><a class="self-link" href="#issue-6b554b5d"></a> Ideally this would use the <a href="https://datatracker.ietf.org/doc/html/draft-ietf-httpbis-rfc6265bis#name-retrieval-algorithm">cookie-retrieval algorithm</a>,
but it cannot: There is no way to consider <em>only</em> cookies whose http-only-flag
is true and whose same-site-flag is "<code>None</code>"; there is no way to prevent the
last-access-time from being modified; and the return value is a string that
would have to be further processed to check for the "<code>ar_debug</code>" cookie.</p>
   <h3 class="heading settled" data-level="9.6" id="obtaining-randomized-response"><span class="secno">9.6. </span><span class="content">Obtaining a randomized response</span><a class="self-link" href="#obtaining-randomized-response"></a></h3>
   <p>To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="obtain-a-randomized-response">obtain a randomized response</dfn> given <var>trueValue</var>, a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-set" id="ref-for-ordered-set①④">set</a> <var>possibleValues</var>, and a
double <var>randomPickRate</var>:</p>
   <ol>
    <li data-md>
     <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#assert" id="ref-for-assert②">Assert</a>: <var>randomPickRate</var> is between 0 and 1 (both inclusive).</p>
    <li data-md>
     <p>Let <var>r</var> be a random double between 0 (inclusive) and 1 (exclusive) with uniform probability.</p>
    <li data-md>
     <p>If <var>r</var> is less than <var>randomPickRate</var>, return a random item from <var>possibleValues</var> with uniform
probability.</p>
    <li data-md>
     <p>Otherwise, return <var>trueValue</var>.</p>
   </ol>
   <h3 class="heading settled algorithm" data-algorithm="Parsing aggregation key piece" data-level="9.7" id="parsing-aggregation-key-piece"><span class="secno">9.7. </span><span class="content">Parsing aggregation key piece</span><a class="self-link" href="#parsing-aggregation-key-piece"></a></h3>
   <p>To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="parse-an-aggregation-key-piece">parse an aggregation key piece</dfn> given a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string" id="ref-for-string①②">string</a> <var>input</var>, perform the following steps.
This algorithm will return either a non-negative 128-bit integer or an error.</p>
   <ol>
    <li data-md>
     <p>If <var>input</var>’s <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string-code-point-length" id="ref-for-string-code-point-length①">code point length</a> is not between 3 and 34 (both inclusive), return an error.</p>
    <li data-md>
     <p>If the first character is not a U+0030 DIGIT ZERO (0), return an error.</p>
    <li data-md>
     <p>If the second character is not a U+0058 LATIN CAPITAL LETTER X character (X) and not a
U+0078 LATIN SMALL LETTER X character (x), return an error.</p>
    <li data-md>
     <p>Let <var>value</var> be the <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#code-point-substring" id="ref-for-code-point-substring">code point substring</a> from 2 to the end of <var>input</var>.</p>
    <li data-md>
     <p>If the characters within <var>value</var> are not all <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ascii-hex-digit" id="ref-for-ascii-hex-digit">ASCII hex digits</a>, return an error.</p>
    <li data-md>
     <p>Interpret <var>value</var> as a hexadecimal number and return as a non-negative 128-bit integer.</p>
   </ol>
   <h3 class="heading settled dfn-paneled" data-dfn-type="dfn" data-level="9.8" data-lt="Can attribution rate-limit record be removed" data-noexport id="can-attribution-rate-limit-record-be-removed"><span class="secno">9.8. </span><span class="content">Can attribution rate-limit record be removed</span><a class="self-link" href="#can-attribution-rate-limit-record-be-removed" id="ref-for-can-attribution-rate-limit-record-be-removed"></a></h3>
   <p>Given an <a data-link-type="dfn" href="#attribution-rate-limit-record" id="ref-for-attribution-rate-limit-record①">attribution rate-limit record</a> <var>record</var> and a <a data-link-type="dfn" href="https://w3c.github.io/hr-time/#dfn-moment" id="ref-for-dfn-moment⑧">moment</a> <var>now</var>:</p>
   <ol>
    <li data-md>
     <p>If <var>record</var>’s <a data-link-type="dfn" href="#attribution-rate-limit-record" id="ref-for-attribution-rate-limit-record②">time</a> is after <var>now</var>, return false.</p>
    <li data-md>
     <p>If <var>record</var>’s <a data-link-type="dfn" href="#attribution-rate-limit-record-scope" id="ref-for-attribution-rate-limit-record-scope">scope</a> is "<code><a data-link-type="dfn" href="#rate-limit-scope-attribution" id="ref-for-rate-limit-scope-attribution">attribution</a></code>", return true.</p>
    <li data-md>
     <p>If <var>record</var>’s <a data-link-type="dfn" href="#attribution-rate-limit-record-expiry-time" id="ref-for-attribution-rate-limit-record-expiry-time">expiry time</a> is after <var>now</var>, return false.</p>
    <li data-md>
     <p>Return true.</p>
   </ol>
   <h3 class="heading settled" data-level="9.9" id="obtaining-and-delivering-debug-report"><span class="secno">9.9. </span><span class="content">Obtaining and delivering an attribution debug report</span><a class="self-link" href="#obtaining-and-delivering-debug-report"></a></h3>
   <p>To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="obtain-and-deliver-a-debug-report">obtain and deliver a debug report</dfn> given a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list" id="ref-for-list①④">list</a> of <a data-link-type="dfn" href="#attribution-debug-data" id="ref-for-attribution-debug-data③">attribution debug data</a> <var>data</var> and a <a data-link-type="dfn" href="#suitable-origin" id="ref-for-suitable-origin⑦">suitable origin</a> <var>reportingEndpoint</var>:</p>
   <ol>
    <li data-md>
     <p>Let <var>debugReport</var> be an <a data-link-type="dfn" href="#attribution-debug-report" id="ref-for-attribution-debug-report④">attribution debug report</a> with the items:</p>
     <dl>
      <dt data-md><a data-link-type="dfn" href="#attribution-debug-report-data" id="ref-for-attribution-debug-report-data">data</a>
      <dd data-md>
       <p><var>data</var></p>
      <dt data-md><a data-link-type="dfn" href="#attribution-debug-report-reporting-endpoint" id="ref-for-attribution-debug-report-reporting-endpoint">reporting endpoint</a>
      <dd data-md>
       <p><var>reportingEndpoint</var></p>
     </dl>
    <li data-md>
     <p><a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-task" id="ref-for-queue-a-task">Queue a task</a> to <a data-link-type="dfn" href="#attempt-to-deliver-a-verbose-debug-report" id="ref-for-attempt-to-deliver-a-verbose-debug-report">attempt to deliver a verbose debug report</a> with <var>debugReport</var>.</p>
   </ol>
   <h3 class="heading settled" data-level="9.10" id="making-a-background-attributionsrc-request"><span class="secno">9.10. </span><span class="content">Making a background attributionsrc request</span><a class="self-link" href="#making-a-background-attributionsrc-request"></a></h3>
   <p>An <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="eligibility">eligibility</dfn> is one of the following:</p>
   <dl>
    <dt data-md>"<dfn class="dfn-paneled" data-dfn-for="eligibility" data-dfn-type="dfn" data-noexport id="eligibility-navigation-source"><code>navigation-source</code></dfn>"
    <dd data-md>
     <p>A <a data-link-type="dfn" href="#source-type-navigation" id="ref-for-source-type-navigation②">navigation</a> <a data-link-type="dfn" href="#attribution-source" id="ref-for-attribution-source②⑦">source</a> may be registered.</p>
    <dt data-md>"<dfn class="dfn-paneled" data-dfn-for="eligibility" data-dfn-type="dfn" data-noexport id="eligibility-event-source-trigger"><code>event-source, trigger</code></dfn>"
    <dd data-md>
     <p>Either an <a data-link-type="dfn" href="#source-type-event" id="ref-for-source-type-event②">event</a> <a data-link-type="dfn" href="#attribution-source" id="ref-for-attribution-source②⑧">source</a> or a <a data-link-type="dfn" href="#attribution-trigger" id="ref-for-attribution-trigger⑤">trigger</a> may be registered.</p>
   </dl>
   <p>To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="make-a-background-attributionsrc-request">make a background attributionsrc request</dfn> given a <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url" id="ref-for-concept-url⑦">URL</a> <var>url</var>, a <a data-link-type="dfn" href="#suitable-origin" id="ref-for-suitable-origin⑧">suitable origin</a> <var>contextOrigin</var>, an <a data-link-type="dfn" href="#eligibility" id="ref-for-eligibility">eligibility</a> <var>eligibility</var>, and an <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#environment-settings-object" id="ref-for-environment-settings-object①">environment settings objects</a> <var>context</var>:</p>
   <ol>
    <li data-md>
     <p>If <var>url</var>’s <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-origin" id="ref-for-concept-url-origin">origin</a> is not <a data-link-type="dfn" href="#check-if-an-origin-is-suitable" id="ref-for-check-if-an-origin-is-suitable①">suitable</a>,
return.</p>
    <li data-md>
     <p>Let <var>request</var> be a new <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request" id="ref-for-concept-request">request</a> with the following properties:</p>
     <dl>
      <dt data-md><a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-method" id="ref-for-concept-request-method">method</a>
      <dd data-md>
       <p>"<code>GET</code>"</p>
      <dt data-md><a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-url" id="ref-for-concept-request-url">URL</a>
      <dd data-md>
       <p><var>url</var></p>
      <dt data-md><a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#request-keepalive-flag" id="ref-for-request-keepalive-flag">keepalive</a>
      <dd data-md>
       <p>true</p>
     </dl>
    <li data-md>
     <p><a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-header-list-set" id="ref-for-concept-header-list-set">Set</a> a header
("Attribution-Reporting-Eligible", <var>eligibility</var>) in <var>request</var>’s <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-header-list" id="ref-for-concept-request-header-list">header list</a>.</p>
    <li data-md>
     <p><a data-link-type="dfn" href="#set-an-os-support-header" id="ref-for-set-an-os-support-header">Set an OS-support header</a> in <var>request</var>’s <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-header-list" id="ref-for-concept-request-header-list①">header list</a>.</p>
    <li data-md>
     <p><a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-fetch" id="ref-for-concept-fetch">Fetch</a> <var>request</var> with <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#process-response" id="ref-for-process-response">processResponse</a> being <a data-link-type="dfn" href="#process-an-attributionsrc-response" id="ref-for-process-an-attributionsrc-response">process an attributionsrc response</a> with <var>contextOrigin</var>, <var>eligibility</var>,
and <var>context</var>.</p>
   </ol>
   <p class="issue" id="issue-2cf4e1f8"><a class="self-link" href="#issue-2cf4e1f8"></a> Check permission policy and document trustworthiness.</p>
   <p class="issue" id="issue-add794c8"><a class="self-link" href="#issue-add794c8"></a> Audit other properties on <var>request</var> and set them properly.</p>
   <p class="issue" id="issue-af1a3982"><a class="self-link" href="#issue-af1a3982"></a> Support header-processing on redirects.</p>
   <p>To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="process-an-attributionsrc-response">process an attributionsrc response</dfn> given a <a data-link-type="dfn" href="#suitable-origin" id="ref-for-suitable-origin⑨">suitable origin</a> <var>contextOrigin</var>, an <a data-link-type="dfn" href="#eligibility" id="ref-for-eligibility①">eligibility</a> <var>eligibility</var>, an <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#environment-settings-object" id="ref-for-environment-settings-object②">environment settings objects</a> <var>context</var>, and a <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-response" id="ref-for-concept-response">response</a> <var>response</var>:</p>
   <ol>
    <li data-md>
     <p>Let <var>reportingOrigin</var> be <var>response</var>’s <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-response-url" id="ref-for-concept-response-url">URL</a>'s <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-origin" id="ref-for-concept-url-origin①">origin</a>.</p>
    <li data-md>
     <p>If <var>reportingOrigin</var> is not <a data-link-type="dfn" href="#check-if-an-origin-is-suitable" id="ref-for-check-if-an-origin-is-suitable②">suitable</a>, return.</p>
    <li data-md>
     <p>Let <var>sourceHeader</var> be the result of <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-header-list-get" id="ref-for-concept-header-list-get">getting</a> "<code>Attribution-Reporting-Register-Source</code>" from <var>response</var>’s <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-response-header-list" id="ref-for-concept-response-header-list">header list</a>.</p>
    <li data-md>
     <p>Let <var>triggerHeader</var> be the result of <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-header-list-get" id="ref-for-concept-header-list-get①">getting</a> "<code>Attribution-Reporting-Register-Trigger</code>" from <var>response</var>’s <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-response-header-list" id="ref-for-concept-response-header-list①">header list</a>.</p>
    <li data-md>
     <p>If <var>eligibility</var> is:</p>
     <dl class="switch">
      <dt data-md>"<code><a data-link-type="dfn" href="#eligibility-navigation-source" id="ref-for-eligibility-navigation-source">navigation-source</a></code>"
      <dd data-md>
       <p>Run the following steps:</p>
       <ol>
        <li data-md>
         <p>If <var>sourceHeader</var> is null, return.</p>
        <li data-md>
         <p>Let <var>source</var> be the result of running <a data-link-type="dfn" href="#parse-source-registration-json" id="ref-for-parse-source-registration-json">parse source-registration JSON</a> with <var>sourceHeader</var>, <var>contextOrigin</var>, <var>reportingOrigin</var>,
"<code><a data-link-type="dfn" href="#source-type-navigation" id="ref-for-source-type-navigation③">navigation</a></code>", and <var>context</var>’s <a data-link-type="dfn" href="https://w3c.github.io/hr-time/#dfn-current-wall-time" id="ref-for-dfn-current-wall-time">current wall time</a>.</p>
        <li data-md>
         <p>If <var>source</var> is not null, <a data-link-type="dfn" href="#process-an-attribution-source" id="ref-for-process-an-attribution-source">process</a> <var>source</var>.</p>
       </ol>
      <dt data-md>"<code><a data-link-type="dfn" href="#eligibility-event-source-trigger" id="ref-for-eligibility-event-source-trigger①">event-source, trigger</a></code>"
      <dd data-md>
       <p>Run the following steps:</p>
       <ol>
        <li data-md>
         <p>If <var>sourceHeader</var> is not null and <var>triggerHeader</var> is not null,
return.</p>
        <li data-md>
         <p>If <var>sourceHeader</var> is not null:</p>
         <ol>
          <li data-md>
           <p>Let <var>source</var> be the result of running <a data-link-type="dfn" href="#parse-source-registration-json" id="ref-for-parse-source-registration-json①">parse source-registration JSON</a> with <var>sourceHeader</var>, <var>contextOrigin</var>, <var>reportingOrigin</var>,
"<code><a data-link-type="dfn" href="#source-type-event" id="ref-for-source-type-event③">event</a></code>", and <var>context</var>’s <a data-link-type="dfn" href="https://w3c.github.io/hr-time/#dfn-current-wall-time" id="ref-for-dfn-current-wall-time①">current wall time</a>.</p>
          <li data-md>
           <p>If <var>source</var> is not null, <a data-link-type="dfn" href="#process-an-attribution-source" id="ref-for-process-an-attribution-source①">process</a> <var>source</var>.</p>
         </ol>
        <li data-md>
         <p>If <var>triggerHeader</var> is not null:</p>
         <ol>
          <li data-md>
           <p>Let <var>destinationSite</var> be the result of <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#obtain-a-site" id="ref-for-obtain-a-site①">obtaining a site</a> from <var>contextOrigin</var>.</p>
          <li data-md>
           <p>Let <var>privateStateToken</var> be null.</p>
          <li data-md>
           <p>Let <var>trigger</var> be the result of running <a data-link-type="dfn" href="#create-an-attribution-trigger" id="ref-for-create-an-attribution-trigger">create an attribution trigger</a> with <var>triggerHeader</var> <var>destinationSite</var>, <var>reportingOrigin</var>, <var>privateStateToken</var>, and <var>context</var>’s <a data-link-type="dfn" href="https://w3c.github.io/hr-time/#dfn-current-wall-time" id="ref-for-dfn-current-wall-time②">current wall time</a>.</p>
          <li data-md>
           <p>If <var>trigger</var> is not null, <a data-link-type="dfn" href="#trigger-attribution" id="ref-for-trigger-attribution">trigger attribution</a> with <var>trigger</var>.</p>
         </ol>
       </ol>
     </dl>
   </ol>
   <p class="issue" id="issue-71aa6e1e"><a class="self-link" href="#issue-71aa6e1e"></a> Handle OS-registration headers.</p>
   <p class="issue" id="issue-b1ebe5a5"><a class="self-link" href="#issue-b1ebe5a5"></a> Set <var>privateStateToken</var> properly.</p>
   <h2 class="heading settled" data-level="10" id="source-algorithms"><span class="secno">10. </span><span class="content">Source Algorithms</span><a class="self-link" href="#source-algorithms"></a></h2>
   <h3 class="heading settled algorithm" data-algorithm="Obtaining a randomized source response" data-level="10.1" id="obtaining-randomized-source-response"><span class="secno">10.1. </span><span class="content">Obtaining a randomized source response</span><a class="self-link" href="#obtaining-randomized-source-response"></a></h3>
   <p>To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="obtain-a-set-of-possible-trigger-states">obtain a set of possible trigger states</dfn> given a <a data-link-type="dfn" href="#randomized-response-output-configuration" id="ref-for-randomized-response-output-configuration④">randomized response output configuration</a> <var>config</var>:</p>
   <ol>
    <li data-md>
     <p>Let <var>possibleTriggerStates</var> be a new <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-is-empty" id="ref-for-list-is-empty①">empty</a> <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-set" id="ref-for-ordered-set①⑤">set</a>.</p>
    <li data-md>
     <p>For each integer <var>triggerData</var> between 0 (inclusive) and <var>config</var>’s <a data-link-type="dfn" href="#randomized-response-output-configuration-trigger-data-cardinality" id="ref-for-randomized-response-output-configuration-trigger-data-cardinality">trigger data cardinality</a> (exclusive):</p>
     <ol>
      <li data-md>
       <p>For each integer <var>reportWindow</var> between 0 (inclusive) and <var>config</var>’s <a data-link-type="dfn" href="#randomized-response-output-configuration-num-report-windows" id="ref-for-randomized-response-output-configuration-num-report-windows">num report windows</a> (exclusive):</p>
       <ol>
        <li data-md>
         <p>Let <var>state</var> be a new <a data-link-type="dfn" href="#trigger-state" id="ref-for-trigger-state①">trigger state</a> with the items:</p>
         <dl>
          <dt data-md><a data-link-type="dfn" href="#trigger-state-trigger-data" id="ref-for-trigger-state-trigger-data">trigger data</a>
          <dd data-md>
           <p><var>triggerData</var></p>
          <dt data-md><a data-link-type="dfn" href="#trigger-state-report-window" id="ref-for-trigger-state-report-window">report window</a>
          <dd data-md>
           <p><var>reportWindow</var></p>
         </dl>
        <li data-md>
         <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#set-append" id="ref-for-set-append①">Append</a> <var>state</var> to <var>possibleTriggerStates</var>.</p>
       </ol>
     </ol>
    <li data-md>
     <p>Let <var>possibleValues</var> be a new <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-is-empty" id="ref-for-list-is-empty②">empty</a> <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-set" id="ref-for-ordered-set①⑥">set</a>.</p>
    <li data-md>
     <p>For each integer <var>attributions</var> between 0 (inclusive) and |config’s| <a data-link-type="dfn" href="#randomized-response-output-configuration-max-attributions-per-source" id="ref-for-randomized-response-output-configuration-max-attributions-per-source">max attributions per source</a> (inclusive):</p>
     <ol>
      <li data-md>
       <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#set-append" id="ref-for-set-append②">Append</a> to <var>possibleValues</var> all distinct <var>attributions</var>-length combinations of <var>possibleTriggerStates</var>.</p>
     </ol>
   </ol>
   <p>To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="obtain-a-randomized-source-response-pick-rate">obtain a randomized source response pick rate</dfn> given a <a data-link-type="dfn" href="#randomized-response-output-configuration" id="ref-for-randomized-response-output-configuration①">randomized response output configuration</a> <var>config</var> and a double <var>epsilon</var>:</p>
   <ol>
    <li data-md>
     <p>Let <var>possibleValues</var> be the result of <a data-link-type="dfn" href="#obtain-a-set-of-possible-trigger-states" id="ref-for-obtain-a-set-of-possible-trigger-states">obtaining a set of possible trigger states</a> with <var>config</var>.</p>
    <li data-md>
     <p>Let <var>numPossibleValues</var> be the <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-size" id="ref-for-list-size④">size</a> of <var>possibleValues</var>.</p>
    <li data-md>
     <p>Return <var>numPossibleValues</var> / (<var>numPossibleValues</var> - 1 + e<sup><var>epsilon</var></sup>).</p>
   </ol>
   <p>To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="obtain-a-randomized-source-response">obtain a randomized source response</dfn> given a <a data-link-type="dfn" href="#randomized-response-output-configuration" id="ref-for-randomized-response-output-configuration②">randomized response output configuration</a> <var>config</var> and a double <var>epsilon</var>:</p>
   <ol>
    <li data-md>
     <p>Let <var>possibleValues</var> be the result of <a data-link-type="dfn" href="#obtain-a-set-of-possible-trigger-states" id="ref-for-obtain-a-set-of-possible-trigger-states①">obtaining a set of possible trigger states</a> with <var>config</var>.</p>
    <li data-md>
     <p>Let <var>pickRate</var> be the result of <a data-link-type="dfn" href="#obtain-a-randomized-source-response-pick-rate" id="ref-for-obtain-a-randomized-source-response-pick-rate">obtaining a randomized source response pick rate</a> with <var>config</var> and <var>epsilon</var>.</p>
    <li data-md>
     <p>Return the result of <a data-link-type="dfn" href="#obtain-a-randomized-response" id="ref-for-obtain-a-randomized-response">obtaining a randomized response</a> with null, <var>possibleValues</var>, and <var>pickRate</var>.</p>
   </ol>
   <h3 class="heading settled algorithm" data-algorithm="Obtaining an attribution source from an a element" data-level="10.2" id="obtaining-attribution-source-anchor"><span class="secno">10.2. </span><span class="content">Obtaining an attribution source from an <code>a</code> element</span><a class="self-link" href="#obtaining-attribution-source-anchor"></a></h3>
   <p>To <dfn data-dfn-type="dfn" data-noexport id="obtain-an-attribution-source-from-an-anchor">obtain an attribution source from an anchor<a class="self-link" href="#obtain-an-attribution-source-from-an-anchor"></a></dfn> given an <code><a data-link-type="element" href="https://html.spec.whatwg.org/multipage/text-level-semantics.html#the-a-element" id="ref-for-the-a-element④">a</a></code> element <var>anchor</var>:</p>
   <ol>
    <li data-md>
     <p>If <var>anchor</var> does not have an <code><a data-link-type="element-sub" href="#element-attrdef-a-attributionsrc" id="ref-for-element-attrdef-a-attributionsrc">attributionsrc</a></code> attribute, return null.</p>
    <li data-md>
     <p>Return null.</p>
   </ol>
   <p class="issue" id="issue-45c98580"><a class="self-link" href="#issue-45c98580"></a> Specify the steps for making attributionsrc request.</p>
   <h3 class="heading settled algorithm" data-algorithm="Obtaining an attribution source from window features" data-level="10.3" id="obtaining-attribution-source-window-features"><span class="secno">10.3. </span><span class="content">Obtaining an attribution source from window features</span><a class="self-link" href="#obtaining-attribution-source-window-features"></a></h3>
   <p>To <dfn data-dfn-type="dfn" data-noexport id="obtain-an-attribution-source-from-window-features">obtain an attribution source from window features<a class="self-link" href="#obtain-an-attribution-source-from-window-features"></a></dfn> given an <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-map" id="ref-for-ordered-map⑥">ordered map</a> <var>tokenizedFeatures</var>:</p>
   <ol>
    <li data-md>
     <p>If <var>tokenizedFeatures</var>["attributionsrc"] does not <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists">exist</a>, return null.</p>
    <li data-md>
     <p>Let <var>decodedSrcBytes</var> be the result of <a data-link-type="dfn" href="https://url.spec.whatwg.org/#string-percent-decode" id="ref-for-string-percent-decode">percent-decoding</a> <var>tokenizedFeatures</var>["attributionsrc"].</p>
    <li data-md>
     <p>Let <var>decodedSrc</var> be the <a data-link-type="dfn" href="https://encoding.spec.whatwg.org/#utf-8-decode-without-bom" id="ref-for-utf-8-decode-without-bom">UTF-8 decode without BOM</a> of <var>decodedSrcBytes</var>.</p>
    <li data-md>
     <p>Return null.</p>
   </ol>
   <p class="issue" id="issue-fe51c245"><a class="self-link" href="#issue-fe51c245"></a> Check for transient activation.</p>
   <p class="issue" id="issue-1f7755b7"><a class="self-link" href="#issue-1f7755b7"></a> Specify the steps for making an attributionsrc request with <var>decodedSrc</var>.</p>
   <h3 class="heading settled algorithm" data-algorithm="Parsing source-registration JSON" data-level="10.4" id="parsing-source-registration"><span class="secno">10.4. </span><span class="content">Parsing source-registration JSON</span><a class="self-link" href="#parsing-source-registration"></a></h3>
   <p>To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="parse-an-attribution-destination">parse an attribution destination</dfn> from a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string" id="ref-for-string①③">string</a> <var>str</var>:</p>
   <ol>
    <li data-md>
     <p>Let <var>url</var> be the result of running the <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-parser" id="ref-for-concept-url-parser">URL parser</a> on the value of
the <var>str</var>.</p>
    <li data-md>
     <p>If <var>url</var> is failure or null, return null.</p>
    <li data-md>
     <p>If <var>url</var>’s <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-origin" id="ref-for-concept-url-origin②">origin</a> is not <a data-link-type="dfn" href="#check-if-an-origin-is-suitable" id="ref-for-check-if-an-origin-is-suitable③">suitable</a>,
return null.</p>
    <li data-md>
     <p>Return the result of <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#obtain-a-site" id="ref-for-obtain-a-site②">obtaining a site</a> from <var>url</var>’s <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-origin" id="ref-for-concept-url-origin③">origin</a>.</p>
   </ol>
   <p>To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="parse-attribution-destinations">parse attribution destinations</dfn> from a value <var>val</var>:</p>
   <ol>
    <li data-md>
     <p>Let <var>result</var> be an <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-set" id="ref-for-ordered-set①⑦">ordered set</a>.</p>
    <li data-md>
     <p>If <var>val</var> is a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string" id="ref-for-string①④">string</a>, <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#set-append" id="ref-for-set-append③">append</a> the result of <a data-link-type="dfn" href="#parse-an-attribution-destination" id="ref-for-parse-an-attribution-destination">parse an attribution destination</a> to <var>result</var>, and return <var>result</var>.</p>
    <li data-md>
     <p>If <var>val</var> is not a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list" id="ref-for-list①⑤">list</a>, return null.</p>
    <li data-md>
     <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-iterate" id="ref-for-list-iterate⑦">For each</a> <var>value</var> of <var>val</var>:</p>
     <ol>
      <li data-md>
       <p>If <var>value</var> is not a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string" id="ref-for-string①⑤">string</a>, return null.</p>
      <li data-md>
       <p>Let <var>destination</var> be the result of <a data-link-type="dfn" href="#parse-an-attribution-destination" id="ref-for-parse-an-attribution-destination①">parse an attribution destination</a> with <var>value</var>.</p>
      <li data-md>
       <p>If <var>destination</var> is null, return null.</p>
      <li data-md>
       <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#set-append" id="ref-for-set-append④">Append</a> <var>destination</var> to <var>result</var>.</p>
     </ol>
    <li data-md>
     <p>If <var>result</var>’s <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-size" id="ref-for-list-size⑤">size</a> is greater than 3, return null.</p>
    <li data-md>
     <p>If <var>result</var> <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-is-empty" id="ref-for-list-is-empty③">is empty</a>, return null.</p>
    <li data-md>
     <p>return <var>result</var>.</p>
   </ol>
   <p class="issue" id="issue-60eea844"><a class="self-link" href="#issue-60eea844"></a> Confirm that the maximum destinations size is workable.</p>
   <p>To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="obtain-a-source-expiry">obtain a source expiry</dfn> given a <var>value</var>:</p>
   <ol>
    <li data-md>
     <p>If <var>value</var> is not a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string" id="ref-for-string①⑥">string</a>, return null.</p>
    <li data-md>
     <p>Let <var>expirySeconds</var> be the result of applying the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/common-microsyntaxes.html#rules-for-parsing-integers" id="ref-for-rules-for-parsing-integers">rules for parsing integers</a> to <var>value</var>.</p>
    <li data-md>
     <p>If <var>expirySeconds</var> is an error, return null.</p>
    <li data-md>
     <p>Let <var>expiry</var> be <var>expirySeconds</var> seconds.</p>
    <li data-md>
     <p>If <var>expiry</var> is less than 1 day, set <var>expiry</var> to 1 day.</p>
    <li data-md>
     <p>If <var>expiry</var> is greater than the user agent’s <a data-link-type="dfn" href="#max-source-expiry" id="ref-for-max-source-expiry">max source expiry</a>, set <var>expiry</var> to that value.</p>
    <li data-md>
     <p>Return <var>expiry</var>.</p>
   </ol>
   <p>To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="parse-aggregation-keys">parse aggregation keys</dfn> given an <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-map" id="ref-for-ordered-map⑦">ordered map</a> <var>map</var>:</p>
   <ol>
    <li data-md>
     <p>Let <var>aggregationKeys</var> be a new <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-map" id="ref-for-ordered-map⑧">ordered map</a>.</p>
    <li data-md>
     <p>If <var>map</var>["<code>aggregation_keys</code>"] does not <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists①">exist</a>, return <var>aggregationKeys</var>.</p>
    <li data-md>
     <p>Let <var>values</var> be <var>map</var>["<code>aggregation_keys</code>"].</p>
    <li data-md>
     <p>If <var>values</var> is not an <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-map" id="ref-for-ordered-map⑨">ordered map</a>, return null.</p>
    <li data-md>
     <p>If <var>values</var>’s <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-size" id="ref-for-map-size④">size</a> is greater than the user agent’s <a data-link-type="dfn" href="#max-aggregation-keys-per-attribution" id="ref-for-max-aggregation-keys-per-attribution">max aggregation keys per attribution</a>, return null.</p>
    <li data-md>
     <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-iterate" id="ref-for-map-iterate②">For each</a> <var>key</var> → <var>value</var> of <var>values</var>:</p>
     <ol>
      <li data-md>
       <p>If <var>value</var> is not a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string" id="ref-for-string①⑦">string</a>, return null.</p>
      <li data-md>
       <p>Let <var>keyPiece</var> be the result of running <a data-link-type="dfn" href="#parse-an-aggregation-key-piece" id="ref-for-parse-an-aggregation-key-piece">parse an aggregation key piece</a> with <var>value</var>.</p>
      <li data-md>
       <p>If <var>keyPiece</var> is an error, return null.</p>
      <li data-md>
       <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-set" id="ref-for-map-set①">Set</a> <var>aggregationKeys</var>[<var>key</var>] to <var>keyPiece</var>.</p>
     </ol>
    <li data-md>
     <p>Return <var>aggregationKeys</var>.</p>
   </ol>
   <p class="issue" id="issue-f31c9d0c"><a class="self-link" href="#issue-f31c9d0c"></a> Determine whether to limit <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string-length" id="ref-for-string-length①">length</a> or <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string-code-point-length" id="ref-for-string-code-point-length②">code point length</a> for <var>key</var> above.</p>
   <p>To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="parse-source-registration-json">parse source-registration JSON</dfn> given a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#byte-sequence" id="ref-for-byte-sequence②">byte sequence</a> <var>json</var>, a <a data-link-type="dfn" href="#suitable-origin" id="ref-for-suitable-origin①⓪">suitable origin</a> <var>sourceOrigin</var>, a <a data-link-type="dfn" href="#suitable-origin" id="ref-for-suitable-origin①①">suitable origin</a> <var>reportingOrigin</var>, a <a data-link-type="dfn" href="#source-type" id="ref-for-source-type②">source type</a> <var>sourceType</var>, and a <a data-link-type="dfn" href="https://w3c.github.io/hr-time/#dfn-moment" id="ref-for-dfn-moment⑨">moment</a> <var>sourceTime</var>:</p>
   <ol>
    <li data-md>
     <p>Let <var>value</var> be the result of running <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#parse-json-bytes-to-an-infra-value" id="ref-for-parse-json-bytes-to-an-infra-value">parse JSON bytes to an Infra value</a> with <var>json</var>.</p>
    <li data-md>
     <p>If <var>value</var> is not an <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-map" id="ref-for-ordered-map①⓪">ordered map</a>, return null.</p>
    <li data-md>
     <p>Let <var>sourceEventId</var> be 0.</p>
    <li data-md>
     <p>If <var>value</var>["<code>source_event_id</code>"] <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists②">exists</a> and is a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string" id="ref-for-string①⑧">string</a>:</p>
     <ol>
      <li data-md>
       <p>Set <var>sourceEventId</var> to the result of applying the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/common-microsyntaxes.html#rules-for-parsing-non-negative-integers" id="ref-for-rules-for-parsing-non-negative-integers">rules for parsing non-negative integers</a> to <var>value</var>["<code>source_event_id</code>"].</p>
      <li data-md>
       <p>If <var>sourceEventId</var> is an error, set <var>sourceEventId</var> to 0.</p>
     </ol>
    <li data-md>
     <p>If <var>value</var>["<code>destination</code>"] does not <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists③">exist</a>, return null.</p>
    <li data-md>
     <p>Let <var>attributionDestinations</var> be the result of running <a data-link-type="dfn" href="#parse-attribution-destinations" id="ref-for-parse-attribution-destinations">parse attribution destinations</a> with <var>value</var>["<code>destination</code>"].</p>
    <li data-md>
     <p>If <var>attributionDestinations</var> is null, return null.</p>
    <li data-md>
     <p>Let <var>expiry</var> be the result of running <a data-link-type="dfn" href="#obtain-a-source-expiry" id="ref-for-obtain-a-source-expiry">obtain a source expiry</a> on <var>value</var>["<code>expiry</code>"].</p>
    <li data-md>
     <p>If <var>expiry</var> is null, set <var>expiry</var> to 30 days.</p>
    <li data-md>
     <p>Let <var>eventReportWindow</var> be the result of running <a data-link-type="dfn" href="#obtain-a-source-expiry" id="ref-for-obtain-a-source-expiry①">obtain a source expiry</a> on <var>value</var>["<code>event_report_window</code>"].</p>
    <li data-md>
     <p>Let <var>aggregatableReportWindow</var> be the result of running <a data-link-type="dfn" href="#obtain-a-source-expiry" id="ref-for-obtain-a-source-expiry②">obtain a source expiry</a> on <var>value</var>["<code>aggregatable_report_window</code>"].</p>
    <li data-md>
     <p>Let <var>priority</var> be 0.</p>
    <li data-md>
     <p>If <var>value</var>["<code>priority</code>"] <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists④">exists</a> and is a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string" id="ref-for-string①⑨">string</a>:</p>
     <ol>
      <li data-md>
       <p>Set <var>priority</var> to the result of applying the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/common-microsyntaxes.html#rules-for-parsing-integers" id="ref-for-rules-for-parsing-integers①">rules for parsing integers</a> to <var>value</var>["<code>priority</code>"].</p>
      <li data-md>
       <p>If <var>priority</var> is an error, set <var>priority</var> to 0.</p>
     </ol>
    <li data-md>
     <p>Let <var>filterData</var> be a new <a data-link-type="dfn" href="#filter-map" id="ref-for-filter-map①⓪">filter map</a>.</p>
    <li data-md>
     <p>If <var>value</var>["<code>filter_data</code>"] <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists⑤">exists</a>:</p>
     <ol>
      <li data-md>
       <p>Set <var>filterData</var> to the result of running <a data-link-type="dfn" href="#parse-filter-data" id="ref-for-parse-filter-data">parse filter data</a> with <var>value</var>["<code>filter_data</code>"].</p>
      <li data-md>
       <p>If <var>filterData</var> is null, return null.</p>
      <li data-md>
       <p>If <var>filterData</var>["<code>source_type</code>"] <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists⑥">exists</a>, return null.</p>
     </ol>
    <li data-md>
     <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-set" id="ref-for-map-set②">Set</a> <var>filterData</var>["<code>source_type</code>"] to « <var>sourceType</var> ».</p>
    <li data-md>
     <p>Let <var>debugKey</var> be null.</p>
    <li data-md>
     <p>If <var>value</var>["<code>debug_key</code>"] <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists⑦">exists</a> and is a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string" id="ref-for-string②⓪">string</a>:</p>
     <ol>
      <li data-md>
       <p>Set <var>debugKey</var> to the result of applying the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/common-microsyntaxes.html#rules-for-parsing-non-negative-integers" id="ref-for-rules-for-parsing-non-negative-integers①">rules for parsing non-negative integers</a> to <var>value</var>["<code>debug_key</code>"].</p>
      <li data-md>
       <p>If <var>debugKey</var> is an error, set <var>debugKey</var> to null.</p>
      <li data-md>
       <p>If the result of running <a data-link-type="dfn" href="#check-if-cookie-based-debugging-is-allowed" id="ref-for-check-if-cookie-based-debugging-is-allowed">check if cookie-based debugging is allowed</a> with <var>reportingOrigin</var> is <strong>blocked</strong>, set <var>debugKey</var> to null.</p>
     </ol>
    <li data-md>
     <p>Let <var>aggregationKeys</var> be the result of running <a data-link-type="dfn" href="#parse-aggregation-keys" id="ref-for-parse-aggregation-keys">parse aggregation keys</a> with <var>value</var>.</p>
    <li data-md>
     <p>If <var>aggregationKeys</var> is null, return null.</p>
    <li data-md>
     <p>If <var>aggregatableExpiry</var> is null, set <var>aggregatableExpiry</var> to <var>expiry</var>.</p>
    <li data-md>
     <p>Let <var>triggerDataCardinality</var> be the user agent’s <a data-link-type="dfn" href="#navigation-source-trigger-data-cardinality" id="ref-for-navigation-source-trigger-data-cardinality①">navigation-source trigger data cardinality</a>.</p>
    <li data-md>
     <p>Let <var>maxAttributionsPerSource</var> be the user agent’s <a data-link-type="dfn" href="#max-attributions-per-navigation-source" id="ref-for-max-attributions-per-navigation-source">max attributions per navigation source</a>.</p>
    <li data-md>
     <p>If <var>sourceType</var> is "<code><a data-link-type="dfn" href="#source-type-event" id="ref-for-source-type-event④">event</a></code>":</p>
     <ol>
      <li data-md>
       <p>Round <var>expiry</var> away from zero to the nearest day (86400 seconds).</p>
      <li data-md>
       <p>Set <var>triggerDataCardinality</var> to the user agent’s <a data-link-type="dfn" href="#event-source-trigger-data-cardinality" id="ref-for-event-source-trigger-data-cardinality①">event-source trigger data cardinality</a>.</p>
      <li data-md>
       <p>Set <var>maxAttributionsPerSource</var> to the user agent’s <a data-link-type="dfn" href="#max-attributions-per-event-source" id="ref-for-max-attributions-per-event-source">max attributions per event source</a>.</p>
     </ol>
    <li data-md>
     <p>If <var>eventReportWindow</var> is null or greater than <var>expiry</var>, set <var>eventReportWindow</var> to <var>expiry</var>.</p>
    <li data-md>
     <p>If <var>aggregatableReportWindow</var> is null or greater than <var>expiry</var>, set <var>aggregatableReportWindow</var> to <var>expiry</var>.</p>
    <li data-md>
     <p>Let <var>debugReportingEnabled</var> be false.</p>
    <li data-md>
     <p>If <var>value</var>["<code>debug_reporting</code>"] <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists⑧">exists</a> and is a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#boolean" id="ref-for-boolean④">boolean</a>, set <var>debugReportingEnabled</var> to <var>value</var>["<code>debug_reporting</code>"].</p>
    <li data-md>
     <p>Let <var>randomizedResponseConfig</var> be a new <a data-link-type="dfn" href="#randomized-response-output-configuration" id="ref-for-randomized-response-output-configuration③">randomized response output configuration</a> whose items are:</p>
     <dl>
      <dt data-md><a data-link-type="dfn" href="#randomized-response-output-configuration-max-attributions-per-source" id="ref-for-randomized-response-output-configuration-max-attributions-per-source①">max attributions per source</a>
      <dd data-md>
       <p><var>maxAttributionsPerSource</var></p>
      <dt data-md><a data-link-type="dfn" href="#randomized-response-output-configuration-num-report-windows" id="ref-for-randomized-response-output-configuration-num-report-windows①">num report windows</a>
      <dd data-md>
       <p>The result of <a data-link-type="dfn" href="#obtain-the-number-of-report-windows" id="ref-for-obtain-the-number-of-report-windows">obtaining the number of report windows</a> with <var>sourceType</var></p>
      <dt data-md><a data-link-type="dfn" href="#randomized-response-output-configuration-trigger-data-cardinality" id="ref-for-randomized-response-output-configuration-trigger-data-cardinality①">trigger data cardinality</a>
      <dd data-md>
       <p><var>triggerDataCardinality</var></p>
     </dl>
    <li data-md>
     <p>Let <var>epsilon</var> be the user agent’s <a data-link-type="dfn" href="#randomized-response-epsilon" id="ref-for-randomized-response-epsilon">randomized response epsilon</a>.</p>
    <li data-md>
     <p>Let <var>source</var> be a new <a data-link-type="dfn" href="#attribution-source" id="ref-for-attribution-source②⑨">attribution source</a> struct whose items are:</p>
     <dl>
      <dt data-md><a data-link-type="dfn" href="#attribution-source-source-identifier" id="ref-for-attribution-source-source-identifier">source identifier</a>
      <dd data-md>
       <p>A new unique <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string" id="ref-for-string②①">string</a></p>
      <dt data-md><a data-link-type="dfn" href="#attribution-source-source-origin" id="ref-for-attribution-source-source-origin②">source origin</a>
      <dd data-md>
       <p><var>sourceOrigin</var></p>
      <dt data-md><a data-link-type="dfn" href="#attribution-source-event-id" id="ref-for-attribution-source-event-id">event ID</a>
      <dd data-md>
       <p><var>sourceEventId</var></p>
      <dt data-md><a data-link-type="dfn" href="#attribution-source-attribution-destinations" id="ref-for-attribution-source-attribution-destinations②">attribution destinations</a>
      <dd data-md>
       <p><var>attributionDestinations</var></p>
      <dt data-md><a data-link-type="dfn" href="#attribution-source-reporting-endpoint" id="ref-for-attribution-source-reporting-endpoint③">reporting endpoint</a>
      <dd data-md>
       <p><var>reportingOrigin</var></p>
      <dt data-md><a data-link-type="dfn" href="#attribution-source-expiry" id="ref-for-attribution-source-expiry②">expiry</a>
      <dd data-md>
       <p><var>expiry</var></p>
      <dt data-md><a data-link-type="dfn" href="#attribution-source-event-report-window" id="ref-for-attribution-source-event-report-window①">event report window</a>
      <dd data-md>
       <p><var>eventReportWindow</var></p>
      <dt data-md><a data-link-type="dfn" href="#attribution-source-aggregatable-report-window" id="ref-for-attribution-source-aggregatable-report-window①">aggregatable report window</a>
      <dd data-md>
       <p><var>aggregatableReportWindow</var></p>
      <dt data-md><a data-link-type="dfn" href="#attribution-source-priority" id="ref-for-attribution-source-priority">priority</a>
      <dd data-md>
       <p><var>priority</var></p>
      <dt data-md><a data-link-type="dfn" href="#attribution-source-source-time" id="ref-for-attribution-source-source-time③">source time</a>
      <dd data-md>
       <p><var>sourceTime</var></p>
      <dt data-md><a data-link-type="dfn" href="#attribution-source-source-type" id="ref-for-attribution-source-source-type④">source type</a>
      <dd data-md>
       <p><var>sourceType</var></p>
      <dt data-md><a data-link-type="dfn" href="#attribution-source-randomized-response" id="ref-for-attribution-source-randomized-response">randomized response</a>
      <dd data-md>
       <p>The result of <a data-link-type="dfn" href="#obtain-a-randomized-source-response" id="ref-for-obtain-a-randomized-source-response">obtaining a randomized source response</a> with <var>randomizedResponseConfig</var> and <var>epsilon</var>.</p>
      <dt data-md><a data-link-type="dfn" href="#attribution-source-randomized-trigger-rate" id="ref-for-attribution-source-randomized-trigger-rate">randomized trigger rate</a>
      <dd data-md>
       <p>The result of <a data-link-type="dfn" href="#obtain-a-randomized-source-response-pick-rate" id="ref-for-obtain-a-randomized-source-response-pick-rate①">obtaining a randomized source response pick rate</a> with <var>randomizedResponseConfig</var> and <var>epsilon</var>.</p>
      <dt data-md><a data-link-type="dfn" href="#attribution-source-filter-data" id="ref-for-attribution-source-filter-data②">filter data</a>
      <dd data-md>
       <p><var>filterData</var></p>
      <dt data-md><a data-link-type="dfn" href="#attribution-source-debug-key" id="ref-for-attribution-source-debug-key">debug key</a>
      <dd data-md>
       <p><var>debugKey</var></p>
      <dt data-md><a data-link-type="dfn" href="#attribution-source-aggregation-keys" id="ref-for-attribution-source-aggregation-keys①">aggregation keys</a>
      <dd data-md>
       <p><var>aggregationKeys</var></p>
      <dt data-md><a data-link-type="dfn" href="#attribution-source-aggregatable-budget-consumed" id="ref-for-attribution-source-aggregatable-budget-consumed">aggregatable budget consumed</a>
      <dd data-md>
       <p>0</p>
      <dt data-md><a data-link-type="dfn" href="#attribution-source-debug-reporting-enabled" id="ref-for-attribution-source-debug-reporting-enabled">debug reporting enabled</a>
      <dd data-md>
       <p><var>debugReportingEnabled</var></p>
     </dl>
    <li data-md>
     <p>Return <var>source</var>.</p>
   </ol>
   <p class="issue" id="issue-e6d5a493"><a class="self-link" href="#issue-e6d5a493"></a> Determine proper charset-handling for the JSON header value.</p>
   <h3 class="heading settled" data-level="10.5" id="processing-an-attribution-source"><span class="secno">10.5. </span><span class="content">Processing an attribution source</span><a class="self-link" href="#processing-an-attribution-source"></a></h3>
   <p>To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="check-if-an-attribution-source-exceeds-the-unexpired-destination-limit">check if an <a data-link-type="dfn" href="#attribution-source" id="ref-for-attribution-source③⓪">attribution source</a> exceeds the unexpired destination limit</dfn> given an <a data-link-type="dfn" href="#attribution-source" id="ref-for-attribution-source③①">attribution source</a> <var>source</var>, run the following steps:</p>
   <ol>
    <li data-md>
     <p>Let <var>unexpiredSources</var> be all <a data-link-type="dfn" href="#attribution-rate-limit-record" id="ref-for-attribution-rate-limit-record③">attribution rate-limit records</a> <var>record</var> in the <a data-link-type="dfn" href="#attribution-rate-limit-cache" id="ref-for-attribution-rate-limit-cache①">attribution rate-limit cache</a> where all of the following are true:</p>
     <ul>
      <li data-md>
       <p><var>record</var>’s <a data-link-type="dfn" href="#attribution-rate-limit-record-scope" id="ref-for-attribution-rate-limit-record-scope①">scope</a> is "<code><a data-link-type="dfn" href="#rate-limit-scope-source" id="ref-for-rate-limit-scope-source">source</a></code>"</p>
      <li data-md>
       <p><var>record</var>’s <a data-link-type="dfn" href="#attribution-rate-limit-record-source-site" id="ref-for-attribution-rate-limit-record-source-site③">source site</a> and <var>source</var>’s <a data-link-type="dfn" href="#attribution-source-source-site" id="ref-for-attribution-source-source-site①">source site</a> are equal</p>
      <li data-md>
       <p><var>record</var>’s <a data-link-type="dfn" href="#attribution-rate-limit-record-reporting-endpoint" id="ref-for-attribution-rate-limit-record-reporting-endpoint①">reporting endpoint</a> and <var>source</var>’s <a data-link-type="dfn" href="#attribution-source-reporting-endpoint" id="ref-for-attribution-source-reporting-endpoint④">reporting endpoint</a> are equal</p>
      <li data-md>
       <p><var>record</var>’s <a data-link-type="dfn" href="#attribution-rate-limit-record-expiry-time" id="ref-for-attribution-rate-limit-record-expiry-time①">expiry time</a> is greater than <var>source</var>’s <a data-link-type="dfn" href="#attribution-source-source-time" id="ref-for-attribution-source-source-time④">source time</a></p>
     </ul>
    <li data-md>
     <p>Let <var>unexpiredDestinations</var> be an <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-is-empty" id="ref-for-list-is-empty④">empty</a> <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-set" id="ref-for-ordered-set①⑧">set</a>.</p>
    <li data-md>
     <p>For each <a data-link-type="dfn" href="#attribution-rate-limit-record" id="ref-for-attribution-rate-limit-record④">attribution rate-limit record</a> <var>unexpiredRecord</var> of <var>unexpiredSources</var>:</p>
     <ol>
      <li data-md>
       <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#set-append" id="ref-for-set-append⑤">Append</a> <var>unexpiredRecord</var>’s <a data-link-type="dfn" href="#attribution-rate-limit-record-attribution-destination" id="ref-for-attribution-rate-limit-record-attribution-destination③">attribution destination</a> to <var>unexpiredDestinations</var>.</p>
     </ol>
    <li data-md>
     <p>Let <var>newDestinations</var> be the result of taking the <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#set-union" id="ref-for-set-union">union</a> of <var>unexpiredDestinations</var> and <var>source</var>’s <a data-link-type="dfn" href="#attribution-source-attribution-destinations" id="ref-for-attribution-source-attribution-destinations③">attribution destinations</a>.</p>
    <li data-md>
     <p>Return whether <var>newDestinations</var>’s <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-size" id="ref-for-list-size⑥">size</a> is greater than the user agent’s <a data-link-type="dfn" href="#max-destinations-covered-by-unexpired-sources" id="ref-for-max-destinations-covered-by-unexpired-sources">max destinations covered by unexpired sources</a>.</p>
   </ol>
   <p>To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="obtain-a-fake-report">obtain a fake report</dfn> given an <a data-link-type="dfn" href="#attribution-source" id="ref-for-attribution-source③②">attribution source</a> <var>source</var> and
a <a data-link-type="dfn" href="#trigger-state" id="ref-for-trigger-state②">trigger state</a> <var>triggerState</var>:</p>
   <ol>
    <li data-md>
     <p>Let <var>fakeConfig</var> be a new <a data-link-type="dfn" href="#event-level-trigger-configuration" id="ref-for-event-level-trigger-configuration①">event-level trigger configuration</a> with the items:</p>
     <dl>
      <dt data-md><a data-link-type="dfn" href="#event-level-trigger-configuration-trigger-data" id="ref-for-event-level-trigger-configuration-trigger-data④">trigger data</a>
      <dd data-md>
       <p><var>triggerState</var>’s <a data-link-type="dfn" href="#trigger-state-trigger-data" id="ref-for-trigger-state-trigger-data①">trigger data</a></p>
      <dt data-md><a data-link-type="dfn" href="#event-level-trigger-configuration-dedup-key" id="ref-for-event-level-trigger-configuration-dedup-key①">dedup key</a>
      <dd data-md>
       <p>null</p>
      <dt data-md><a data-link-type="dfn" href="#event-level-trigger-configuration-priority" id="ref-for-event-level-trigger-configuration-priority">priority</a>
      <dd data-md>
       <p>0</p>
      <dt data-md><a data-link-type="dfn" href="#event-level-trigger-configuration-filters" id="ref-for-event-level-trigger-configuration-filters">filters</a>
      <dd data-md>
       <p>«[ "<code>source_type</code>" → « <var>source</var>’s <a data-link-type="dfn" href="#attribution-source-source-type" id="ref-for-attribution-source-source-type⑤">source type</a> » ]»</p>
     </dl>
    <li data-md>
     <p>Let <var>fakeTrigger</var> be a new <a data-link-type="dfn" href="#attribution-trigger" id="ref-for-attribution-trigger⑥">attribution trigger</a> with the items:</p>
     <dl>
      <dt data-md><a data-link-type="dfn" href="#attribution-trigger-attribution-destination" id="ref-for-attribution-trigger-attribution-destination">attribution destinations</a>
      <dd data-md>
       <p><var>source</var>’s <a data-link-type="dfn" href="#attribution-source-attribution-destinations" id="ref-for-attribution-source-attribution-destinations④">attribution destinations</a></p>
      <dt data-md><a data-link-type="dfn" href="#attribution-trigger-trigger-time" id="ref-for-attribution-trigger-trigger-time">trigger time</a>
      <dd data-md>
       <p><var>source</var>’s <a data-link-type="dfn" href="#attribution-source-source-time" id="ref-for-attribution-source-source-time⑤">source time</a></p>
      <dt data-md><a data-link-type="dfn" href="#attribution-trigger-reporting-endpoint" id="ref-for-attribution-trigger-reporting-endpoint①">reporting endpoint</a>
      <dd data-md>
       <p><var>source</var>’s <a data-link-type="dfn" href="#attribution-source-reporting-endpoint" id="ref-for-attribution-source-reporting-endpoint⑤">reporting endpoint</a></p>
      <dt data-md><a data-link-type="dfn" href="#attribution-trigger-filters" id="ref-for-attribution-trigger-filters">filters</a>
      <dd data-md>
       <p>«[]»</p>
      <dt data-md><a data-link-type="dfn" href="#attribution-trigger-debug-key" id="ref-for-attribution-trigger-debug-key">debug key</a>
      <dd data-md>
       <p>null</p>
      <dt data-md><a data-link-type="dfn" href="#attribution-trigger-event-level-trigger-configurations" id="ref-for-attribution-trigger-event-level-trigger-configurations">event-level trigger configurations</a>
      <dd data-md>
       <p>« <var>fakeConfig</var> »</p>
      <dt data-md><a data-link-type="dfn" href="#attribution-trigger-aggregatable-trigger-data" id="ref-for-attribution-trigger-aggregatable-trigger-data">aggregatable trigger data</a>
      <dd data-md>
       <p>«»</p>
      <dt data-md><a data-link-type="dfn" href="#attribution-trigger-aggregatable-values" id="ref-for-attribution-trigger-aggregatable-values①">aggregatable values</a>
      <dd data-md>
       <p>«[]»</p>
      <dt data-md><a data-link-type="dfn" href="#attribution-trigger-aggregatable-dedup-keys" id="ref-for-attribution-trigger-aggregatable-dedup-keys">aggregatable dedup key</a>
      <dd data-md>
       <p>«»</p>
      <dt data-md><a data-link-type="dfn" href="#attribution-trigger-debug-reporting-enabled" id="ref-for-attribution-trigger-debug-reporting-enabled">debug reporting enabled</a>
      <dd data-md>
       <p>false</p>
      <dt data-md><a data-link-type="dfn" href="#attribution-trigger-aggregation-coordinator" id="ref-for-attribution-trigger-aggregation-coordinator">aggregation coordinator</a>
      <dd data-md>
       <p><a data-link-type="dfn" href="#default-aggregation-coordinator" id="ref-for-default-aggregation-coordinator">default aggregation coordinator</a></p>
     </dl>
    <li data-md>
     <p>Let <var>fakeReport</var> be the result of running <a data-link-type="dfn" href="#obtain-an-event-level-report" id="ref-for-obtain-an-event-level-report">obtain an event-level report</a> with <var>source</var>, <var>fakeTrigger</var>, and <var>fakeConfig</var>.</p>
    <li data-md>
     <p>Set <var>fakeReport</var>’s <a data-link-type="dfn" href="#attribution-report-report-time" id="ref-for-attribution-report-report-time">report time</a> to the result of
running <a data-link-type="dfn" href="#obtain-the-report-time-at-a-window" id="ref-for-obtain-the-report-time-at-a-window">obtain the report time at a window</a> with <var>source</var> and <var>triggerState</var>’s <a data-link-type="dfn" href="#trigger-state-report-window" id="ref-for-trigger-state-report-window①">report window</a>.</p>
    <li data-md>
     <p>Return <var>fakeReport</var>.</p>
   </ol>
   <p>To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="check-if-debug-reporting-is-allowed">check if debug reporting is allowed</dfn> given a <a data-link-type="dfn" href="#source-debug-data-type" id="ref-for-source-debug-data-type">source debug data type</a> <var>dataType</var> and a <a data-link-type="dfn" href="#suitable-origin" id="ref-for-suitable-origin①②">suitable origin</a> <var>reportingOrigin</var>:</p>
   <ol>
    <li data-md>
     <p>If <var>dataType</var> is:</p>
     <dl class="switch">
      <dt data-md>"<code><a data-link-type="dfn" href="#source-debug-data-type-source-destination-limit" id="ref-for-source-debug-data-type-source-destination-limit">source-destination-limit</a></code>"
      <dd data-md>
       <p>Return <strong>allowed</strong>.</p>
      <dt data-md>"<code><a data-link-type="dfn" href="#source-debug-data-type-source-noised" id="ref-for-source-debug-data-type-source-noised">source-noised</a></code>"
      <dt data-md>"<code><a data-link-type="dfn" href="#source-debug-data-type-source-storage-limit" id="ref-for-source-debug-data-type-source-storage-limit">source-storage-limit</a></code>"
      <dt data-md>"<code><a data-link-type="dfn" href="#source-debug-data-type-source-success" id="ref-for-source-debug-data-type-source-success">source-success</a></code>"
      <dt data-md>"<code><a data-link-type="dfn" href="#source-debug-data-type-source-unknown-error" id="ref-for-source-debug-data-type-source-unknown-error">source-unknown-error</a></code>"
      <dd data-md>
       <p>Return the result of running <a data-link-type="dfn" href="#check-if-cookie-based-debugging-is-allowed" id="ref-for-check-if-cookie-based-debugging-is-allowed①">check if cookie-based debugging is allowed</a> with <var>reportingOrigin</var>.</p>
     </dl>
   </ol>
   <p>To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="obtain-and-deliver-a-debug-report-on-source-registration">obtain and deliver a debug report on source registration</dfn> given a <a data-link-type="dfn" href="#source-debug-data-type" id="ref-for-source-debug-data-type①">source debug data type</a> <var>dataType</var> and an <a data-link-type="dfn" href="#attribution-source" id="ref-for-attribution-source③③">attribution source</a> <var>source</var>:</p>
   <ol>
    <li data-md>
     <p>If <var>source</var>’s <a data-link-type="dfn" href="#attribution-source-debug-reporting-enabled" id="ref-for-attribution-source-debug-reporting-enabled①">debug reporting enabled</a> is false, return.</p>
    <li data-md>
     <p>If the result of running <a data-link-type="dfn" href="#check-if-debug-reporting-is-allowed" id="ref-for-check-if-debug-reporting-is-allowed">check if debug reporting is allowed</a> with <var>dataType</var> and <var>source</var>’s <a data-link-type="dfn" href="#attribution-source-reporting-endpoint" id="ref-for-attribution-source-reporting-endpoint⑥">reporting endpoint</a> is <strong>blocked</strong>, return.</p>
    <li data-md>
     <p>Let <var>body</var> be a new <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-map" id="ref-for-ordered-map①①">map</a> with the following key/value pairs:</p>
     <dl>
      <dt data-md>"<code>attribution_destination</code>"
      <dd data-md>
       <p><var>source</var>’s <a data-link-type="dfn" href="#attribution-source-attribution-destinations" id="ref-for-attribution-source-attribution-destinations⑤">attribution destinations</a>, <a data-link-type="dfn" href="#serialize-attribution-destinations" id="ref-for-serialize-attribution-destinations">serialized</a>.</p>
      <dt data-md>"<code>source_event_id</code>"
      <dd data-md>
       <p><var>source</var>’s <a data-link-type="dfn" href="#attribution-source-event-id" id="ref-for-attribution-source-event-id①">event ID</a>, <a data-link-type="dfn" href="#serialize-an-integer" id="ref-for-serialize-an-integer">serialized</a>.</p>
      <dt data-md>"<code>source_site</code>"
      <dd data-md>
       <p><var>source</var>’s <a data-link-type="dfn" href="#attribution-source-source-site" id="ref-for-attribution-source-source-site②">source site</a>, <a href="https://html.spec.whatwg.org/multipage/origin.html#serialization-of-a-site">serialized</a>.</p>
     </dl>
    <li data-md>
     <p>If <var>source</var>’s <a data-link-type="dfn" href="#attribution-source-debug-key" id="ref-for-attribution-source-debug-key①">debug key</a> is not null, <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-set" id="ref-for-map-set③">set</a> <var>body</var>["<code>source_debug_key</code>"]
to <var>source</var>’s <a data-link-type="dfn" href="#attribution-source-debug-key" id="ref-for-attribution-source-debug-key②">debug key</a>, <a data-link-type="dfn" href="#serialize-an-integer" id="ref-for-serialize-an-integer①">serialized</a>.</p>
    <li data-md>
     <p>If <var>dataType</var> is:</p>
     <dl class="switch">
      <dt data-md>"<code><a data-link-type="dfn" href="#source-debug-data-type-source-destination-limit" id="ref-for-source-debug-data-type-source-destination-limit①">source-destination-limit</a></code>"
      <dd data-md>
       <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-set" id="ref-for-map-set④">Set</a> <var>body</var>["<code>limit</code>"] to the user agent’s <a data-link-type="dfn" href="#max-destinations-covered-by-unexpired-sources" id="ref-for-max-destinations-covered-by-unexpired-sources①">max destinations covered by unexpired sources</a>, <a data-link-type="dfn" href="#serialize-an-integer" id="ref-for-serialize-an-integer②">serialized</a>.</p>
      <dt data-md>"<code><a data-link-type="dfn" href="#source-debug-data-type-source-storage-limit" id="ref-for-source-debug-data-type-source-storage-limit①">source-storage-limit</a></code>"
      <dd data-md>
       <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-set" id="ref-for-map-set⑤">Set</a> <var>body</var>["<code>limit</code>"] to the user agent’s <a data-link-type="dfn" href="#max-pending-sources-per-source-origin" id="ref-for-max-pending-sources-per-source-origin">max pending sources per source origin</a>, <a data-link-type="dfn" href="#serialize-an-integer" id="ref-for-serialize-an-integer③">serialized</a>.</p>
     </dl>
    <li data-md>
     <p>Let <var>data</var> be a new <a data-link-type="dfn" href="#attribution-debug-data" id="ref-for-attribution-debug-data④">attribution debug data</a> with the items:</p>
     <dl>
      <dt data-md><a data-link-type="dfn" href="#attribution-debug-data-data-type" id="ref-for-attribution-debug-data-data-type①">data type</a>
      <dd data-md>
       <p><var>dataType</var></p>
      <dt data-md><a data-link-type="dfn" href="#attribution-debug-data-body" id="ref-for-attribution-debug-data-body①">body</a>
      <dd data-md>
       <p><var>body</var></p>
     </dl>
    <li data-md>
     <p>Run <a data-link-type="dfn" href="#obtain-and-deliver-a-debug-report" id="ref-for-obtain-and-deliver-a-debug-report">obtain and deliver a debug report</a> with « <var>data</var> » and <var>source</var>’s <a data-link-type="dfn" href="#attribution-source-reporting-endpoint" id="ref-for-attribution-source-reporting-endpoint⑦">reporting endpoint</a>.</p>
   </ol>
   <p>To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="process-an-attribution-source">process an attribution source</dfn> given an <a data-link-type="dfn" href="#attribution-source" id="ref-for-attribution-source③④">attribution source</a> <var>source</var>:</p>
   <ol>
    <li data-md>
     <p>Let <var>cache</var> be the user agent’s <a data-link-type="dfn" href="#attribution-source-cache" id="ref-for-attribution-source-cache③">attribution source cache</a>.</p>
    <li data-md>
     <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-remove" id="ref-for-list-remove③">Remove</a> all <a data-link-type="dfn" href="#attribution-source" id="ref-for-attribution-source③⑤">attribution sources</a> <var>entry</var> in <var>cache</var> where <var>entry</var>’s <a data-link-type="dfn" href="#attribution-source-expiry-time" id="ref-for-attribution-source-expiry-time">expiry time</a> is less than <var>source</var>’s <a data-link-type="dfn" href="#attribution-source-source-time" id="ref-for-attribution-source-source-time⑥">source time</a>.</p>
    <li data-md>
     <p>Let <var>pendingSourcesForSourceOrigin</var> be the <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-set" id="ref-for-ordered-set①⑨">set</a> of all <a data-link-type="dfn" href="#attribution-source" id="ref-for-attribution-source③⑥">attribution sources</a> <var>pendingSource</var> of <var>cache</var> where <var>pendingSource</var>’s <a data-link-type="dfn" href="#attribution-source-source-origin" id="ref-for-attribution-source-source-origin③">source origin</a> and <var>source</var>’s <a data-link-type="dfn" href="#attribution-source-source-origin" id="ref-for-attribution-source-source-origin④">source origin</a> are <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#same-origin" id="ref-for-same-origin③">same origin</a>.</p>
    <li data-md>
     <p>If <var>pendingSourcesForSourceOrigin</var>’s <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-size" id="ref-for-list-size⑦">size</a> is greater than or equal
to the user agent’s <a data-link-type="dfn" href="#max-pending-sources-per-source-origin" id="ref-for-max-pending-sources-per-source-origin①">max pending sources per source origin</a>:</p>
     <ol>
      <li data-md>
       <p>Run <a data-link-type="dfn" href="#obtain-and-deliver-a-debug-report-on-source-registration" id="ref-for-obtain-and-deliver-a-debug-report-on-source-registration">obtain and deliver a debug report on source registration</a> with "<code><a data-link-type="dfn" href="#source-debug-data-type-source-storage-limit" id="ref-for-source-debug-data-type-source-storage-limit②">source-storage-limit</a></code>" and <var>source</var>.</p>
      <li data-md>
       <p>Return.</p>
     </ol>
    <li data-md>
     <p>If the result of running <a data-link-type="dfn" href="#check-if-an-attribution-source-exceeds-the-unexpired-destination-limit" id="ref-for-check-if-an-attribution-source-exceeds-the-unexpired-destination-limit">check if an attribution source exceeds the unexpired destination limit</a> with <var>source</var> is true:</p>
     <ol>
      <li data-md>
       <p>Run <a data-link-type="dfn" href="#obtain-and-deliver-a-debug-report-on-source-registration" id="ref-for-obtain-and-deliver-a-debug-report-on-source-registration①">obtain and deliver a debug report on source registration</a> with "<a data-link-type="dfn" href="#source-debug-data-type-source-destination-limit" id="ref-for-source-debug-data-type-source-destination-limit②">source-destination-limit</a>" and <var>source</var>.</p>
      <li data-md>
       <p>Return.</p>
     </ol>
    <li data-md>
     <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-iterate" id="ref-for-list-iterate⑧">For each</a> <var>destination</var> in <var>source</var>’s <a data-link-type="dfn" href="#attribution-source-attribution-destinations" id="ref-for-attribution-source-attribution-destinations⑥">attribution destinations</a>:</p>
     <ol>
      <li data-md>
       <p>Let <var>rateLimitRecord</var> be a new <a data-link-type="dfn" href="#attribution-rate-limit-record" id="ref-for-attribution-rate-limit-record⑤">attribution rate-limit record</a> with the items:</p>
       <dl>
        <dt data-md><a data-link-type="dfn" href="#attribution-rate-limit-record-scope" id="ref-for-attribution-rate-limit-record-scope②">scope</a>
        <dd data-md>
         <p>"<code><a data-link-type="dfn" href="#rate-limit-scope-source" id="ref-for-rate-limit-scope-source①">source</a></code>"</p>
        <dt data-md><a data-link-type="dfn" href="#attribution-rate-limit-record-source-site" id="ref-for-attribution-rate-limit-record-source-site④">source site</a>
        <dd data-md>
         <p><var>source</var>’s <a data-link-type="dfn" href="#attribution-source-source-site" id="ref-for-attribution-source-source-site③">source site</a></p>
        <dt data-md><a data-link-type="dfn" href="#attribution-rate-limit-record-attribution-destination" id="ref-for-attribution-rate-limit-record-attribution-destination④">attribution destination</a>
        <dd data-md>
         <p><var>destination</var></p>
        <dt data-md><a data-link-type="dfn" href="#attribution-rate-limit-record-reporting-endpoint" id="ref-for-attribution-rate-limit-record-reporting-endpoint②">reporting endpoint</a>
        <dd data-md>
         <p><var>source</var>’s <a data-link-type="dfn" href="#attribution-source-reporting-endpoint" id="ref-for-attribution-source-reporting-endpoint⑧">reporting endpoint</a></p>
        <dt data-md><a data-link-type="dfn" href="#attribution-rate-limit-record-time" id="ref-for-attribution-rate-limit-record-time">time</a>
        <dd data-md>
         <p><var>source</var>’s <a data-link-type="dfn" href="#attribution-source-source-time" id="ref-for-attribution-source-source-time⑦">source time</a></p>
        <dt data-md><a data-link-type="dfn" href="#attribution-rate-limit-record-expiry-time" id="ref-for-attribution-rate-limit-record-expiry-time②">expiry time</a>
        <dd data-md>
         <p><var>source</var>’s <a data-link-type="dfn" href="#attribution-source-expiry-time" id="ref-for-attribution-source-expiry-time①">expiry time</a></p>
       </dl>
      <li data-md>
       <p>If the result of running <a data-link-type="dfn" href="#should-block-processing-for-reporting-endpoint-limit" id="ref-for-should-block-processing-for-reporting-endpoint-limit">should processing be blocked by reporting-endpoint limit</a> with <var>rateLimitRecord</var> is <strong>blocked</strong>:</p>
       <ol>
        <li data-md>
         <p>Run <a data-link-type="dfn" href="#obtain-and-deliver-a-debug-report-on-source-registration" id="ref-for-obtain-and-deliver-a-debug-report-on-source-registration②">obtain and deliver a debug report on source registration</a> with "<a data-link-type="dfn" href="#source-debug-data-type-source-success" id="ref-for-source-debug-data-type-source-success①">source-success</a>" and <var>source</var>.</p>
        <li data-md>
         <p>Return.</p>
       </ol>
      <li data-md>
       <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#set-append" id="ref-for-set-append⑥">Append</a> <var>rateLimitRecord</var> to the <a data-link-type="dfn" href="#attribution-rate-limit-cache" id="ref-for-attribution-rate-limit-cache②">attribution rate-limit cache</a>.</p>
     </ol>
    <li data-md>
     <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-remove" id="ref-for-list-remove④">Remove</a> all <a data-link-type="dfn" href="#attribution-rate-limit-record" id="ref-for-attribution-rate-limit-record⑥">attribution rate-limit records</a> <var>entry</var> from the <a data-link-type="dfn" href="#attribution-rate-limit-cache" id="ref-for-attribution-rate-limit-cache③">attribution rate-limit cache</a> if the result of running <a data-link-type="dfn" href="#can-attribution-rate-limit-record-be-removed" id="ref-for-can-attribution-rate-limit-record-be-removed②">can attribution rate-limit record be removed</a> with <var>entry</var> and <var>source</var>’s <a data-link-type="dfn" href="#attribution-source-source-time" id="ref-for-attribution-source-source-time⑧">source time</a> is true.</p>
    <li data-md>
     <p>Let <var>debugDataType</var> be "<code><a data-link-type="dfn" href="#source-debug-data-type-source-success" id="ref-for-source-debug-data-type-source-success②">source-success</a></code>".</p>
    <li data-md>
     <p>If <var>source</var>’s <a data-link-type="dfn" href="#attribution-source-randomized-response" id="ref-for-attribution-source-randomized-response①">randomized response</a> is not null and is a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-set" id="ref-for-ordered-set②⓪">set</a>:</p>
     <ol>
      <li data-md>
       <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-iterate" id="ref-for-list-iterate⑨">For each</a> <a data-link-type="dfn" href="#trigger-state" id="ref-for-trigger-state③">trigger state</a> <var>triggerState</var> of <var>source</var>’s <a data-link-type="dfn" href="#attribution-source-randomized-response" id="ref-for-attribution-source-randomized-response②">randomized response</a>:</p>
       <ol>
        <li data-md>
         <p>Let <var>fakeReport</var> be the result of running <a data-link-type="dfn" href="#obtain-a-fake-report" id="ref-for-obtain-a-fake-report">obtain a fake report</a> with <var>source</var> and <var>triggerState</var>.</p>
        <li data-md>
         <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#set-append" id="ref-for-set-append⑦">Append</a> <var>fakeReport</var> to the <a data-link-type="dfn" href="#event-level-report-cache" id="ref-for-event-level-report-cache③">event-level report cache</a>.</p>
       </ol>
      <li data-md>
       <p>If <var>source</var>’s <a data-link-type="dfn" href="#attribution-source-randomized-response" id="ref-for-attribution-source-randomized-response③">randomized response</a> is not <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-is-empty" id="ref-for-list-is-empty⑤">empty</a>,
then set <var>source</var>’s <a data-link-type="dfn" href="#attribution-source-event-level-attributable" id="ref-for-attribution-source-event-level-attributable">event-level attributable</a> value to false.</p>
      <li data-md>
       <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-iterate" id="ref-for-map-iterate③">For each</a> <var>destination</var> in <a data-link-type="dfn" href="https://w3c.github.io/mediacapture-main/#dfn-source" id="ref-for-dfn-source">source</a>'s <a data-link-type="dfn" href="#attribution-source-attribution-destinations" id="ref-for-attribution-source-attribution-destinations⑦">attribution destinations</a>:</p>
       <ol>
        <li data-md>
         <p>Let <var>rateLimitRecord</var> be a new <a data-link-type="dfn" href="#attribution-rate-limit-record" id="ref-for-attribution-rate-limit-record⑦">attribution rate-limit record</a> with the items:</p>
         <dl>
          <dt data-md><a data-link-type="dfn" href="#attribution-rate-limit-record-scope" id="ref-for-attribution-rate-limit-record-scope③">scope</a>
          <dd data-md>
           <p>"<code><a data-link-type="dfn" href="#rate-limit-scope-attribution" id="ref-for-rate-limit-scope-attribution①">attribution</a></code>"</p>
          <dt data-md><a data-link-type="dfn" href="#attribution-rate-limit-record-source-site" id="ref-for-attribution-rate-limit-record-source-site⑤">source site</a>
          <dd data-md>
           <p><var>source</var>’s <a data-link-type="dfn" href="#attribution-source-source-site" id="ref-for-attribution-source-source-site④">source site</a></p>
          <dt data-md><a data-link-type="dfn" href="#attribution-rate-limit-record-attribution-destination" id="ref-for-attribution-rate-limit-record-attribution-destination⑤">attribution destination</a>
          <dd data-md>
           <p><var>destination</var></p>
          <dt data-md><a data-link-type="dfn" href="#attribution-rate-limit-record-reporting-endpoint" id="ref-for-attribution-rate-limit-record-reporting-endpoint③">reporting endpoint</a>
          <dd data-md>
           <p><var>source</var>’s <a data-link-type="dfn" href="#attribution-source-reporting-endpoint" id="ref-for-attribution-source-reporting-endpoint⑨">reporting endpoint</a></p>
          <dt data-md><a data-link-type="dfn" href="#attribution-rate-limit-record-time" id="ref-for-attribution-rate-limit-record-time①">time</a>
          <dd data-md>
           <p><var>source</var>’s <a data-link-type="dfn" href="#attribution-source-source-time" id="ref-for-attribution-source-source-time⑨">source time</a></p>
          <dt data-md><a data-link-type="dfn" href="#attribution-rate-limit-record-expiry-time" id="ref-for-attribution-rate-limit-record-expiry-time③">expiry time</a>
          <dd data-md>
           <p>null</p>
         </dl>
        <li data-md>
         <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#set-append" id="ref-for-set-append⑧">Append</a> <var>rateLimitRecord</var> to the <a data-link-type="dfn" href="#attribution-rate-limit-cache" id="ref-for-attribution-rate-limit-cache④">attribution rate-limit cache</a>.</p>
       </ol>
      <li data-md>
       <p>Set <var>debugDataType</var> to "<code><a data-link-type="dfn" href="#source-debug-data-type-source-noised" id="ref-for-source-debug-data-type-source-noised①">source-noised</a></code>".</p>
     </ol>
    <li data-md>
     <p>Run <a data-link-type="dfn" href="#obtain-and-deliver-a-debug-report-on-source-registration" id="ref-for-obtain-and-deliver-a-debug-report-on-source-registration③">obtain and deliver a debug report on source registration</a> with <var>debugDataType</var> and <var>source</var>.</p>
    <li data-md>
     <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#set-append" id="ref-for-set-append⑨">Append</a> <var>source</var> to <var>cache</var>.</p>
   </ol>
   <p class="note" role="note"><span class="marker">Note:</span> Because a fake report does not have a "real" effective destination, we need to subtract from the
privacy budget of all possible destinations.</p>
   <p class="issue" id="issue-75fbcf24"><a class="self-link" href="#issue-75fbcf24"></a> Should fake reports respect the user agent’s <a data-link-type="dfn" href="#max-event-level-reports-per-attribution-destination" id="ref-for-max-event-level-reports-per-attribution-destination">max event-level reports per attribution destination</a>?</p>
   <h2 class="heading settled" data-level="11" id="trigger-algorithms"><span class="secno">11. </span><span class="content">Triggering Algorithms</span><a class="self-link" href="#trigger-algorithms"></a></h2>
   <h3 class="heading settled algorithm" data-algorithm="Creating an attribution trigger" data-level="11.1" id="attribution-trigger-creation"><span class="secno">11.1. </span><span class="content">Creating an attribution trigger</span><a class="self-link" href="#attribution-trigger-creation"></a></h3>
   <p>To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="parse-event-triggers">parse event triggers</dfn> given an <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-map" id="ref-for-ordered-map①②">ordered map</a> <var>map</var>:</p>
   <ol>
    <li data-md>
     <p>Let <var>eventTriggers</var> be a new <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-set" id="ref-for-ordered-set②①">set</a>.</p>
    <li data-md>
     <p>If <var>map</var>["<code>event_trigger_data</code>"] does not <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists⑨">exist</a>, return <var>eventTriggers</var>.</p>
    <li data-md>
     <p>Let <var>values</var> be <var>map</var>["<code>event_trigger_data</code>"].</p>
    <li data-md>
     <p>If <var>values</var> is not a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list" id="ref-for-list①⑥">list</a>, return null.</p>
    <li data-md>
     <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-iterate" id="ref-for-list-iterate①⓪">For each</a> <var>value</var> of <var>values</var>:</p>
     <ol>
      <li data-md>
       <p>If <var>value</var> is not an <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-map" id="ref-for-ordered-map①③">ordered map</a>, return null.</p>
      <li data-md>
       <p>Let <var>triggerData</var> be 0.</p>
      <li data-md>
       <p>If <var>value</var>["<code>trigger_data</code>"] <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists①⓪">exists</a> and is a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string" id="ref-for-string②②">string</a>:</p>
       <ol>
        <li data-md>
         <p>Set <var>triggerData</var> to the result of applying the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/common-microsyntaxes.html#rules-for-parsing-non-negative-integers" id="ref-for-rules-for-parsing-non-negative-integers②">rules for parsing non-negative integers</a> to <var>value</var>["<code>trigger_data</code>"].</p>
        <li data-md>
         <p>If <var>triggerData</var> is an error, set <var>triggerData</var> to 0.</p>
       </ol>
      <li data-md>
       <p>Let <var>dedupKey</var> be null.</p>
      <li data-md>
       <p>If <var>value</var>["<code>deduplication_key</code>"] <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists①①">exists</a> and is a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string" id="ref-for-string②③">string</a>:</p>
       <ol>
        <li data-md>
         <p>Set <var>dedupKey</var> to the result of applying the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/common-microsyntaxes.html#rules-for-parsing-non-negative-integers" id="ref-for-rules-for-parsing-non-negative-integers③">rules for parsing non-negative integers</a> to <var>value</var>["<code>deduplication_key</code>"].</p>
        <li data-md>
         <p>If <var>dedupKey</var> is an error, set <var>dedupKey</var> to null.</p>
       </ol>
      <li data-md>
       <p>Let <var>priority</var> be 0.</p>
      <li data-md>
       <p>If <var>value</var>["<code>priority</code>"] <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists①②">exists</a> and is a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string" id="ref-for-string②④">string</a>:</p>
       <ol>
        <li data-md>
         <p>Set <var>priority</var> to the result of applying the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/common-microsyntaxes.html#rules-for-parsing-integers" id="ref-for-rules-for-parsing-integers②">rules for parsing integers</a> to <var>value</var>["<code>priority</code>"].</p>
        <li data-md>
         <p>If <var>priority</var> is an error, set <var>priority</var> to 0.</p>
       </ol>
      <li data-md>
       <p>Let <var>filters</var> be a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list" id="ref-for-list①⑦">list</a> of <a data-link-type="dfn" href="#filter-map" id="ref-for-filter-map①①">filter maps</a>, initially empty.</p>
      <li data-md>
       <p>If <var>value</var>["<code>filters</code>"] <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists①③">exists</a>:</p>
       <ol>
        <li data-md>
         <p>Set <var>filters</var> to the result of running <a data-link-type="dfn" href="#parse-filters" id="ref-for-parse-filters">parse filters</a> with <var>value</var>["<code>filters</code>"].</p>
        <li data-md>
         <p>If <var>filters</var> is null, return null.</p>
       </ol>
      <li data-md>
       <p>Let <var>negatedFilters</var> be a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list" id="ref-for-list①⑧">list</a> of <a data-link-type="dfn" href="#filter-map" id="ref-for-filter-map①②">filter maps</a>, initially empty.</p>
      <li data-md>
       <p>If <var>value</var>["<code>not_filters</code>"] <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists①④">exists</a>:</p>
       <ol>
        <li data-md>
         <p>Set <var>negatedFilters</var> to the result of running <a data-link-type="dfn" href="#parse-filters" id="ref-for-parse-filters①">parse filters</a> with <var>value</var>["<code>not_filters</code>"].</p>
        <li data-md>
         <p>If <var>negatedFilters</var> is null, return null.</p>
       </ol>
      <li data-md>
       <p>Let <var>eventTrigger</var> be a new <a data-link-type="dfn" href="#event-level-trigger-configuration" id="ref-for-event-level-trigger-configuration②">event-level trigger configuration</a> with
the items:</p>
       <dl>
        <dt data-md><a data-link-type="dfn" href="#event-level-trigger-configuration-trigger-data" id="ref-for-event-level-trigger-configuration-trigger-data⑤">trigger data</a>
        <dd data-md>
         <p><var>triggerData</var></p>
        <dt data-md><a data-link-type="dfn" href="#event-level-trigger-configuration-dedup-key" id="ref-for-event-level-trigger-configuration-dedup-key②">dedup key</a>
        <dd data-md>
         <p><var>dedupKey</var></p>
        <dt data-md><a data-link-type="dfn" href="#event-level-trigger-configuration-priority" id="ref-for-event-level-trigger-configuration-priority①">priority</a>
        <dd data-md>
         <p><var>priority</var></p>
        <dt data-md><a data-link-type="dfn" href="#event-level-trigger-configuration-filters" id="ref-for-event-level-trigger-configuration-filters①">filters</a>
        <dd data-md>
         <p><var>filters</var></p>
        <dt data-md><a data-link-type="dfn" href="#event-level-trigger-configuration-negated-filters" id="ref-for-event-level-trigger-configuration-negated-filters">negated filters</a>
        <dd data-md>
         <p><var>negatedFilters</var></p>
       </dl>
      <li data-md>
       <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#set-append" id="ref-for-set-append①⓪">Append</a> <var>eventTrigger</var> to <var>eventTriggers</var>.</p>
     </ol>
    <li data-md>
     <p>Return <var>eventTriggers</var>.</p>
   </ol>
   <p>To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="parse-aggregatable-trigger-data">parse aggregatable trigger data</dfn> given an <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-map" id="ref-for-ordered-map①④">ordered map</a> <var>map</var>:</p>
   <ol>
    <li data-md>
     <p>Let <var>aggregatableTriggerData</var> be a new <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list" id="ref-for-list①⑨">list</a>.</p>
    <li data-md>
     <p>If <var>map</var>["<code>aggregatable_trigger_data</code>"] does not <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists①⑤">exist</a>, return <var>aggregatableTriggerData</var>.</p>
    <li data-md>
     <p>Let <var>values</var> be <var>map</var>["<code>aggregatable_trigger_data</code>"].</p>
    <li data-md>
     <p>If <var>values</var> is not a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list" id="ref-for-list②⓪">list</a>, return null.</p>
    <li data-md>
     <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-iterate" id="ref-for-list-iterate①①">For each</a> <var>value</var> of <var>values</var>:</p>
     <ol>
      <li data-md>
       <p>If <var>value</var> is not an <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-map" id="ref-for-ordered-map①⑤">ordered map</a>, return null.</p>
      <li data-md>
       <p>If <var>value</var>["<code>key_piece</code>"] does not <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists①⑥">exist</a> or is not a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string" id="ref-for-string②⑤">string</a>, return null.</p>
      <li data-md>
       <p>Let <var>keyPiece</var> be the result of running <a data-link-type="dfn" href="#parse-an-aggregation-key-piece" id="ref-for-parse-an-aggregation-key-piece①">parse an aggregation key piece</a> with <var>value</var>["<code>key_piece</code>"].</p>
      <li data-md>
       <p>If <var>keyPiece</var> is an error, return null.</p>
      <li data-md>
       <p>Let <var>sourceKeys</var> be a new <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-set" id="ref-for-ordered-set②②">ordered set</a>.</p>
      <li data-md>
       <p>If <var>value</var>["<code>source_keys</code>"] <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists①⑦">exists</a>:</p>
       <ol>
        <li data-md>
         <p>If <var>value</var>["<code>source_keys</code>"] is not a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list" id="ref-for-list②①">list</a>, return null.</p>
        <li data-md>
         <p>If <var>value</var>["<code>source_keys</code>"]'s <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-size" id="ref-for-list-size⑧">size</a> is greater than the user agent’s <a data-link-type="dfn" href="#max-aggregation-keys-per-attribution" id="ref-for-max-aggregation-keys-per-attribution①">max aggregation keys per attribution</a>, return null.</p>
        <li data-md>
         <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-iterate" id="ref-for-list-iterate①②">For each</a> <var>sourceKey</var> of <var>value</var>["<code>source_keys</code>"]:</p>
         <ol>
          <li data-md>
           <p>If <var>sourceKey</var> is not a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string" id="ref-for-string②⑥">string</a>, return null.</p>
          <li data-md>
           <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#set-append" id="ref-for-set-append①①">Append</a> <var>sourceKey</var> to <var>sourceKeys</var>.</p>
         </ol>
       </ol>
      <li data-md>
       <p>Let <var>filters</var> be a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list" id="ref-for-list②②">list</a> of <a data-link-type="dfn" href="#filter-map" id="ref-for-filter-map①③">filter maps</a>, initially empty.</p>
      <li data-md>
       <p>If <var>value</var>["<code>filters</code>"] <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists①⑧">exists</a>:</p>
       <ol>
        <li data-md>
         <p>Set <var>filters</var> to the result of running <a data-link-type="dfn" href="#parse-filters" id="ref-for-parse-filters②">parse filters</a> with <var>value</var>["<code>filters</code>"].</p>
        <li data-md>
         <p>If <var>filters</var> is null, return null.</p>
       </ol>
      <li data-md>
       <p>Let <var>negatedFilters</var> be a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list" id="ref-for-list②③">list</a> of <a data-link-type="dfn" href="#filter-map" id="ref-for-filter-map①④">filter maps</a>, initially empty.</p>
      <li data-md>
       <p>If <var>value</var>["<code>not_filters</code>"] <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists①⑨">exists</a>:</p>
       <ol>
        <li data-md>
         <p>Set <var>negatedFilters</var> to the result of running <a data-link-type="dfn" href="#parse-filters" id="ref-for-parse-filters③">parse filters</a> with <var>value</var>["<code>not_filters</code>"].</p>
        <li data-md>
         <p>If <var>negatedFilters</var> is null, return null.</p>
       </ol>
      <li data-md>
       <p>Let <var>aggregatableTrigger</var> be a new <a data-link-type="dfn" href="#aggregatable-trigger-data" id="ref-for-aggregatable-trigger-data②">aggregatable trigger data</a> with the items:</p>
       <dl>
        <dt data-md><a data-link-type="dfn" href="#aggregatable-trigger-data-key-piece" id="ref-for-aggregatable-trigger-data-key-piece">key piece</a>
        <dd data-md>
         <p><var>keyPiece</var></p>
        <dt data-md><a data-link-type="dfn" href="#aggregatable-trigger-data-source-keys" id="ref-for-aggregatable-trigger-data-source-keys①">source keys</a>
        <dd data-md>
         <p><var>sourceKeys</var></p>
        <dt data-md><a data-link-type="dfn" href="#aggregatable-trigger-data-filters" id="ref-for-aggregatable-trigger-data-filters">filters</a>
        <dd data-md>
         <p><var>filters</var></p>
        <dt data-md><a data-link-type="dfn" href="#aggregatable-trigger-data-negated-filters" id="ref-for-aggregatable-trigger-data-negated-filters">negated filters</a>
        <dd data-md>
         <p><var>negatedFilters</var></p>
       </dl>
      <li data-md>
       <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-append" id="ref-for-list-append③">Append</a> <var>aggregatableTrigger</var> to <var>aggregatableTriggerData</var>.</p>
     </ol>
    <li data-md>
     <p>Return <var>aggregatableTriggerData</var>.</p>
   </ol>
   <p class="issue" id="issue-a89384b8"><a class="self-link" href="#issue-a89384b8"></a> Determine whether to limit <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string-length" id="ref-for-string-length②">length</a> or <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string-code-point-length" id="ref-for-string-code-point-length③">code point length</a> for <var>sourceKey</var> above.</p>
   <p>To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="parse-aggregatable-values">parse aggregatable values</dfn> given an <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-map" id="ref-for-ordered-map①⑥">ordered map</a> <var>map</var>:</p>
   <ol>
    <li data-md>
     <p>If <var>map</var>["<code>aggregatable_values</code>"] does not <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists②⓪">exist</a>, return «[]».</p>
    <li data-md>
     <p>Let <var>values</var> be <var>map</var>["<code>aggregatable_values</code>"].</p>
    <li data-md>
     <p>If <var>values</var> is not an <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-map" id="ref-for-ordered-map①⑦">ordered map</a>, return null.</p>
    <li data-md>
     <p>If <var>values</var>’s <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-size" id="ref-for-map-size⑤">size</a> is greater than the user agent’s <a data-link-type="dfn" href="#max-aggregation-keys-per-attribution" id="ref-for-max-aggregation-keys-per-attribution②">max aggregation keys per attribution</a>, return null.</p>
    <li data-md>
     <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-iterate" id="ref-for-map-iterate④">For each</a> <var>key</var> → <var>value</var> of <var>values</var>:</p>
     <ol>
      <li data-md>
       <p>If <var>value</var> is not an integer, return null.</p>
      <li data-md>
       <p>If <var>value</var> is less than or equal to 0, return null.</p>
     </ol>
    <li data-md>
     <p>Return <var>values</var>.</p>
   </ol>
   <p class="issue" id="issue-f31c9d0c①"><a class="self-link" href="#issue-f31c9d0c①"></a> Determine whether to limit <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string-length" id="ref-for-string-length③">length</a> or <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string-code-point-length" id="ref-for-string-code-point-length④">code point length</a> for <var>key</var> above.</p>
   <p>To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="parse-aggregatable-dedup-keys">parse aggregatable dedup keys</dfn> given an <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-map" id="ref-for-ordered-map①⑧">ordered map</a> <var>map</var>:</p>
   <ol>
    <li data-md>
     <p>Let <var>aggregatableDedupKeys</var> be a new <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list" id="ref-for-list②④">list</a>.</p>
    <li data-md>
     <p>If <var>map</var>["<code>aggregatable_deduplication_keys</code>"] does not <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists②①">exist</a>, return <var>aggregatableDedupKeys</var>.</p>
    <li data-md>
     <p>Let <var>values</var> be <var>map</var>["<code>aggregatable_deduplication_keys</code>"].</p>
    <li data-md>
     <p>If <var>values</var> is not a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list" id="ref-for-list②⑤">list</a>, return null.</p>
    <li data-md>
     <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-iterate" id="ref-for-list-iterate①③">For each</a> <var>value</var> of <var>values</var>:</p>
     <ol>
      <li data-md>
       <p>If <var>value</var> is not an <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-map" id="ref-for-ordered-map①⑨">ordered map</a>, return null.</p>
      <li data-md>
       <p>Let <var>dedupKey</var> be null.</p>
      <li data-md>
       <p>If <var>value</var>["<code>deduplication_key</code>"] <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists②②">exists</a> and is a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string" id="ref-for-string②⑦">string</a>:</p>
       <ol>
        <li data-md>
         <p>Set <var>dedupKey</var> to the result of applying the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/common-microsyntaxes.html#rules-for-parsing-non-negative-integers" id="ref-for-rules-for-parsing-non-negative-integers④">rules for parsing non-negative integers</a> to <var>value</var>["<code>deduplication_key</code>"].</p>
        <li data-md>
         <p>If <var>dedupKey</var> is an error, set <var>dedupKey</var> to null.</p>
       </ol>
      <li data-md>
       <p>Let <var>filters</var> be a new <a data-link-type="dfn" href="#filter-map" id="ref-for-filter-map①⑤">filter map</a>.</p>
      <li data-md>
       <p>If <var>values</var>["<code>filters</code>"] <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists②③">exists</a>:</p>
       <ol>
        <li data-md>
         <p>Set <var>filters</var> to the result of running <a data-link-type="dfn" href="#parse-filter-data" id="ref-for-parse-filter-data①">parse filter data</a> with <var>value</var>["<code>filters</code>"].</p>
        <li data-md>
         <p>If <var>filters</var> is null, return null.</p>
       </ol>
      <li data-md>
       <p>Let <var>negatedFilters</var> be a new <a data-link-type="dfn" href="#filter-map" id="ref-for-filter-map①⑥">filter map</a>.</p>
      <li data-md>
       <p>If <var>values</var>["<code>not_filters</code>"] <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists②④">exists</a>:</p>
       <ol>
        <li data-md>
         <p>Set <var>negatedFilters</var> to the result of running <a data-link-type="dfn" href="#parse-filter-data" id="ref-for-parse-filter-data②">parse filter data</a> with <var>value</var>["<code>not_filters</code>"].</p>
        <li data-md>
         <p>If <var>negatedFilters</var> is null, return null.</p>
       </ol>
      <li data-md>
       <p>Let <var>aggregatableDedupKey</var> be a new <a data-link-type="dfn" href="#aggregatable-dedup-key" id="ref-for-aggregatable-dedup-key①">aggregatable dedup key</a> with the items:</p>
       <dl>
        <dt data-md><a data-link-type="dfn" href="#aggregatable-dedup-key-dedup-key" id="ref-for-aggregatable-dedup-key-dedup-key①">dedup key</a>
        <dd data-md>
         <p><var>dedupKey</var></p>
        <dt data-md><a data-link-type="dfn" href="#aggregatable-dedup-key-filters" id="ref-for-aggregatable-dedup-key-filters">filters</a>
        <dd data-md>
         <p><var>filters</var></p>
        <dt data-md><a data-link-type="dfn" href="#aggregatable-dedup-key-negated-filters" id="ref-for-aggregatable-dedup-key-negated-filters">negated filters</a>
        <dd data-md>
         <p><var>negatedFilters</var></p>
       </dl>
      <li data-md>
       <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#set-append" id="ref-for-set-append①②">Append</a> <var>aggregatableDedupKey</var> to <var>aggregatableDedupKeys</var>.</p>
     </ol>
    <li data-md>
     <p>Return <var>aggregatableDedupKeys</var>.</p>
   </ol>
   <p>To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="serialize-a-private-state-token">serialize a private state token</dfn> given a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string" id="ref-for-string②⑧">string</a> <var>encodedBlindedPrivateStateToken</var>:</p>
   <ol>
    <li data-md>
     <p>If <var>encodedBlindedPrivateStateToken</var> is null, return null.</p>
    <li data-md>
     <p>Let <var>decoded</var> be the result of <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#forgiving-base64-decode" id="ref-for-forgiving-base64-decode">forgiving-base64 decoding</a> <var>encodedBlindedPrivateStateToken</var>.</p>
    <li data-md>
     <p>If <var>decoded</var> is failure, return null.</p>
    <li data-md>
     <p>Let <var>tokens</var> be the result of finishing issuance of <var>decoded</var>.</p>
   </ol>
   <p class="issue" id="issue-46826c27"><a class="self-link" href="#issue-46826c27"></a> properly define the "finishing issuance" operation.</p>
   <ol>
    <li data-md>
     <p>If <var>tokens</var> is null, or has <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-size" id="ref-for-list-size⑨">size</a> not equal to 1, return null.</p>
    <li data-md>
     <p>Let <var>token</var> be <var>tokens</var>[0].</p>
    <li data-md>
     <p>Let <var>redeemedBytes</var> be the result of "beginning redemption" with <var>token</var>,
the empty <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#byte-sequence" id="ref-for-byte-sequence③">byte sequence</a> (data), and 0 (the null timestamp).</p>
   </ol>
   <p class="issue" id="issue-182767d1"><a class="self-link" href="#issue-182767d1"></a> properly define "begin redemption" operation. Consider running the algorithm at report sending time.</p>
   <ol>
    <li data-md>
     <p>Return the result of <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#forgiving-base64-encode" id="ref-for-forgiving-base64-encode">forgiving-base64 encoding</a> <var>redeemedBytes</var>.</p>
   </ol>
   <p>To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="create-an-attribution-trigger">create an attribution trigger</dfn> given a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#byte-sequence" id="ref-for-byte-sequence④">byte sequence</a> <var>json</var>, a <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#site" id="ref-for-site⑧">site</a> <var>destination</var>, a <a data-link-type="dfn" href="#suitable-origin" id="ref-for-suitable-origin①③">suitable origin</a> <var>reportingOrigin</var>, a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string" id="ref-for-string②⑨">string</a> <var>privateStateToken</var>,
and a <a data-link-type="dfn" href="https://w3c.github.io/hr-time/#dfn-moment" id="ref-for-dfn-moment①⓪">moment</a> <var>triggerTime</var>:</p>
   <ol>
    <li data-md>
     <p>Let <var>value</var> be the result of running <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#parse-json-bytes-to-an-infra-value" id="ref-for-parse-json-bytes-to-an-infra-value①">parse JSON bytes to an Infra value</a> with <var>json</var>.</p>
    <li data-md>
     <p>If <var>value</var> is not an <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-map" id="ref-for-ordered-map②⓪">ordered map</a>, return null.</p>
    <li data-md>
     <p>Let <var>eventTriggers</var> be the result of running <a data-link-type="dfn" href="#parse-event-triggers" id="ref-for-parse-event-triggers">parse event triggers</a> with <var>value</var>.</p>
    <li data-md>
     <p>If <var>eventTriggers</var> is null, return null.</p>
    <li data-md>
     <p>Let <var>aggregatableTriggerData</var> be the result of running <a data-link-type="dfn" href="#parse-aggregatable-trigger-data" id="ref-for-parse-aggregatable-trigger-data">parse aggregatable trigger data</a> with <var>value</var>.</p>
    <li data-md>
     <p>If <var>aggregatableTriggerData</var> is null, return null.</p>
    <li data-md>
     <p>Let <var>aggregatableValues</var> be the result of running <a data-link-type="dfn" href="#parse-aggregatable-values" id="ref-for-parse-aggregatable-values">parse aggregatable values</a> with <var>value</var>.</p>
    <li data-md>
     <p>If <var>aggregatableValues</var> is null, return null.</p>
    <li data-md>
     <p>Let <var>aggregatableDedupKeys</var> be the result of running <a data-link-type="dfn" href="#parse-aggregatable-dedup-keys" id="ref-for-parse-aggregatable-dedup-keys">parse aggregatable dedup keys</a> with <var>value</var>.</p>
    <li data-md>
     <p>If <var>aggregatableDedupKeys</var> is null, return null.</p>
    <li data-md>
     <p>Let <var>debugKey</var> be null.</p>
    <li data-md>
     <p>If <var>value</var>["<code>debug_key</code>"] <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists②⑤">exists</a> and is a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string" id="ref-for-string③⓪">string</a>:</p>
     <ol>
      <li data-md>
       <p>Set <var>debugKey</var> to the result of applying the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/common-microsyntaxes.html#rules-for-parsing-non-negative-integers" id="ref-for-rules-for-parsing-non-negative-integers⑤">rules for parsing non-negative integers</a> to <var>value</var>["<code>debug_key</code>"].</p>
      <li data-md>
       <p>If <var>debugKey</var> is an error, set <var>debugKey</var> to null.</p>
      <li data-md>
       <p>If the result of running <a data-link-type="dfn" href="#check-if-cookie-based-debugging-is-allowed" id="ref-for-check-if-cookie-based-debugging-is-allowed②">check if cookie-based debugging is allowed</a> with <var>reportingOrigin</var> is <strong>blocked</strong>, set <var>debugKey</var> to null.</p>
     </ol>
    <li data-md>
     <p>Let <var>filters</var> be a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list" id="ref-for-list②⑥">list</a> of <a data-link-type="dfn" href="#filter-map" id="ref-for-filter-map①⑦">filter maps</a>, initially empty.</p>
    <li data-md>
     <p>If <var>value</var>["<code>filters</code>"] exists:</p>
     <ol>
      <li data-md>
       <p>Set <var>filters</var> to the result of running <a data-link-type="dfn" href="#parse-filters" id="ref-for-parse-filters④">parse filters</a> with <var>value</var>["<code>filters</code>"].</p>
      <li data-md>
       <p>If <var>filters</var> is null, return null.</p>
     </ol>
    <li data-md>
     <p>Let <var>negatedFilters</var> be a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list" id="ref-for-list②⑦">list</a> of <a data-link-type="dfn" href="#filter-map" id="ref-for-filter-map①⑧">filter maps</a>, initially empty.</p>
    <li data-md>
     <p>If <var>value</var>["<code>not_filters</code>"] exists:</p>
     <ol>
      <li data-md>
       <p>Set <var>negatedFilters</var> to the result of running <a data-link-type="dfn" href="#parse-filters" id="ref-for-parse-filters⑤">parse filters</a> with <var>value</var>["<code>not_filters</code>"].</p>
      <li data-md>
       <p>If <var>negatedFilters</var> is null, return null.</p>
     </ol>
    <li data-md>
     <p>Let <var>debugReportingEnabled</var> be false.</p>
    <li data-md>
     <p>If <var>value</var>["<code>debug_reporting</code>"] <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists②⑥">exists</a> and is a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#boolean" id="ref-for-boolean⑤">boolean</a>, set <var>debugReportingEnabled</var> to value["<code>debug_reporting</code>"].</p>
    <li data-md>
     <p>Let <var>aggregationCoordinator</var> be <a data-link-type="dfn" href="#default-aggregation-coordinator" id="ref-for-default-aggregation-coordinator①">default aggregation coordinator</a>.</p>
    <li data-md>
     <p>If <var>value</var>["<code>aggregation_coordinator_identifier</code>"] <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists②⑦">exists</a>:</p>
     <ol>
      <li data-md>
       <p>If <var>value</var>["<code>aggregation_coordinator_identifier</code>"] is not a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string" id="ref-for-string③①">string</a>, return null.</p>
      <li data-md>
       <p>If <var>value</var>["<code>aggregation_coordinator_identifier</code>"] is not an <a data-link-type="dfn" href="#aggregation-coordinator" id="ref-for-aggregation-coordinator③">aggregation coordinator</a>, return null.</p>
      <li data-md>
       <p>Set <var>aggregationCoordinator</var> to <var>value</var>["<code>aggregation_coordinator_identifier</code>"].</p>
     </ol>
    <li data-md>
     <p>Let <var>trigger</var> be a new <a data-link-type="dfn" href="#attribution-trigger" id="ref-for-attribution-trigger⑦">attribution trigger</a> with the items:</p>
     <dl>
      <dt data-md><a data-link-type="dfn" href="#attribution-trigger-attribution-destination" id="ref-for-attribution-trigger-attribution-destination①">attribution destination</a>
      <dd data-md>
       <p><var>destination</var></p>
      <dt data-md><a data-link-type="dfn" href="#attribution-trigger-trigger-time" id="ref-for-attribution-trigger-trigger-time①">trigger time</a>
      <dd data-md>
       <p><var>triggerTime</var></p>
      <dt data-md><a data-link-type="dfn" href="#attribution-trigger-reporting-endpoint" id="ref-for-attribution-trigger-reporting-endpoint②">reporting endpoint</a>
      <dd data-md>
       <p><var>reportingOrigin</var></p>
      <dt data-md><a data-link-type="dfn" href="#attribution-trigger-filters" id="ref-for-attribution-trigger-filters①">filters</a>
      <dd data-md>
       <p><var>filters</var></p>
      <dt data-md><a data-link-type="dfn" href="#attribution-trigger-negated-filters" id="ref-for-attribution-trigger-negated-filters">negated filters</a>
      <dd data-md>
       <p><var>negatedFilters</var></p>
      <dt data-md><a data-link-type="dfn" href="#attribution-trigger-debug-key" id="ref-for-attribution-trigger-debug-key①">debug key</a>
      <dd data-md>
       <p><var>debugKey</var></p>
      <dt data-md><a data-link-type="dfn" href="#attribution-trigger-event-level-trigger-configurations" id="ref-for-attribution-trigger-event-level-trigger-configurations①">event-level trigger configurations</a>
      <dd data-md>
       <p><var>eventTriggers</var></p>
      <dt data-md><a data-link-type="dfn" href="#attribution-trigger-aggregatable-trigger-data" id="ref-for-attribution-trigger-aggregatable-trigger-data①">aggregatable trigger data</a>
      <dd data-md>
       <p><var>aggregatableTriggerData</var></p>
      <dt data-md><a data-link-type="dfn" href="#attribution-trigger-aggregatable-values" id="ref-for-attribution-trigger-aggregatable-values②">aggregatable values</a>
      <dd data-md>
       <p><var>aggregatableValues</var></p>
      <dt data-md><a data-link-type="dfn" href="#attribution-trigger-aggregatable-dedup-keys" id="ref-for-attribution-trigger-aggregatable-dedup-keys①">aggregatable dedup keys</a>
      <dd data-md>
       <p><var>aggregatableDedupKeys</var></p>
      <dt data-md><a data-link-type="dfn" href="#attribution-trigger-serialized-private-state-token" id="ref-for-attribution-trigger-serialized-private-state-token">serialized private state token</a>
      <dd data-md>
       <p>The result of <a data-link-type="dfn" href="#serialize-a-private-state-token" id="ref-for-serialize-a-private-state-token">serializing a private state token</a> with <var>privateStateToken</var></p>
      <dt data-md><a data-link-type="dfn" href="#attribution-trigger-debug-reporting-enabled" id="ref-for-attribution-trigger-debug-reporting-enabled①">debug reporting enabled</a>
      <dd data-md>
       <p><var>debugReportingEnabled</var></p>
      <dd data-md>
       <p><a data-link-type="dfn" href="#attribution-trigger-aggregation-coordinator" id="ref-for-attribution-trigger-aggregation-coordinator①">aggregation coordinator</a></p>
      <dd data-md>
       <p><var>aggregationCoordinator</var></p>
     </dl>
    <li data-md>
     <p>Return <var>trigger</var>.</p>
   </ol>
   <p class="issue" id="issue-e6d5a493①"><a class="self-link" href="#issue-e6d5a493①"></a> Determine proper charset-handling for the JSON header value.</p>
   <h3 class="heading settled dfn-paneled" data-dfn-type="dfn" data-level="11.2" data-lt="Does filter data match" data-noexport id="does-filter-data-match"><span class="secno">11.2. </span><span class="content">Does filter data match</span><a class="self-link" href="#does-filter-data-match" id="ref-for-does-filter-data-match"></a></h3>
   <p>To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="match-filter-values">match <a data-link-type="dfn" href="#filter-value" id="ref-for-filter-value①">filter values</a></dfn> given a <a data-link-type="dfn" href="#filter-value" id="ref-for-filter-value②">filter value</a> <var>a</var> and a <a data-link-type="dfn" href="#filter-value" id="ref-for-filter-value③">filter value</a> <var>b</var>:</p>
   <ol>
    <li data-md>
     <p>If <var>b</var> <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-is-empty" id="ref-for-list-is-empty⑥">is empty</a>, then:</p>
     <ol>
      <li data-md>
       <p>If <var>a</var> <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-is-empty" id="ref-for-list-is-empty⑦">is empty</a>, then return true.</p>
      <li data-md>
       <p>Otherwise, return false.</p>
     </ol>
    <li data-md>
     <p>Let <var>i</var> be the <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#set-intersection" id="ref-for-set-intersection">intersection</a> of <var>a</var> and <var>b</var>.</p>
    <li data-md>
     <p>If <var>i</var> <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-is-empty" id="ref-for-list-is-empty⑧">is empty</a>, then return false.</p>
    <li data-md>
     <p>Return true.</p>
   </ol>
   <p>To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="match-filter-values-with-negation">match <a data-link-type="dfn" href="#filter-value" id="ref-for-filter-value④">filter values</a> with negation</dfn> given a <a data-link-type="dfn" href="#filter-value" id="ref-for-filter-value⑤">filter value</a> <var>a</var> and a <a data-link-type="dfn" href="#filter-value" id="ref-for-filter-value⑥">filter value</a> <var>b</var>:</p>
   <ol>
    <li data-md>
     <p>If <var>b</var> <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-is-empty" id="ref-for-list-is-empty⑨">is empty</a>, then:</p>
     <ol>
      <li data-md>
       <p>If <var>a</var> is not <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-is-empty" id="ref-for-list-is-empty①⓪">empty</a>, then return true.</p>
      <li data-md>
       <p>Otherwise, return false.</p>
     </ol>
    <li data-md>
     <p>Let <var>i</var> be the <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#set-intersection" id="ref-for-set-intersection①">intersection</a> of <var>a</var> and <var>b</var>.</p>
    <li data-md>
     <p>If <var>i</var> is not <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-is-empty" id="ref-for-list-is-empty①①">empty</a>, then return false.</p>
    <li data-md>
     <p>Return true.</p>
   </ol>
   <p>To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="match-an-attribution-sources-filter-data-against-a-filter-map">match an attribution source’s filter data against a filter map</dfn> given an <a data-link-type="dfn" href="#attribution-source" id="ref-for-attribution-source③⑦">attribution source</a> <var>source</var>, a <a data-link-type="dfn" href="#filter-map" id="ref-for-filter-map①⑨">filter map</a> <var>filter</var>, and a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#boolean" id="ref-for-boolean⑥">boolean</a> <dfn data-dfn-for="match an attribution source’s filter data against a filter map" data-dfn-type="dfn" data-noexport id="match-an-attribution-sources-filter-data-against-a-filter-map-isnegated"><var>isNegated</var><a class="self-link" href="#match-an-attribution-sources-filter-data-against-a-filter-map-isnegated"></a></dfn>:</p>
   <ol>
    <li data-md>
     <p>Let <var>sourceData</var> be <var>source</var>’s <a data-link-type="dfn" href="#attribution-source-filter-data" id="ref-for-attribution-source-filter-data③">filter data</a>.</p>
    <li data-md>
     <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-iterate" id="ref-for-map-iterate⑤">For each</a> <var>key</var> → <var>filterValues</var> of <var>filter</var>:</p>
     <ol>
      <li data-md>
       <p>If <var>sourceData</var>[<var>key</var>] does not <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists②⑧">exist</a>, <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#iteration-continue" id="ref-for-iteration-continue⑧">continue</a>.</p>
      <li data-md>
       <p>Let <var>sourceValues</var> be <var>sourceData</var>[<var>key</var>].</p>
      <li data-md>
       <p>If <var>isNegated</var> is:</p>
       <dl class="switch">
        <dt>false
        <dd> If the result of running <a data-link-type="dfn" href="#match-filter-values" id="ref-for-match-filter-values">match filter values</a> with <var>sourceValues</var> and <var>filterValues</var> is false, return false.
        <dt>true
        <dd>If the result of running <a data-link-type="dfn" href="#match-filter-values-with-negation" id="ref-for-match-filter-values-with-negation">match filter values with negation</a> with <var>sourceValues</var> and <var>filterValues</var> is false, return false.
       </dl>
     </ol>
    <li data-md>
     <p>Return true.</p>
   </ol>
   <p>To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="match-an-attribution-sources-filter-data-against-filters">match an attribution source’s filter data against filters</dfn> given an <a data-link-type="dfn" href="#attribution-source" id="ref-for-attribution-source③⑧">attribution source</a> <var>source</var>, a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list" id="ref-for-list②⑧">list</a> of <a data-link-type="dfn" href="#filter-map" id="ref-for-filter-map②⓪">filter maps</a> <var>filters</var>, and a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#boolean" id="ref-for-boolean⑦">boolean</a> <dfn class="dfn-paneled" data-dfn-for="match an attribution source’s filter data against filters" data-dfn-type="dfn" data-noexport id="match-an-attribution-sources-filter-data-against-filters-isnegated"><var>isNegated</var></dfn>:</p>
   <ol>
    <li data-md>
     <p>If <var>filters</var> <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-is-empty" id="ref-for-list-is-empty①②">is empty</a>, return true.</p>
    <li data-md>
     <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-iterate" id="ref-for-list-iterate①④">For each</a> <var>filter</var> of <var>filters</var>:</p>
     <ol>
      <li data-md>
       <p>If the result of running <a data-link-type="dfn" href="#match-an-attribution-sources-filter-data-against-a-filter-map" id="ref-for-match-an-attribution-sources-filter-data-against-a-filter-map">match an attribution source’s filter data against a filter map</a> with <var>source</var>, <var>filter</var> and <var>isNegated</var> is true, return true.</p>
     </ol>
    <li data-md>
     <p>Return false.</p>
   </ol>
   <p>To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="match-an-attribution-sources-filter-data-against-filters-and-negated-filters">match an attribution source’s filter data against filters and negated filters</dfn> given an <a data-link-type="dfn" href="#attribution-source" id="ref-for-attribution-source③⑨">attribution source</a> <var>source</var>, a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list" id="ref-for-list②⑨">list</a> of <a data-link-type="dfn" href="#filter-map" id="ref-for-filter-map②①">filter maps</a> <var>filters</var>, and a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list" id="ref-for-list③⓪">list</a> of <a data-link-type="dfn" href="#filter-map" id="ref-for-filter-map②②">filter maps</a> <var>notFilters</var>:</p>
   <ol>
    <li data-md>
     <p>If the result of running <a data-link-type="dfn" href="#match-an-attribution-sources-filter-data-against-filters" id="ref-for-match-an-attribution-sources-filter-data-against-filters">match an attribution source’s filter data against filters</a> with <var>source</var>, <var>filters</var>, and <a data-link-type="dfn" href="#match-an-attribution-sources-filter-data-against-filters-isnegated" id="ref-for-match-an-attribution-sources-filter-data-against-filters-isnegated">isNegated</a> set to false is false, return false.</p>
    <li data-md>
     <p>If the result of running <a data-link-type="dfn" href="#match-an-attribution-sources-filter-data-against-filters" id="ref-for-match-an-attribution-sources-filter-data-against-filters①">match an attribution source’s filter data against filters</a> with <var>source</var>, <var>notFilters</var>, and <a data-link-type="dfn" href="#match-an-attribution-sources-filter-data-against-filters-isnegated" id="ref-for-match-an-attribution-sources-filter-data-against-filters-isnegated①">isNegated</a> set to true is false, return false.</p>
    <li data-md>
     <p>Return true.</p>
   </ol>
   <h3 class="heading settled dfn-paneled" data-dfn-type="dfn" data-level="11.3" data-lt="Should attribution be blocked by attribution rate limit" data-noexport id="should-block-attribution-for-attribution-limit"><span class="secno">11.3. </span><span class="content">Should attribution be blocked by attribution rate limit</span><a class="self-link" href="#should-block-attribution-for-attribution-limit" id="ref-for-should-block-attribution-for-attribution-limit"></a></h3>
   <p>Given an <a data-link-type="dfn" href="#attribution-trigger" id="ref-for-attribution-trigger⑧">attribution trigger</a> <var>trigger</var> and <a data-link-type="dfn" href="#attribution-source" id="ref-for-attribution-source④⓪">attribution source</a> <var>sourceToAttribute</var>:</p>
   <ol>
    <li data-md>
     <p>Let <var>matchingRateLimitRecords</var> be all <a data-link-type="dfn" href="#attribution-rate-limit-record" id="ref-for-attribution-rate-limit-record⑧">attribution rate-limit records</a> <var>record</var> of <a data-link-type="dfn" href="#attribution-rate-limit-cache" id="ref-for-attribution-rate-limit-cache⑤">attribution rate-limit cache</a> where all of the following are true:</p>
     <ul>
      <li data-md>
       <p><var>record</var>’s <a data-link-type="dfn" href="#attribution-rate-limit-record-scope" id="ref-for-attribution-rate-limit-record-scope④">scope</a> is "<code><a data-link-type="dfn" href="#rate-limit-scope-attribution" id="ref-for-rate-limit-scope-attribution②">attribution</a></code>"</p>
      <li data-md>
       <p><var>record</var>’s <a data-link-type="dfn" href="#attribution-rate-limit-record-source-site" id="ref-for-attribution-rate-limit-record-source-site⑥">source site</a> and <var>sourceToAttribute</var>’s <a data-link-type="dfn" href="#attribution-source-source-site" id="ref-for-attribution-source-source-site⑤">source site</a> are equal</p>
      <li data-md>
       <p><var>record</var>’s <a data-link-type="dfn" href="#attribution-rate-limit-record-attribution-destination" id="ref-for-attribution-rate-limit-record-attribution-destination⑥">attribution destination</a> and <var>trigger</var>’s <a data-link-type="dfn" href="#attribution-trigger-attribution-destination" id="ref-for-attribution-trigger-attribution-destination②">attribution destination</a> are equal</p>
      <li data-md>
       <p><var>record</var>’s <a data-link-type="dfn" href="#attribution-rate-limit-record-reporting-endpoint" id="ref-for-attribution-rate-limit-record-reporting-endpoint④">reporting endpoint</a> and <var>trigger</var>’s <a data-link-type="dfn" href="#attribution-trigger-reporting-endpoint" id="ref-for-attribution-trigger-reporting-endpoint③">reporting endpoint</a> are <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#same-origin" id="ref-for-same-origin④">same origin</a></p>
      <li data-md>
       <p><var>record</var>’s <a data-link-type="dfn" href="#attribution-rate-limit-record-time" id="ref-for-attribution-rate-limit-record-time②">time</a> is at least <a data-link-type="dfn" href="#attribution-rate-limit-window" id="ref-for-attribution-rate-limit-window③">attribution rate-limit window</a> before <var>trigger</var>’s <a data-link-type="dfn" href="#attribution-trigger-trigger-time" id="ref-for-attribution-trigger-trigger-time②">trigger time</a></p>
     </ul>
    <li data-md>
     <p>If <var>matchingRateLimitRecords</var>’s <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-size" id="ref-for-list-size①⓪">size</a> is greater than or equal to <a data-link-type="dfn" href="#max-attributions-per-rate-limit-window" id="ref-for-max-attributions-per-rate-limit-window">max attributions per rate-limit window</a>, return <strong>blocked</strong>.</p>
    <li data-md>
     <p>Return <strong>allowed</strong>.</p>
   </ol>
   <h3 class="heading settled dfn-paneled" data-dfn-type="dfn" data-level="11.4" data-lt="Should processing be blocked by reporting-endpoint limit" data-noexport id="should-block-processing-for-reporting-endpoint-limit"><span class="secno">11.4. </span><span class="content">Should processing be blocked by reporting-endpoint limit</span><a class="self-link" href="#should-block-processing-for-reporting-endpoint-limit" id="ref-for-should-block-processing-for-reporting-endpoint-limit②"></a></h3>
   <p>Given an <a data-link-type="dfn" href="#attribution-rate-limit-record" id="ref-for-attribution-rate-limit-record⑨">attribution rate-limit record</a> <var>newRecord</var>:</p>
   <ol>
    <li data-md>
     <p>Let <var>max</var> be <a data-link-type="dfn" href="#max-source-reporting-endpoints-per-rate-limit-window" id="ref-for-max-source-reporting-endpoints-per-rate-limit-window">max source reporting endpoints per rate-limit window</a>.</p>
    <li data-md>
     <p>If <var>newRecord</var>’s <a data-link-type="dfn" href="#attribution-rate-limit-record-scope" id="ref-for-attribution-rate-limit-record-scope⑤">scope</a> is "<code><a data-link-type="dfn" href="#rate-limit-scope-attribution" id="ref-for-rate-limit-scope-attribution③">attribution</a></code>", set <var>max</var> to <a data-link-type="dfn" href="#max-attribution-reporting-endpoints-per-rate-limit-window" id="ref-for-max-attribution-reporting-endpoints-per-rate-limit-window">max attribution reporting endpoints per rate-limit window</a>.</p>
    <li data-md>
     <p>Let <var>matchingRateLimitRecords</var> be all <a data-link-type="dfn" href="#attribution-rate-limit-record" id="ref-for-attribution-rate-limit-record①⓪">attribution rate-limit records</a> <var>record</var> in the <a data-link-type="dfn" href="#attribution-rate-limit-cache" id="ref-for-attribution-rate-limit-cache⑥">attribution rate-limit cache</a> where all of the following are true:</p>
     <ul>
      <li data-md>
       <p><var>record</var>’s <a data-link-type="dfn" href="#attribution-rate-limit-record-scope" id="ref-for-attribution-rate-limit-record-scope⑥">scope</a> and <var>newRecord</var>’s <a data-link-type="dfn" href="#attribution-rate-limit-record-scope" id="ref-for-attribution-rate-limit-record-scope⑦">scope</a> are equal</p>
      <li data-md>
       <p><var>record</var>’s <a data-link-type="dfn" href="#attribution-rate-limit-record-source-site" id="ref-for-attribution-rate-limit-record-source-site⑦">source site</a> and <var>newRecord</var>’s <a data-link-type="dfn" href="#attribution-rate-limit-record-source-site" id="ref-for-attribution-rate-limit-record-source-site⑧">source site</a> are equal</p>
      <li data-md>
       <p><var>record</var>’s <a data-link-type="dfn" href="#attribution-rate-limit-record-attribution-destination" id="ref-for-attribution-rate-limit-record-attribution-destination⑦">attribution destination</a> and <var>newRecord</var>’s <a data-link-type="dfn" href="#attribution-rate-limit-record-attribution-destination" id="ref-for-attribution-rate-limit-record-attribution-destination⑧">attribution destination</a> are equal</p>
      <li data-md>
       <p><var>record</var>’s <a data-link-type="dfn" href="#attribution-rate-limit-record-time" id="ref-for-attribution-rate-limit-record-time③">time</a> is at least <a data-link-type="dfn" href="#attribution-rate-limit-window" id="ref-for-attribution-rate-limit-window④">attribution rate-limit window</a> before <var>newRecord</var>’s <a data-link-type="dfn" href="#attribution-rate-limit-record-time" id="ref-for-attribution-rate-limit-record-time④">time</a></p>
     </ul>
    <li data-md>
     <p>Let <var>distinctReportingEndpoints</var> be a new empty <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-set" id="ref-for-ordered-set②③">ordered set</a>.</p>
    <li data-md>
     <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-iterate" id="ref-for-list-iterate①⑤">For each</a> <var>record</var> of <var>matchingRateLimitRecords</var>, <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#set-append" id="ref-for-set-append①③">append</a> <var>record</var>’s <a data-link-type="dfn" href="#attribution-rate-limit-record-reporting-endpoint" id="ref-for-attribution-rate-limit-record-reporting-endpoint⑤">reporting endpoint</a> to <var>distinctReportingEndpoints</var>.</p>
    <li data-md>
     <p>If <var>distinctReportingEndpoints</var> <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-contain" id="ref-for-list-contain">contains</a> <var>newRecord</var>’s <a data-link-type="dfn" href="#attribution-rate-limit-record-reporting-endpoint" id="ref-for-attribution-rate-limit-record-reporting-endpoint⑥">reporting endpoint</a>, return <strong>allowed</strong>.</p>
    <li data-md>
     <p>If <var>distinctReportingEndpoints</var>’s <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-size" id="ref-for-list-size①①">size</a> is greater than or equal to <var>max</var>, return <strong>blocked</strong>.</p>
    <li data-md>
     <p>Return <strong>allowed</strong>.</p>
   </ol>
   <h3 class="heading settled dfn-paneled" data-dfn-type="dfn" data-level="11.5" data-lt="Should attribution be blocked by rate limits" data-noexport id="should-block-attribution-for-rate-limits"><span class="secno">11.5. </span><span class="content">Should attribution be blocked by rate limits</span><a class="self-link" href="#should-block-attribution-for-rate-limits" id="ref-for-should-block-attribution-for-rate-limits"></a></h3>
   <p>Given an <a data-link-type="dfn" href="#attribution-trigger" id="ref-for-attribution-trigger⑨">attribution trigger</a> <var>trigger</var>, an <a data-link-type="dfn" href="#attribution-source" id="ref-for-attribution-source④①">attribution source</a> <var>sourceToAttribute</var>, and an <a data-link-type="dfn" href="#attribution-rate-limit-record" id="ref-for-attribution-rate-limit-record①①">attribution rate-limit record</a> <var>newRecord</var>:</p>
   <ol>
    <li data-md>
     <p>If the result of running <a data-link-type="dfn" href="#should-block-attribution-for-attribution-limit" id="ref-for-should-block-attribution-for-attribution-limit①">should attribution be blocked by attribution rate limit</a> with <var>trigger</var> and <var>sourceToAttribute</var> is <strong>blocked</strong>:</p>
     <ol>
      <li data-md>
       <p>Let <var>debugData</var> be the result of running <a data-link-type="dfn" href="#obtain-debug-data-on-trigger-registration" id="ref-for-obtain-debug-data-on-trigger-registration">obtain debug data on trigger registration</a> with "<code><a data-link-type="dfn" href="#trigger-debug-data-type-trigger-attributions-per-source-destination-limit" id="ref-for-trigger-debug-data-type-trigger-attributions-per-source-destination-limit">trigger-attributions-per-source-destination-limit</a></code>", <var>trigger</var>, <var>sourceToAttribute</var> and <a data-link-type="dfn" href="#obtain-debug-data-on-trigger-registration-report" id="ref-for-obtain-debug-data-on-trigger-registration-report">report</a> set to null.</p>
      <li data-md>
       <p>Return the <a data-link-type="dfn" href="#triggering-result" id="ref-for-triggering-result①⑨">triggering result</a> ("<code><a data-link-type="dfn" href="#triggering-status-dropped" id="ref-for-triggering-status-dropped">dropped</a></code>", <var>debugData</var>).</p>
     </ol>
    <li data-md>
     <p>If the result of running <a data-link-type="dfn" href="#should-block-processing-for-reporting-endpoint-limit" id="ref-for-should-block-processing-for-reporting-endpoint-limit①">should processing be blocked by reporting-endpoint limit</a> with <var>newRecord</var> is <strong>blocked</strong>:</p>
     <ol>
      <li data-md>
       <p>Let <var>debugData</var> be the result of running <a data-link-type="dfn" href="#obtain-debug-data-on-trigger-registration" id="ref-for-obtain-debug-data-on-trigger-registration①">obtain debug data on trigger registration</a> with "<code><a data-link-type="dfn" href="#trigger-debug-data-type-trigger-reporting-origin-limit" id="ref-for-trigger-debug-data-type-trigger-reporting-origin-limit">trigger-reporting-origin-limit</a></code>", <var>trigger</var>, <var>sourceToAttribute</var> and <a data-link-type="dfn" href="#obtain-debug-data-on-trigger-registration-report" id="ref-for-obtain-debug-data-on-trigger-registration-report①">report</a> set to null.</p>
      <li data-md>
       <p>Return the <a data-link-type="dfn" href="#triggering-result" id="ref-for-triggering-result①">triggering result</a> ("<code><a data-link-type="dfn" href="#triggering-status-dropped" id="ref-for-triggering-status-dropped①">dropped</a></code>", <var>debugData</var>).</p>
     </ol>
    <li data-md>
     <p>Return null.</p>
   </ol>
   <h3 class="heading settled algorithm" data-algorithm="Creating aggregatable contributions" data-level="11.6" id="creating-aggregatable-contributions"><span class="secno">11.6. </span><span class="content">Creating aggregatable contributions</span><a class="self-link" href="#creating-aggregatable-contributions"></a></h3>
   <p>To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="create-aggregatable-contributions">create <a data-link-type="dfn" href="#aggregatable-contribution" id="ref-for-aggregatable-contribution②">aggregatable contributions</a></dfn> given an <a data-link-type="dfn" href="#attribution-source" id="ref-for-attribution-source④②">attribution source</a> <var>source</var> and an <a data-link-type="dfn" href="#attribution-trigger" id="ref-for-attribution-trigger①⓪">attribution trigger</a> <var>trigger</var>, run the following steps:</p>
   <ol>
    <li data-md>
     <p>Let <var>aggregationKeys</var> be the result of <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-clone" id="ref-for-map-clone">cloning</a> <var>source</var>’s <a data-link-type="dfn" href="#attribution-source-aggregation-keys" id="ref-for-attribution-source-aggregation-keys②">aggregation keys</a>.</p>
    <li data-md>
     <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-iterate" id="ref-for-list-iterate①⑥">For each</a> <var>triggerData</var> of <var>trigger</var>’s <a data-link-type="dfn" href="#attribution-trigger-aggregatable-trigger-data" id="ref-for-attribution-trigger-aggregatable-trigger-data②">aggregatable trigger data</a>:</p>
     <ol>
      <li data-md>
       <p>If the result of running <a data-link-type="dfn" href="#match-an-attribution-sources-filter-data-against-filters-and-negated-filters" id="ref-for-match-an-attribution-sources-filter-data-against-filters-and-negated-filters">match an attribution source’s filter data against filters and negated filters</a> with <var>source</var>, <var>triggerData</var>’s <a data-link-type="dfn" href="#aggregatable-trigger-data-filters" id="ref-for-aggregatable-trigger-data-filters①">filters</a>, and <var>triggerData</var>’s <a data-link-type="dfn" href="#aggregatable-trigger-data-negated-filters" id="ref-for-aggregatable-trigger-data-negated-filters①">negated filters</a> is false, <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#iteration-continue" id="ref-for-iteration-continue⑨">continue</a>.</p>
      <li data-md>
       <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-iterate" id="ref-for-list-iterate①⑦">For each</a> <var>sourceKey</var> of <var>triggerData</var>’s <a data-link-type="dfn" href="#aggregatable-trigger-data-source-keys" id="ref-for-aggregatable-trigger-data-source-keys②">source keys</a>:</p>
       <ol>
        <li data-md>
         <p>If <var>aggregationKeys</var>[<var>sourceKey</var>] does not <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists②⑨">exist</a>, <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#iteration-continue" id="ref-for-iteration-continue①⓪">continue</a>.</p>
        <li data-md>
         <p>Set <var>aggregationKeys</var>[<var>sourceKey</var>] to <var>aggregationKeys</var>[<var>sourceKey</var>] OR <var>triggerData</var>’s <a data-link-type="dfn" href="#aggregatable-trigger-data-key-piece" id="ref-for-aggregatable-trigger-data-key-piece①">key piece</a>.</p>
       </ol>
     </ol>
    <li data-md>
     <p>Let <var>aggregatableValues</var> be <var>trigger</var>’s <a data-link-type="dfn" href="#attribution-trigger-aggregatable-values" id="ref-for-attribution-trigger-aggregatable-values③">aggregatable values</a>.</p>
    <li data-md>
     <p>Let <var>contributions</var> be a new empty <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list" id="ref-for-list③①">list</a>.</p>
    <li data-md>
     <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-iterate" id="ref-for-map-iterate⑥">For each</a> <var>id</var> → <var>key</var> of <var>aggregationKeys</var>:</p>
     <ol>
      <li data-md>
       <p>If <var>aggregatableValues</var>[<var>id</var>] does not <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists③⓪">exist</a>, <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#iteration-continue" id="ref-for-iteration-continue①①">continue</a>.</p>
      <li data-md>
       <p>Let <var>contribution</var> be a new <a data-link-type="dfn" href="#aggregatable-contribution" id="ref-for-aggregatable-contribution③">aggregatable contribution</a> with the items:</p>
       <dl>
        <dt data-md><a data-link-type="dfn" href="#aggregatable-contribution-key" id="ref-for-aggregatable-contribution-key">key</a>
        <dd data-md>
         <p><var>key</var></p>
        <dt data-md><a data-link-type="dfn" href="#aggregatable-contribution-value" id="ref-for-aggregatable-contribution-value①">value</a>
        <dd data-md>
         <p><var>aggregatableValues</var>[<var>id</var>]</p>
       </dl>
      <li data-md>
       <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-append" id="ref-for-list-append④">Append</a> <var>contribution</var> to <var>contributions</var>.</p>
     </ol>
    <li data-md>
     <p>Return <var>contributions</var>.</p>
   </ol>
   <h3 class="heading settled" data-level="11.7" id="can-source-create-aggregatable-contributions"><span class="secno">11.7. </span><span class="content">Can source create aggregatable contributions</span><a class="self-link" href="#can-source-create-aggregatable-contributions"></a></h3>
   <p>To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="check-if-an-attribution-source-can-create-aggregatable-contributions">check if an <a data-link-type="dfn" href="#attribution-source" id="ref-for-attribution-source④③">attribution source</a> can create <a data-link-type="dfn" href="#aggregatable-contribution" id="ref-for-aggregatable-contribution④">aggregatable contributions</a></dfn> given an <a data-link-type="dfn" href="#aggregatable-report" id="ref-for-aggregatable-report⑦">aggregatable report</a> <var>report</var> and an <a data-link-type="dfn" href="#attribution-source" id="ref-for-attribution-source④④">attribution source</a> <var>sourceToAttribute</var>, run the following steps:</p>
   <ol>
    <li data-md>
     <p>Let <var>remainingAggregatableBudget</var> be <a data-link-type="dfn" href="#allowed-aggregatable-budget-per-source" id="ref-for-allowed-aggregatable-budget-per-source">allowed aggregatable budget per source</a> minus <var>sourceToAttribute</var>’s <a data-link-type="dfn" href="#attribution-source-aggregatable-budget-consumed" id="ref-for-attribution-source-aggregatable-budget-consumed①">aggregatable budget consumed</a>.</p>
    <li data-md>
     <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#assert" id="ref-for-assert③">Assert</a>: <var>remainingAggregatableBudget</var> is greater than or equal to 0.</p>
    <li data-md>
     <p>If <var>report</var>’s <a data-link-type="dfn" href="#aggregatable-report-required-aggregatable-budget" id="ref-for-aggregatable-report-required-aggregatable-budget①">required aggregatable budget</a> is greater than <var>remainingAggregatableBudget</var>, return false.</p>
    <li data-md>
     <p>Return true.</p>
   </ol>
   <h3 class="heading settled" data-level="11.8" id="obtaining-trigger-debug-data"><span class="secno">11.8. </span><span class="content">Obtaining debug data on trigger registration</span><a class="self-link" href="#obtaining-trigger-debug-data"></a></h3>
   <p>To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="obtain-debug-data-body-on-trigger-registration">obtain debug data body on trigger registration</dfn> given a <a data-link-type="dfn" href="#trigger-debug-data-type" id="ref-for-trigger-debug-data-type">trigger debug data type</a> <var>dataType</var>, an <a data-link-type="dfn" href="#attribution-trigger" id="ref-for-attribution-trigger①①">attribution trigger</a> <var>trigger</var>,
an optional <a data-link-type="dfn" href="#attribution-source" id="ref-for-attribution-source④⑤">attribution source</a> <dfn data-dfn-for="obtain debug data body on trigger registration" data-dfn-type="dfn" data-lt="sourceToAttribute" data-noexport id="obtain-debug-data-body-on-trigger-registration-sourcetoattribute"> <var>sourceToAttribute</var><a class="self-link" href="#obtain-debug-data-body-on-trigger-registration-sourcetoattribute"></a></dfn>, and an optional <a data-link-type="dfn" href="#attribution-report" id="ref-for-attribution-report④">attribution report</a> <dfn data-dfn-for="obtain debug data body on trigger registration" data-dfn-type="dfn" data-noexport id="obtain-debug-data-body-on-trigger-registration-report"><var>report</var><a class="self-link" href="#obtain-debug-data-body-on-trigger-registration-report"></a></dfn>:</p>
   <ol>
    <li data-md>
     <p>Let <var>body</var> be a new <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-is-empty" id="ref-for-map-is-empty">empty</a> <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-map" id="ref-for-ordered-map②①">map</a>.</p>
    <li data-md>
     <p>If <var>dataType</var> is:</p>
     <dl class="switch">
      <dt data-md>"<code><a data-link-type="dfn" href="#trigger-debug-data-type-trigger-attributions-per-source-destination-limit" id="ref-for-trigger-debug-data-type-trigger-attributions-per-source-destination-limit①">trigger-attributions-per-source-destination-limit</a></code>"
      <dd data-md>
       <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-set" id="ref-for-map-set⑥">Set</a> <var>body</var>["<code>limit</code>"] to the user agent’s <a data-link-type="dfn" href="#max-attributions-per-rate-limit-window" id="ref-for-max-attributions-per-rate-limit-window①">max attributions per rate-limit window</a>, <a data-link-type="dfn" href="#serialize-an-integer" id="ref-for-serialize-an-integer④">serialized</a>.</p>
      <dt data-md>"<code><a data-link-type="dfn" href="#trigger-debug-data-type-trigger-reporting-origin-limit" id="ref-for-trigger-debug-data-type-trigger-reporting-origin-limit①">trigger-reporting-origin-limit</a></code>"
      <dd data-md>
       <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-set" id="ref-for-map-set⑦">Set</a> <var>body</var>["<code>limit</code>"] to the user agent’s <a data-link-type="dfn" href="#max-attribution-reporting-endpoints-per-rate-limit-window" id="ref-for-max-attribution-reporting-endpoints-per-rate-limit-window①">max attribution reporting endpoints per rate-limit window</a>, <a data-link-type="dfn" href="#serialize-an-integer" id="ref-for-serialize-an-integer⑤">serialized</a>.</p>
      <dt data-md>"<code><a data-link-type="dfn" href="#trigger-debug-data-type-trigger-event-storage-limit" id="ref-for-trigger-debug-data-type-trigger-event-storage-limit">trigger-event-storage-limit</a></code>"
      <dd data-md>
       <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-set" id="ref-for-map-set⑧">Set</a> <var>body</var>["<code>limit</code>"] to <a data-link-type="dfn" href="#max-event-level-reports-per-attribution-destination" id="ref-for-max-event-level-reports-per-attribution-destination①">max event-level reports per attribution destination</a>, <a data-link-type="dfn" href="#serialize-an-integer" id="ref-for-serialize-an-integer⑥">serialized</a>.</p>
      <dt data-md>"<code><a data-link-type="dfn" href="#trigger-debug-data-type-trigger-aggregate-storage-limit" id="ref-for-trigger-debug-data-type-trigger-aggregate-storage-limit">trigger-aggregate-storage-limit</a></code>"
      <dd data-md>
       <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-set" id="ref-for-map-set⑨">Set</a> <var>body</var>["<code>limit</code>"] to <a data-link-type="dfn" href="#max-aggregatable-reports-per-attribution-destination" id="ref-for-max-aggregatable-reports-per-attribution-destination">max aggregatable reports per attribution destination</a>, <a data-link-type="dfn" href="#serialize-an-integer" id="ref-for-serialize-an-integer⑦">serialized</a>.</p>
      <dt data-md>"<code><a data-link-type="dfn" href="#trigger-debug-data-type-trigger-aggregate-insufficient-budget" id="ref-for-trigger-debug-data-type-trigger-aggregate-insufficient-budget">trigger-aggregate-insufficient-budget</a></code>"
      <dd data-md>
       <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-set" id="ref-for-map-set①⓪">Set</a> <var>body</var>["<code>limit</code>"] to <a data-link-type="dfn" href="#allowed-aggregatable-budget-per-source" id="ref-for-allowed-aggregatable-budget-per-source①">allowed aggregatable budget per source</a>, <a data-link-type="dfn" href="#serialize-an-integer" id="ref-for-serialize-an-integer⑧">serialized</a>.</p>
      <dt data-md>"<code><a data-link-type="dfn" href="#trigger-debug-data-type-trigger-event-low-priority" id="ref-for-trigger-debug-data-type-trigger-event-low-priority">trigger-event-low-priority</a></code>"
      <dt data-md>"<code><a data-link-type="dfn" href="#trigger-debug-data-type-trigger-event-excessive-reports" id="ref-for-trigger-debug-data-type-trigger-event-excessive-reports">trigger-event-excessive-reports</a></code>"
      <dd data-md>
       <ol>
        <li data-md>
         <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#assert" id="ref-for-assert④">Assert</a>: <var>report</var> is not null and is an <a data-link-type="dfn" href="#event-level-report" id="ref-for-event-level-report⑦">event-level report</a>.</p>
        <li data-md>
         <p>Return the result of running <a data-link-type="dfn" href="#obtain-an-event-level-report-body" id="ref-for-obtain-an-event-level-report-body">obtain an event-level report body</a> with <var>report</var>.</p>
       </ol>
     </dl>
    <li data-md>
     <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-set" id="ref-for-map-set①①">Set</a> <var>body</var>["<code>attribution_destination</code>"] to <var>trigger</var>’s <a data-link-type="dfn" href="#attribution-trigger-attribution-destination" id="ref-for-attribution-trigger-attribution-destination③">attribution destination</a>, <a href="https://html.spec.whatwg.org/multipage/origin.html#serialization-of-a-site">serialized</a>.</p>
    <li data-md>
     <p>If <var>trigger</var>’s <a data-link-type="dfn" href="#attribution-trigger-debug-key" id="ref-for-attribution-trigger-debug-key②">debug key</a> is not null, <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-set" id="ref-for-map-set①②">set</a> <var>body</var>["<code>trigger_debug_key</code>"]
to <var>trigger</var>’s <a data-link-type="dfn" href="#attribution-trigger-debug-key" id="ref-for-attribution-trigger-debug-key③">debug key</a>, <a data-link-type="dfn" href="#serialize-an-integer" id="ref-for-serialize-an-integer⑨">serialized</a>.</p>
    <li data-md>
     <p>If <var>sourceToAttribute</var> is not null:</p>
     <ol>
      <li data-md>
       <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-set" id="ref-for-map-set①③">Set</a> <var>body</var>["<code>source_event_id</code>"] to <var>source</var>’s <a data-link-type="dfn" href="#attribution-source-event-id" id="ref-for-attribution-source-event-id②">event ID</a>, <a data-link-type="dfn" href="#serialize-an-integer" id="ref-for-serialize-an-integer①⓪">serialized</a>.</p>
      <li data-md>
       <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-set" id="ref-for-map-set①④">Set</a> <var>body</var>["<code>source_site</code>"] to <var>source</var>’s <a data-link-type="dfn" href="#attribution-source-source-site" id="ref-for-attribution-source-source-site⑥">source site</a>, <a href="https://html.spec.whatwg.org/multipage/origin.html#serialization-of-a-site">serialized</a>.</p>
      <li data-md>
       <p>If <var>sourceToAttribute</var>’s <a data-link-type="dfn" href="#attribution-source-debug-key" id="ref-for-attribution-source-debug-key③">debug key</a> is not null, <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-set" id="ref-for-map-set①⑤">set</a> <var>body</var>["<code>source_debug_key</code>"] to <var>sourceToAttribute</var>’s <a data-link-type="dfn" href="#attribution-source-debug-key" id="ref-for-attribution-source-debug-key④">debug key</a>, <a data-link-type="dfn" href="#serialize-an-integer" id="ref-for-serialize-an-integer①①">serialized</a>.</p>
     </ol>
    <li data-md>
     <p>Return <var>body</var>.</p>
   </ol>
   <p>To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="obtain-debug-data-on-trigger-registration">obtain debug data on trigger registration</dfn> given a <a data-link-type="dfn" href="#trigger-debug-data-type" id="ref-for-trigger-debug-data-type①">trigger debug data type</a> <var>dataType</var>,
an <a data-link-type="dfn" href="#attribution-trigger" id="ref-for-attribution-trigger①②">attribution trigger</a> <var>trigger</var>, an optional <a data-link-type="dfn" href="#attribution-source" id="ref-for-attribution-source④⑥">attribution source</a> <dfn data-dfn-for="obtain debug data on trigger registration" data-dfn-type="dfn" data-noexport id="obtain-debug-data-on-trigger-registration-sourcetoattribute"><var>sourceToAttribute</var><a class="self-link" href="#obtain-debug-data-on-trigger-registration-sourcetoattribute"></a></dfn>,
and an optional <a data-link-type="dfn" href="#attribution-report" id="ref-for-attribution-report⑤">attribution report</a> <dfn class="dfn-paneled" data-dfn-for="obtain debug data on trigger registration" data-dfn-type="dfn" data-noexport id="obtain-debug-data-on-trigger-registration-report"><var>report</var></dfn>:</p>
   <ol>
    <li data-md>
     <p>If <var>trigger</var>’s <a data-link-type="dfn" href="#attribution-trigger-debug-reporting-enabled" id="ref-for-attribution-trigger-debug-reporting-enabled②">debug reporting enabled</a> is false, return null.</p>
    <li data-md>
     <p>If the result of running <a data-link-type="dfn" href="#check-if-cookie-based-debugging-is-allowed" id="ref-for-check-if-cookie-based-debugging-is-allowed③">check if cookie-based debugging is allowed</a> with <var>trigger</var>’s <a data-link-type="dfn" href="#attribution-trigger-reporting-endpoint" id="ref-for-attribution-trigger-reporting-endpoint④">reporting endpoint</a> is <strong>blocked</strong>, return null.</p>
    <li data-md>
     <p>Let <var>data</var> be a new <a data-link-type="dfn" href="#attribution-debug-data" id="ref-for-attribution-debug-data⑤">attribution debug data</a> with the items:</p>
     <dl>
      <dt data-md><a data-link-type="dfn" href="#attribution-debug-data-data-type" id="ref-for-attribution-debug-data-data-type②">data type</a>
      <dd data-md>
       <p><var>dataType</var>.</p>
      <dt data-md><a data-link-type="dfn" href="#attribution-debug-data-body" id="ref-for-attribution-debug-data-body②">body</a>
      <dd data-md>
       <p>The result of running <a data-link-type="dfn" href="#obtain-debug-data-body-on-trigger-registration" id="ref-for-obtain-debug-data-body-on-trigger-registration">obtain debug data body on trigger registration</a> with <var>dataType</var>, <var>trigger</var>, <var>sourceToAttribute</var> and <var>report</var>.</p>
     </dl>
    <li data-md>
     <p>Return <var>data</var>.</p>
   </ol>
   <h3 class="heading settled algorithm" data-algorithm="Triggering event-level attribution" data-level="11.9" id="triggering-event-level-attribution"><span class="secno">11.9. </span><span class="content">Triggering event-level attribution</span><a class="self-link" href="#triggering-event-level-attribution"></a></h3>
   <p>To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="trigger-event-level-attribution">trigger event-level attribution</dfn> given an <a data-link-type="dfn" href="#attribution-trigger" id="ref-for-attribution-trigger①③">attribution trigger</a> <var>trigger</var>, an <a data-link-type="dfn" href="#attribution-source" id="ref-for-attribution-source④⑦">attribution source</a> <var>sourceToAttribute</var>, and an <a data-link-type="dfn" href="#attribution-rate-limit-record" id="ref-for-attribution-rate-limit-record①②">attribution rate-limit record</a> <var>rateLimitRecord</var>, run the following steps:</p>
   <ol>
    <li data-md>
     <p>If <var>trigger</var>’s <a data-link-type="dfn" href="#attribution-trigger-event-level-trigger-configurations" id="ref-for-attribution-trigger-event-level-trigger-configurations②">event-level trigger configurations</a> <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-is-empty" id="ref-for-list-is-empty①③">is empty</a>, return the <a data-link-type="dfn" href="#triggering-result" id="ref-for-triggering-result②">triggering result</a> ("<code><a data-link-type="dfn" href="#triggering-status-dropped" id="ref-for-triggering-status-dropped②">dropped</a></code>", null).</p>
    <li data-md>
     <p>If <var>sourceToAttribute</var>’s <a data-link-type="dfn" href="#attribution-source-randomized-response" id="ref-for-attribution-source-randomized-response④">randomized response</a> is not null and is not <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-is-empty" id="ref-for-list-is-empty①④">empty</a>:</p>
     <ol>
      <li data-md>
       <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#assert" id="ref-for-assert⑤">Assert</a>: <var>sourceToAttribute</var>’s <a data-link-type="dfn" href="#attribution-source-event-level-attributable" id="ref-for-attribution-source-event-level-attributable①">event-level attributable</a> is false.</p>
      <li data-md>
       <p>Let <var>debugData</var> be the result of running <a data-link-type="dfn" href="#obtain-debug-data-on-trigger-registration" id="ref-for-obtain-debug-data-on-trigger-registration②">obtain debug data on trigger registration</a> with "<code><a data-link-type="dfn" href="#trigger-debug-data-type-trigger-event-noise" id="ref-for-trigger-debug-data-type-trigger-event-noise">trigger-event-noise</a></code>", <var>trigger</var>, <var>sourceToAttribute</var> and <a data-link-type="dfn" href="#obtain-debug-data-on-trigger-registration-report" id="ref-for-obtain-debug-data-on-trigger-registration-report②">report</a> set to null.</p>
      <li data-md>
       <p>Return the <a data-link-type="dfn" href="#triggering-result" id="ref-for-triggering-result③">triggering result</a> ("<code><a data-link-type="dfn" href="#triggering-status-dropped" id="ref-for-triggering-status-dropped③">dropped</a></code>", <var>debugData</var>).</p>
     </ol>
    <li data-md>
     <p>If <var>sourceToAttribute</var>’s <a data-link-type="dfn" href="#attribution-source-event-report-window-time" id="ref-for-attribution-source-event-report-window-time">event report window time</a> is less than <var>trigger</var>’s <a data-link-type="dfn" href="#attribution-trigger-trigger-time" id="ref-for-attribution-trigger-trigger-time③">trigger time</a>:</p>
     <ol>
      <li data-md>
       <p>Let <var>debugData</var> be the result of running <a data-link-type="dfn" href="#obtain-debug-data-on-trigger-registration" id="ref-for-obtain-debug-data-on-trigger-registration③">obtain debug data on trigger registration</a> with "<code><a data-link-type="dfn" href="#trigger-debug-data-type-trigger-event-report-window-passed" id="ref-for-trigger-debug-data-type-trigger-event-report-window-passed">trigger-event-report-window-passed</a></code>", <var>trigger</var>, <var>sourceToAttribute</var> and <a data-link-type="dfn" href="#obtain-debug-data-on-trigger-registration-report" id="ref-for-obtain-debug-data-on-trigger-registration-report③">report</a> set to null.</p>
      <li data-md>
       <p>Return the <a data-link-type="dfn" href="#triggering-result" id="ref-for-triggering-result④">triggering result</a> ("<code><a data-link-type="dfn" href="#triggering-status-dropped" id="ref-for-triggering-status-dropped④">dropped</a></code>", <var>debugData</var>).</p>
     </ol>
    <li data-md>
     <p>Let <var>matchedConfig</var> be null.</p>
    <li data-md>
     <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-iterate" id="ref-for-list-iterate①⑧">For each</a> <a data-link-type="dfn" href="#event-level-trigger-configuration" id="ref-for-event-level-trigger-configuration③">event-level trigger configuration</a> <var>config</var> of <var>trigger</var>’s <a data-link-type="dfn" href="#attribution-trigger-event-level-trigger-configurations" id="ref-for-attribution-trigger-event-level-trigger-configurations③">event-level trigger configurations</a>:</p>
     <ol>
      <li data-md>
       <p>If the result of running <a data-link-type="dfn" href="#match-an-attribution-sources-filter-data-against-filters-and-negated-filters" id="ref-for-match-an-attribution-sources-filter-data-against-filters-and-negated-filters①">match an attribution source’s filter data against filters and negated filters</a> with <var>sourceToAttribute</var>, <var>config</var>’s <a data-link-type="dfn" href="#event-level-trigger-configuration-filters" id="ref-for-event-level-trigger-configuration-filters②">filters</a>, and <var>config</var>’s <a data-link-type="dfn" href="#event-level-trigger-configuration-negated-filters" id="ref-for-event-level-trigger-configuration-negated-filters①">negated filters</a> is true:</p>
       <ol>
        <li data-md>
         <p>Set <var>matchedConfig</var> to <var>config</var>.</p>
        <li data-md>
         <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#iteration-break" id="ref-for-iteration-break">Break</a>.</p>
       </ol>
     </ol>
    <li data-md>
     <p>If <var>matchedConfig</var> is null:</p>
     <ol>
      <li data-md>
       <p>Let <var>debugData</var> be the result of running <a data-link-type="dfn" href="#obtain-debug-data-on-trigger-registration" id="ref-for-obtain-debug-data-on-trigger-registration④">obtain debug data on trigger registration</a> with "<code><a data-link-type="dfn" href="#trigger-debug-data-type-trigger-event-no-matching-configurations" id="ref-for-trigger-debug-data-type-trigger-event-no-matching-configurations">trigger-event-no-matching-configurations</a></code>", <var>trigger</var>, <var>sourceToAttribute</var> and <a data-link-type="dfn" href="#obtain-debug-data-on-trigger-registration-report" id="ref-for-obtain-debug-data-on-trigger-registration-report④">report</a> set to null.</p>
      <li data-md>
       <p>Return the <a data-link-type="dfn" href="#triggering-result" id="ref-for-triggering-result⑤">triggering result</a> ("<code><a data-link-type="dfn" href="#triggering-status-dropped" id="ref-for-triggering-status-dropped⑤">dropped</a></code>", <var>debugData</var>).</p>
     </ol>
    <li data-md>
     <p>If <var>matchedConfig</var>’s <a data-link-type="dfn" href="#event-level-trigger-configuration-dedup-key" id="ref-for-event-level-trigger-configuration-dedup-key③">dedup key</a> is not null and <var>sourceToAttribute</var>’s <a data-link-type="dfn" href="#attribution-source-dedup-keys" id="ref-for-attribution-source-dedup-keys">dedup keys</a> <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-contain" id="ref-for-list-contain①">contains</a> it:</p>
     <ol>
      <li data-md>
       <p>Let <var>debugData</var> be the result of running <a data-link-type="dfn" href="#obtain-debug-data-on-trigger-registration" id="ref-for-obtain-debug-data-on-trigger-registration⑤">obtain debug data on trigger registration</a> with "<code><a data-link-type="dfn" href="#trigger-debug-data-type-trigger-event-deduplicated" id="ref-for-trigger-debug-data-type-trigger-event-deduplicated">trigger-event-deduplicated</a></code>", <var>trigger</var>, <var>sourceToAttribute</var> and <a data-link-type="dfn" href="#obtain-debug-data-on-trigger-registration-report" id="ref-for-obtain-debug-data-on-trigger-registration-report⑤">report</a> set to null.</p>
      <li data-md>
       <p>Return the <a data-link-type="dfn" href="#triggering-result" id="ref-for-triggering-result⑥">triggering result</a> ("<code><a data-link-type="dfn" href="#triggering-status-dropped" id="ref-for-triggering-status-dropped⑥">dropped</a></code>", <var>debugData</var>).</p>
     </ol>
    <li data-md>
     <p>Let <var>numMatchingReports</var> be the number of entries in the <a data-link-type="dfn" href="#event-level-report-cache" id="ref-for-event-level-report-cache④">event-level report cache</a> whose <a data-link-type="dfn" href="#event-level-report-attribution-destinations" id="ref-for-event-level-report-attribution-destinations②">attribution destinations</a> <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-contain" id="ref-for-list-contain②">contains</a> <var>trigger</var>’s <a data-link-type="dfn" href="#attribution-trigger-attribution-destination" id="ref-for-attribution-trigger-attribution-destination④">attribution destination</a>.</p>
    <li data-md>
     <p>If <var>numMatchingReports</var> is greater than or equal to the user agent’s <a data-link-type="dfn" href="#max-event-level-reports-per-attribution-destination" id="ref-for-max-event-level-reports-per-attribution-destination②">max event-level reports per attribution destination</a>:</p>
     <ol>
      <li data-md>
       <p>Let <var>debugData</var> be the result of running <a data-link-type="dfn" href="#obtain-debug-data-on-trigger-registration" id="ref-for-obtain-debug-data-on-trigger-registration⑥">obtain debug data on trigger registration</a> with "<code><a data-link-type="dfn" href="#trigger-debug-data-type-trigger-event-storage-limit" id="ref-for-trigger-debug-data-type-trigger-event-storage-limit①">trigger-event-storage-limit</a></code>", <var>trigger</var>, <var>sourceToAttribute</var> and <a data-link-type="dfn" href="#obtain-debug-data-on-trigger-registration-report" id="ref-for-obtain-debug-data-on-trigger-registration-report⑥">report</a> set to null.</p>
      <li data-md>
       <p>Return the <a data-link-type="dfn" href="#triggering-result" id="ref-for-triggering-result⑦">triggering result</a> ("<code><a data-link-type="dfn" href="#triggering-status-dropped" id="ref-for-triggering-status-dropped⑦">dropped</a></code>", <var>debugData</var>).</p>
     </ol>
    <li data-md>
     <p>If the result of running <a data-link-type="dfn" href="#should-block-attribution-for-rate-limits" id="ref-for-should-block-attribution-for-rate-limits②">should attribution be blocked by rate limits</a> with <var>trigger</var>, <var>sourceToAttribute</var>, and <var>rateLimitRecord</var> is not null,
return it.</p>
    <li data-md>
     <p>Let <var>report</var> be the result of running <a data-link-type="dfn" href="#obtain-an-event-level-report" id="ref-for-obtain-an-event-level-report①">obtain an event-level report</a> with <var>sourceToAttribute</var>, <var>trigger</var>,
and <var>matchedConfig</var>.</p>
    <li data-md>
     <p>If <var>sourceToAttribute</var>’s <a data-link-type="dfn" href="#attribution-source-event-level-attributable" id="ref-for-attribution-source-event-level-attributable②">event-level attributable</a> value
is false:</p>
     <ol>
      <li data-md>
       <p>Let <var>debugData</var> be the result of running <a data-link-type="dfn" href="#obtain-debug-data-on-trigger-registration" id="ref-for-obtain-debug-data-on-trigger-registration⑦">obtain debug data on trigger registration</a> with "<code><a data-link-type="dfn" href="#trigger-debug-data-type-trigger-event-excessive-reports" id="ref-for-trigger-debug-data-type-trigger-event-excessive-reports①">trigger-event-excessive-reports</a></code>", <var>trigger</var>, <var>sourceToAttribute</var> and <var>report</var>.</p>
      <li data-md>
       <p>Return the <a data-link-type="dfn" href="#triggering-result" id="ref-for-triggering-result⑧">triggering result</a> ("<code><a data-link-type="dfn" href="#triggering-status-dropped" id="ref-for-triggering-status-dropped⑧">dropped</a></code>", <var>debugData</var>).</p>
     </ol>
    <li data-md>
     <p>Let <var>maxAttributionsPerSource</var> be the user agent’s <a data-link-type="dfn" href="#max-attributions-per-navigation-source" id="ref-for-max-attributions-per-navigation-source①">max attributions per navigation source</a>.</p>
    <li data-md>
     <p>If <var>sourceToAttribute</var>’s <a data-link-type="dfn" href="#attribution-source-source-type" id="ref-for-attribution-source-source-type⑥">source type</a> is "<code><a data-link-type="dfn" href="#source-type-event" id="ref-for-source-type-event⑤">event</a></code>", set <var>maxAttributionsPerSource</var> to the user agent’s <a data-link-type="dfn" href="#max-attributions-per-event-source" id="ref-for-max-attributions-per-event-source①">max attributions per event source</a>.</p>
    <li data-md>
     <p>If <var>sourceToAttribute</var>’s <a data-link-type="dfn" href="#attribution-source-number-of-event-level-reports" id="ref-for-attribution-source-number-of-event-level-reports">number of event-level reports</a> value is equal to <var>maxAttributionsPerSource</var>, then:</p>
     <ol>
      <li data-md>
       <p>Let <var>matchingReports</var> be all entries in the <a data-link-type="dfn" href="#event-level-report-cache" id="ref-for-event-level-report-cache⑤">event-level report cache</a> where all of the following are true:</p>
       <ul>
        <li data-md>
         <p>entry’s <a data-link-type="dfn" href="#attribution-report-report-time" id="ref-for-attribution-report-report-time①">report time</a> and <var>report</var>’s <a data-link-type="dfn" href="#attribution-report-report-time" id="ref-for-attribution-report-report-time②">report time</a> are equal.</p>
        <li data-md>
         <p>entry’s <a data-link-type="dfn" href="#event-level-report-source-identifier" id="ref-for-event-level-report-source-identifier">source identifier</a> <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string-is" id="ref-for-string-is">is</a> <var>report</var>’s <a data-link-type="dfn" href="#event-level-report-source-identifier" id="ref-for-event-level-report-source-identifier①">source identifier</a></p>
       </ul>
      <li data-md>
       <p>If <var>matchingReports</var> is empty:</p>
       <ol>
        <li data-md>
         <p>Set <var>sourceToAttribute</var>’s <a data-link-type="dfn" href="#attribution-source-event-level-attributable" id="ref-for-attribution-source-event-level-attributable③">event-level attributable</a> value to false.</p>
        <li data-md>
         <p>Let <var>debugData</var> be the result of running <a data-link-type="dfn" href="#obtain-debug-data-on-trigger-registration" id="ref-for-obtain-debug-data-on-trigger-registration⑧">obtain debug data on trigger registration</a> with "<code><a data-link-type="dfn" href="#trigger-debug-data-type-trigger-event-excessive-reports" id="ref-for-trigger-debug-data-type-trigger-event-excessive-reports②">trigger-event-excessive-reports</a></code>", <var>trigger</var>, <var>sourceToAttribute</var> and <var>report</var>.</p>
        <li data-md>
         <p>Return the <a data-link-type="dfn" href="#triggering-result" id="ref-for-triggering-result⑨">triggering result</a> ("<code><a data-link-type="dfn" href="#triggering-status-dropped" id="ref-for-triggering-status-dropped⑨">dropped</a></code>", <var>debugData</var>).</p>
       </ol>
      <li data-md>
       <p>Set <var>matchingReports</var> to the result of <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-sort-in-ascending-order" id="ref-for-list-sort-in-ascending-order">sorting</a> <var>matchingReports</var> in ascending order, with <var>a</var> being less than <var>b</var> if any of the following are true:</p>
       <ul>
        <li data-md>
         <p><var>a</var>’s <a data-link-type="dfn" href="#event-level-report-trigger-priority" id="ref-for-event-level-report-trigger-priority">trigger priority</a> is less than <var>b</var>’s <a data-link-type="dfn" href="#event-level-report-trigger-priority" id="ref-for-event-level-report-trigger-priority①">trigger priority</a>.</p>
        <li data-md>
         <p><var>a</var>’s <a data-link-type="dfn" href="#event-level-report-trigger-priority" id="ref-for-event-level-report-trigger-priority②">trigger priority</a> is equal to <var>b</var>’s <a data-link-type="dfn" href="#event-level-report-trigger-priority" id="ref-for-event-level-report-trigger-priority③">trigger priority</a> and <var>a</var>’s <a data-link-type="dfn" href="#event-level-report-trigger-time" id="ref-for-event-level-report-trigger-time">trigger time</a> is greater than <var>b</var>’s <a data-link-type="dfn" href="#event-level-report-trigger-time" id="ref-for-event-level-report-trigger-time①">trigger time</a>.</p>
       </ul>
      <li data-md>
       <p>Let <var>lowestPriorityReport</var> be the first item in <var>matchingReports</var>.</p>
      <li data-md>
       <p>If <var>report</var>’s <a data-link-type="dfn" href="#event-level-report-trigger-priority" id="ref-for-event-level-report-trigger-priority④">trigger priority</a> is less than or equal to <var>lowestPriorityReport</var>’s <a data-link-type="dfn" href="#event-level-report-trigger-priority" id="ref-for-event-level-report-trigger-priority⑤">trigger priority</a>:</p>
       <ol>
        <li data-md>
         <p>Let <var>debugData</var> be the result of running <a data-link-type="dfn" href="#obtain-debug-data-on-trigger-registration" id="ref-for-obtain-debug-data-on-trigger-registration⑨">obtain debug data on trigger registration</a> with "<code><a data-link-type="dfn" href="#trigger-debug-data-type-trigger-event-low-priority" id="ref-for-trigger-debug-data-type-trigger-event-low-priority①">trigger-event-low-priority</a></code>", <var>trigger</var>, <var>sourceToAttribute</var> and <var>report</var>.</p>
        <li data-md>
         <p>Return the <a data-link-type="dfn" href="#triggering-result" id="ref-for-triggering-result①⓪">triggering result</a> ("<code><a data-link-type="dfn" href="#triggering-status-dropped" id="ref-for-triggering-status-dropped①⓪">dropped</a></code>", <var>debugData</var>).</p>
       </ol>
      <li data-md>
       <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-remove" id="ref-for-list-remove⑤">Remove</a> <var>lowestPriorityReport</var> from the <a data-link-type="dfn" href="#event-level-report-cache" id="ref-for-event-level-report-cache⑥">event-level report cache</a>.</p>
      <li data-md>
       <p>Decrement <var>sourceToAttribute</var>’s <a data-link-type="dfn" href="#attribution-source-number-of-event-level-reports" id="ref-for-attribution-source-number-of-event-level-reports①">number of event-level reports</a> value by 1.</p>
     </ol>
    <li data-md>
     <p>Let <var>triggeringStatus</var> be "<code><a data-link-type="dfn" href="#triggering-status-attributed" id="ref-for-triggering-status-attributed">attributed</a></code>".</p>
    <li data-md>
     <p>Let <var>debugData</var> be null.</p>
    <li data-md>
     <p>If <var>sourceToAttribute</var>’s <a data-link-type="dfn" href="#attribution-source-randomized-response" id="ref-for-attribution-source-randomized-response⑤">randomized response</a> is:</p>
     <dl class="switch">
      <dt data-md>null
      <dd data-md>
       <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#set-append" id="ref-for-set-append①④">Append</a> <var>report</var> to the <a data-link-type="dfn" href="#event-level-report-cache" id="ref-for-event-level-report-cache⑦">event-level report cache</a>.</p>
      <dt data-md>not null
      <dd data-md>
       <ol>
        <li data-md>
         <p>Set <var>triggeringStatus</var> to "<code><a data-link-type="dfn" href="#triggering-status-noised" id="ref-for-triggering-status-noised①">noised</a></code>".</p>
        <li data-md>
         <p>Set <var>debugData</var> to the result of running <a data-link-type="dfn" href="#obtain-debug-data-on-trigger-registration" id="ref-for-obtain-debug-data-on-trigger-registration①⓪">obtain debug data on trigger registration</a> with "<code><a data-link-type="dfn" href="#trigger-debug-data-type-trigger-event-noise" id="ref-for-trigger-debug-data-type-trigger-event-noise①">trigger-event-noise</a></code>", <var>trigger</var>, <var>sourceToAttribute</var> and <a data-link-type="dfn" href="#obtain-debug-data-on-trigger-registration-report" id="ref-for-obtain-debug-data-on-trigger-registration-report⑦">report</a> set to null.</p>
       </ol>
     </dl>
    <li data-md>
     <p>Increment <var>sourceToAttribute</var>’s <a data-link-type="dfn" href="#attribution-source-number-of-event-level-reports" id="ref-for-attribution-source-number-of-event-level-reports②">number of event-level reports</a> value by 1.</p>
    <li data-md>
     <p>If <var>matchedConfig</var>’s <a data-link-type="dfn" href="#event-level-trigger-configuration-dedup-key" id="ref-for-event-level-trigger-configuration-dedup-key④">dedup key</a> is not null, <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-append" id="ref-for-list-append⑤">append</a> it to <var>sourceToAttribute</var>’s <a data-link-type="dfn" href="#attribution-source-dedup-keys" id="ref-for-attribution-source-dedup-keys①">dedup keys</a>.</p>
    <li data-md>
     <p>If <var>report</var>’s <a data-link-type="dfn" href="#attribution-report-source-debug-key" id="ref-for-attribution-report-source-debug-key">source debug key</a> is not null and <var>report</var>’s <a data-link-type="dfn" href="#attribution-report-trigger-debug-key" id="ref-for-attribution-report-trigger-debug-key">trigger debug key</a> is not null, <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-task" id="ref-for-queue-a-task①">queue a task</a> to <a data-link-type="dfn" href="#attempt-to-deliver-a-debug-report" id="ref-for-attempt-to-deliver-a-debug-report">attempt to deliver a debug report</a> with <var>report</var>.</p>
    <li data-md>
     <p>Return the <a data-link-type="dfn" href="#triggering-result" id="ref-for-triggering-result①①">triggering result</a> (<var>triggeringStatus</var>, <var>debugData</var>).</p>
   </ol>
   <h3 class="heading settled algorithm" data-algorithm="Triggering aggregatable attribution" data-level="11.10" id="triggering-aggregatable-attribution"><span class="secno">11.10. </span><span class="content">Triggering aggregatable attribution</span><a class="self-link" href="#triggering-aggregatable-attribution"></a></h3>
   <p>To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="trigger-aggregatable-attribution">trigger aggregatable attribution</dfn> given an <a data-link-type="dfn" href="#attribution-trigger" id="ref-for-attribution-trigger①④">attribution trigger</a> <var>trigger</var>, an <a data-link-type="dfn" href="#attribution-source" id="ref-for-attribution-source④⑧">attribution source</a> <var>sourceToAttribute</var>, and an <a data-link-type="dfn" href="#attribution-rate-limit-record" id="ref-for-attribution-rate-limit-record①③">attribution rate-limit record</a> <var>rateLimitRecord</var>, run the following steps:</p>
   <ol>
    <li data-md>
     <p>If <var>trigger</var>’s <a data-link-type="dfn" href="#attribution-trigger-aggregatable-trigger-data" id="ref-for-attribution-trigger-aggregatable-trigger-data③">aggregatable trigger data</a> <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-is-empty" id="ref-for-list-is-empty①⑤">is empty</a> and <var>trigger</var>’s <a data-link-type="dfn" href="#attribution-trigger-aggregatable-values" id="ref-for-attribution-trigger-aggregatable-values④">aggregatable values</a> <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-is-empty" id="ref-for-map-is-empty①">is empty</a>,
return the <a data-link-type="dfn" href="#triggering-result" id="ref-for-triggering-result①②">triggering result</a> ("<code><a data-link-type="dfn" href="#triggering-status-dropped" id="ref-for-triggering-status-dropped①①">dropped</a></code>", null).</p>
    <li data-md>
     <p>If <var>sourceToAttribute</var>’s <a data-link-type="dfn" href="#attribution-source-aggregatable-report-window-time" id="ref-for-attribution-source-aggregatable-report-window-time">aggregatable report window time</a> is less than <var>trigger</var>’s <a data-link-type="dfn" href="#attribution-trigger-trigger-time" id="ref-for-attribution-trigger-trigger-time④">trigger time</a>:</p>
     <ol>
      <li data-md>
       <p>Let <var>debugData</var> be the result of running <a data-link-type="dfn" href="#obtain-debug-data-on-trigger-registration" id="ref-for-obtain-debug-data-on-trigger-registration①①">obtain debug data on trigger registration</a> with "<code><a data-link-type="dfn" href="#trigger-debug-data-type-trigger-aggregate-report-window-passed" id="ref-for-trigger-debug-data-type-trigger-aggregate-report-window-passed">trigger-aggregate-report-window-passed</a></code>", <var>trigger</var>, <var>sourceToAttribute</var> and <a data-link-type="dfn" href="#obtain-debug-data-on-trigger-registration-report" id="ref-for-obtain-debug-data-on-trigger-registration-report⑧">report</a> set to null.</p>
      <li data-md>
       <p>Return the <a data-link-type="dfn" href="#triggering-result" id="ref-for-triggering-result①③">triggering result</a> ("<code><a data-link-type="dfn" href="#triggering-status-dropped" id="ref-for-triggering-status-dropped①②">dropped</a></code>", <var>debugData</var>).</p>
     </ol>
    <li data-md>
     <p>Let <var>matchedDedupKey</var> be null.</p>
    <li data-md>
     <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-iterate" id="ref-for-list-iterate①⑨">For each</a> <a data-link-type="dfn" href="#aggregatable-dedup-key" id="ref-for-aggregatable-dedup-key②">aggregatable dedup key</a> <var>aggregatableDedupKey</var> of <var>trigger</var>’s <a data-link-type="dfn" href="#attribution-trigger-aggregatable-dedup-keys" id="ref-for-attribution-trigger-aggregatable-dedup-keys②">aggregatable dedup keys</a>:</p>
     <ol>
      <li data-md>
       <p>If the result of running <a data-link-type="dfn" href="#match-an-attribution-sources-filter-data-against-filters-and-negated-filters" id="ref-for-match-an-attribution-sources-filter-data-against-filters-and-negated-filters②">match an attribution source’s filter data against filters and negated filters</a> with <var>sourceToAttribute</var>, <var>aggregatableDedupKey</var>’s <a data-link-type="dfn" href="#aggregatable-dedup-key-filters" id="ref-for-aggregatable-dedup-key-filters①">filters</a>, and <var>aggregatableDedupKey</var>’s <a data-link-type="dfn" href="#aggregatable-dedup-key-negated-filters" id="ref-for-aggregatable-dedup-key-negated-filters①">negated filters</a> is true:</p>
       <ol>
        <li data-md>
         <p>Set <var>matchedDedupKey</var> to <var>aggregatableDedupKey</var>’s <a data-link-type="dfn" href="#aggregatable-dedup-key-dedup-key" id="ref-for-aggregatable-dedup-key-dedup-key②">dedup key</a>.</p>
        <li data-md>
         <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#iteration-break" id="ref-for-iteration-break①">Break</a>.</p>
       </ol>
     </ol>
    <li data-md>
     <p>If <var>matchedDedupKey</var> is not null and <var>sourceToAttribute</var>’s <a data-link-type="dfn" href="#attribution-source-aggregatable-dedup-keys" id="ref-for-attribution-source-aggregatable-dedup-keys">aggregatable dedup keys</a> <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-contain" id="ref-for-list-contain③">contains</a> it:</p>
     <ol>
      <li data-md>
       <p>Let <var>debugData</var> be the result of running <a data-link-type="dfn" href="#obtain-debug-data-on-trigger-registration" id="ref-for-obtain-debug-data-on-trigger-registration①②">obtain debug data on trigger registration</a> with "<code><a data-link-type="dfn" href="#trigger-debug-data-type-trigger-aggregate-deduplicated" id="ref-for-trigger-debug-data-type-trigger-aggregate-deduplicated">trigger-aggregate-deduplicated</a></code>", <var>trigger</var>, <var>sourceToAttribute</var> and <a data-link-type="dfn" href="#obtain-debug-data-on-trigger-registration-report" id="ref-for-obtain-debug-data-on-trigger-registration-report⑨">report</a> set to null.</p>
      <li data-md>
       <p>Return the <a data-link-type="dfn" href="#triggering-result" id="ref-for-triggering-result①④">triggering result</a> ("<code><a data-link-type="dfn" href="#triggering-status-dropped" id="ref-for-triggering-status-dropped①③">dropped</a></code>", <var>debugData</var>).</p>
     </ol>
    <li data-md>
     <p>Let <var>report</var> be the result of running <a data-link-type="dfn" href="#obtain-an-aggregatable-report" id="ref-for-obtain-an-aggregatable-report">obtain an aggregatable report</a> with <var>sourceToAttribute</var> and <var>trigger</var>.</p>
    <li data-md>
     <p>If <var>report</var>’s <a data-link-type="dfn" href="#aggregatable-report-contributions" id="ref-for-aggregatable-report-contributions">contributions</a> <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-is-empty" id="ref-for-list-is-empty①⑥">is empty</a>:</p>
     <ol>
      <li data-md>
       <p>Let <var>debugData</var> be the result of running <a data-link-type="dfn" href="#obtain-debug-data-on-trigger-registration" id="ref-for-obtain-debug-data-on-trigger-registration①③">obtain debug data on trigger registration</a> with
"<code><a data-link-type="dfn" href="#trigger-debug-data-type-trigger-aggregate-no-contributions" id="ref-for-trigger-debug-data-type-trigger-aggregate-no-contributions">trigger-aggregate-no-contributions</a></code>", <var>trigger</var>, <var>sourceToAttribute</var> and <a data-link-type="dfn" href="#obtain-debug-data-on-trigger-registration-report" id="ref-for-obtain-debug-data-on-trigger-registration-report①⓪">report</a> set to null.</p>
      <li data-md>
       <p>Return the <a data-link-type="dfn" href="#triggering-result" id="ref-for-triggering-result①⑤">triggering result</a> ("<code><a data-link-type="dfn" href="#triggering-status-dropped" id="ref-for-triggering-status-dropped①④">dropped</a></code>", <var>debugData</var>).</p>
     </ol>
    <li data-md>
     <p>Let <var>numMatchingReports</var> be the number of entries in the <a data-link-type="dfn" href="#aggregatable-report-cache" id="ref-for-aggregatable-report-cache③">aggregatable report cache</a> whose <a data-link-type="dfn" href="#aggregatable-report-effective-attribution-destination" id="ref-for-aggregatable-report-effective-attribution-destination①">effective attribution destination</a> equals <var>trigger</var>’s <a data-link-type="dfn" href="#attribution-trigger-attribution-destination" id="ref-for-attribution-trigger-attribution-destination⑤">attribution destination</a>.</p>
    <li data-md>
     <p>If <var>numMatchingReports</var> is greater than or equal to the user agent’s <a data-link-type="dfn" href="#max-aggregatable-reports-per-attribution-destination" id="ref-for-max-aggregatable-reports-per-attribution-destination①">max aggregatable reports per attribution destination</a>:</p>
     <ol>
      <li data-md>
       <p>Let <var>debugData</var> be the result of running <a data-link-type="dfn" href="#obtain-debug-data-on-trigger-registration" id="ref-for-obtain-debug-data-on-trigger-registration①④">obtain debug data on trigger registration</a> with "<code><a data-link-type="dfn" href="#trigger-debug-data-type-trigger-aggregate-storage-limit" id="ref-for-trigger-debug-data-type-trigger-aggregate-storage-limit①">trigger-aggregate-storage-limit</a></code>", <var>trigger</var>, <var>sourceToAttribute</var> and <a data-link-type="dfn" href="#obtain-debug-data-on-trigger-registration-report" id="ref-for-obtain-debug-data-on-trigger-registration-report①①">report</a> set to null.</p>
      <li data-md>
       <p>Return the <a data-link-type="dfn" href="#triggering-result" id="ref-for-triggering-result①⑥">triggering result</a> ("<code><a data-link-type="dfn" href="#triggering-status-dropped" id="ref-for-triggering-status-dropped①⑤">dropped</a></code>", <var>debugData</var>).</p>
     </ol>
    <li data-md>
     <p>If the result of running <a data-link-type="dfn" href="#should-block-attribution-for-rate-limits" id="ref-for-should-block-attribution-for-rate-limits①">should attribution be blocked by rate limits</a> with <var>trigger</var>, <var>sourceToAttribute</var>, and <var>rateLimitRecord</var> is not null,
return it.</p>
    <li data-md>
     <p>If the result of running <a data-link-type="dfn" href="#check-if-an-attribution-source-can-create-aggregatable-contributions" id="ref-for-check-if-an-attribution-source-can-create-aggregatable-contributions">check if an attribution source can create aggregatable contributions</a> with <var>report</var> and <var>sourceToAttribute</var> is false:</p>
     <ol>
      <li data-md>
       <p>Let <var>debugData</var> be the result of running <a data-link-type="dfn" href="#obtain-debug-data-on-trigger-registration" id="ref-for-obtain-debug-data-on-trigger-registration①⑤">obtain debug data on trigger registration</a> with "<code><a data-link-type="dfn" href="#trigger-debug-data-type-trigger-aggregate-insufficient-budget" id="ref-for-trigger-debug-data-type-trigger-aggregate-insufficient-budget①">trigger-aggregate-insufficient-budget</a></code>", <var>trigger</var>, <var>sourceToAttribute</var> and <a data-link-type="dfn" href="#obtain-debug-data-on-trigger-registration-report" id="ref-for-obtain-debug-data-on-trigger-registration-report①②">report</a> set to null.</p>
      <li data-md>
       <p>Return the <a data-link-type="dfn" href="#triggering-result" id="ref-for-triggering-result①⑦">triggering result</a> ("<code><a data-link-type="dfn" href="#triggering-status-dropped" id="ref-for-triggering-status-dropped①⑥">dropped</a></code>", <var>debugData</var>).</p>
     </ol>
    <li data-md>
     <p>Add <var>report</var> to the <a data-link-type="dfn" href="#aggregatable-report-cache" id="ref-for-aggregatable-report-cache④">aggregatable report cache</a>.</p>
    <li data-md>
     <p>Increment <var>sourceToAttribute</var>’s <a data-link-type="dfn" href="#attribution-source-aggregatable-budget-consumed" id="ref-for-attribution-source-aggregatable-budget-consumed②">aggregatable budget consumed</a> value by <var>report</var>’s <a data-link-type="dfn" href="#aggregatable-report-required-aggregatable-budget" id="ref-for-aggregatable-report-required-aggregatable-budget②">required aggregatable budget</a>.</p>
    <li data-md>
     <p>If <var>matchedDedupKey</var> is not null, <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-append" id="ref-for-list-append⑥">append</a> it to <var>sourceToAttribute</var>’s <a data-link-type="dfn" href="#attribution-source-aggregatable-dedup-keys" id="ref-for-attribution-source-aggregatable-dedup-keys①">aggregatable dedup keys</a>.</p>
    <li data-md>
     <p>If <var>report</var>’s <a data-link-type="dfn" href="#attribution-report-source-debug-key" id="ref-for-attribution-report-source-debug-key①">source debug key</a> is not null and <var>report</var>’s <a data-link-type="dfn" href="#attribution-report-trigger-debug-key" id="ref-for-attribution-report-trigger-debug-key①">trigger debug key</a> is not null, <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-task" id="ref-for-queue-a-task②">queue a task</a> to <a data-link-type="dfn" href="#attempt-to-deliver-a-debug-report" id="ref-for-attempt-to-deliver-a-debug-report①">attempt to deliver a debug report</a> with <var>report</var>.</p>
    <li data-md>
     <p>Return the <a data-link-type="dfn" href="#triggering-result" id="ref-for-triggering-result①⑧">triggering result</a> ("<code><a data-link-type="dfn" href="#triggering-status-attributed" id="ref-for-triggering-status-attributed①">attributed</a></code>", null).</p>
   </ol>
   <h3 class="heading settled algorithm" data-algorithm="Triggering attribution" data-level="11.11" id="triggering-attribution"><span class="secno">11.11. </span><span class="content">Triggering attribution</span><a class="self-link" href="#triggering-attribution"></a></h3>
   <p>To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="obtain-and-deliver-a-debug-report-on-trigger-registration">obtain and deliver a debug report on trigger registration</dfn> given a <a data-link-type="dfn" href="#trigger-debug-data-type" id="ref-for-trigger-debug-data-type②">trigger debug data type</a> <var>dataType</var>,
an <a data-link-type="dfn" href="#attribution-trigger" id="ref-for-attribution-trigger①⑤">attribution trigger</a> <var>trigger</var> and an optional <a data-link-type="dfn" href="#attribution-source" id="ref-for-attribution-source④⑨">attribution source</a> <dfn class="dfn-paneled" data-dfn-for="obtain and deliver a debug report on trigger registration" data-dfn-type="dfn" data-noexport id="obtain-and-deliver-a-debug-report-on-trigger-registration-sourcetoattribute"><var>sourceToAttribute</var></dfn>:</p>
   <ol>
    <li data-md>
     <p>Let <var>debugData</var> be the result of running <a data-link-type="dfn" href="#obtain-debug-data-on-trigger-registration" id="ref-for-obtain-debug-data-on-trigger-registration①⑥">obtain debug data on trigger registration</a> with <var>dataType</var>, <var>trigger</var>, <var>sourceToAttribute</var> and <a data-link-type="dfn" href="#obtain-debug-data-on-trigger-registration-report" id="ref-for-obtain-debug-data-on-trigger-registration-report①③">report</a> set to null.</p>
    <li data-md>
     <p>If <var>debugData</var> is null, return.</p>
    <li data-md>
     <p>Run <a data-link-type="dfn" href="#obtain-and-deliver-a-debug-report" id="ref-for-obtain-and-deliver-a-debug-report①">obtain and deliver a debug report</a> with « <var>debugData</var> » and <var>trigger</var>’s <a data-link-type="dfn" href="#attribution-trigger-reporting-endpoint" id="ref-for-attribution-trigger-reporting-endpoint⑤">reporting endpoint</a>.</p>
   </ol>
   <p>To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="find-matching-sources">find matching sources</dfn> given an <a data-link-type="dfn" href="#attribution-trigger" id="ref-for-attribution-trigger①⑥">attribution trigger</a> <var>trigger</var>:</p>
   <ol>
    <li data-md>
     <p>Let <var>matchingSources</var> be a new <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-is-empty" id="ref-for-list-is-empty①⑦">empty</a> <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list" id="ref-for-list③②">list</a>.</p>
    <li data-md>
     <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-iterate" id="ref-for-list-iterate②⓪">For each</a> <var>source</var> of the <a data-link-type="dfn" href="#attribution-source-cache" id="ref-for-attribution-source-cache④">attribution source cache</a>:</p>
     <ol>
      <li data-md>
       <p>If <var>source</var>’s <a data-link-type="dfn" href="#attribution-source-attribution-destinations" id="ref-for-attribution-source-attribution-destinations⑧">attribution destinations</a> does not <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-contain" id="ref-for-list-contain④">contain</a> <var>trigger</var>’s <a data-link-type="dfn" href="#attribution-trigger-attribution-destination" id="ref-for-attribution-trigger-attribution-destination⑥">attribution destination</a>, <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#iteration-continue" id="ref-for-iteration-continue①②">continue</a>.</p>
      <li data-md>
       <p>If <var>source</var>’s <a data-link-type="dfn" href="#attribution-source-reporting-endpoint" id="ref-for-attribution-source-reporting-endpoint①⓪">reporting endpoint</a> and <var>trigger</var>’s <a data-link-type="dfn" href="#attribution-trigger-reporting-endpoint" id="ref-for-attribution-trigger-reporting-endpoint⑥">reporting endpoint</a> are not <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#same-origin" id="ref-for-same-origin⑤">same origin</a>, <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#iteration-continue" id="ref-for-iteration-continue①③">continue</a>.</p>
      <li data-md>
       <p>If <var>source</var>’s <a data-link-type="dfn" href="#attribution-source-expiry-time" id="ref-for-attribution-source-expiry-time②">expiry time</a> is less than or equal to <var>trigger</var>’s <a data-link-type="dfn" href="#attribution-trigger-trigger-time" id="ref-for-attribution-trigger-trigger-time⑤">trigger time</a>, <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#iteration-continue" id="ref-for-iteration-continue①④">continue</a>.</p>
      <li data-md>
       <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-append" id="ref-for-list-append⑦">Append</a> <var>source</var> to <var>matchingSources</var>.</p>
     </ol>
    <li data-md>
     <p>Set <var>matchingSources</var> to the result of <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-sort-in-descending-order" id="ref-for-list-sort-in-descending-order">sorting</a> <var>matchingSources</var> in descending order, with <var>a</var> being less than <var>b</var> if any of the following are true:</p>
     <ul>
      <li data-md>
       <p><var>a</var>’s <a data-link-type="dfn" href="#attribution-source-priority" id="ref-for-attribution-source-priority①">priority</a> is less than <var>b</var>’s <a data-link-type="dfn" href="#attribution-source-priority" id="ref-for-attribution-source-priority②">priority</a>.</p>
      <li data-md>
       <p><var>a</var>’s <a data-link-type="dfn" href="#attribution-source-priority" id="ref-for-attribution-source-priority③">priority</a> is equal to <var>b</var>’s <a data-link-type="dfn" href="#attribution-source-priority" id="ref-for-attribution-source-priority④">priority</a> and <var>a</var>’s <a data-link-type="dfn" href="#attribution-source-source-time" id="ref-for-attribution-source-source-time①⓪">source time</a> is less than <var>b</var>’s <a data-link-type="dfn" href="#attribution-source-source-time" id="ref-for-attribution-source-source-time①①">source time</a>.</p>
     </ul>
    <li data-md>
     <p>Return <var>matchingSources</var>.</p>
   </ol>
   <p>To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="trigger-attribution">trigger attribution</dfn> given an <a data-link-type="dfn" href="#attribution-trigger" id="ref-for-attribution-trigger①⑦">attribution trigger</a> <var>trigger</var>, run the following steps:</p>
   <ol>
    <li data-md>
     <p>If <var>trigger</var>’s <a data-link-type="dfn" href="#attribution-trigger-event-level-trigger-configurations" id="ref-for-attribution-trigger-event-level-trigger-configurations④">event-level trigger configurations</a> <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-is-empty" id="ref-for-list-is-empty①⑧">is empty</a> and <var>trigger</var>’s <a data-link-type="dfn" href="#attribution-trigger-aggregatable-trigger-data" id="ref-for-attribution-trigger-aggregatable-trigger-data④">aggregatable trigger data</a> <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-is-empty" id="ref-for-list-is-empty①⑨">is empty</a> and <var>trigger</var>’s <a data-link-type="dfn" href="#attribution-trigger-aggregatable-values" id="ref-for-attribution-trigger-aggregatable-values⑤">aggregatable values</a> <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-is-empty" id="ref-for-map-is-empty②">is empty</a>,
return.</p>
    <li data-md>
     <p>Let <var>matchingSources</var> be the result of running <a data-link-type="dfn" href="#find-matching-sources" id="ref-for-find-matching-sources">find matching sources</a> with <var>trigger</var>.</p>
    <li data-md>
     <p>If <var>matchingSources</var> <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-is-empty" id="ref-for-list-is-empty②⓪">is empty</a>:</p>
     <ol>
      <li data-md>
       <p>Run <a data-link-type="dfn" href="#obtain-and-deliver-a-debug-report-on-trigger-registration" id="ref-for-obtain-and-deliver-a-debug-report-on-trigger-registration">obtain and deliver a debug report on trigger registration</a> with "<code><a data-link-type="dfn" href="#trigger-debug-data-type-trigger-no-matching-source" id="ref-for-trigger-debug-data-type-trigger-no-matching-source">trigger-no-matching-source</a></code>", <var>trigger</var> and <a data-link-type="dfn" href="#obtain-and-deliver-a-debug-report-on-trigger-registration-sourcetoattribute" id="ref-for-obtain-and-deliver-a-debug-report-on-trigger-registration-sourcetoattribute">sourceToAttribute</a> set to null.</p>
      <li data-md>
       <p>Return.</p>
     </ol>
    <li data-md>
     <p>Let <var>sourceToAttribute</var> be <var>matchingSources</var>[0].</p>
    <li data-md>
     <p>If the result of running <a data-link-type="dfn" href="#match-an-attribution-sources-filter-data-against-filters-and-negated-filters" id="ref-for-match-an-attribution-sources-filter-data-against-filters-and-negated-filters③">match an attribution source’s filter data against filters and negated filters</a> with <var>sourceToAttribute</var>, <var>trigger</var>’s <a data-link-type="dfn" href="#attribution-trigger-filters" id="ref-for-attribution-trigger-filters②">filters</a>, and <var>trigger</var>’s <a data-link-type="dfn" href="#attribution-trigger-negated-filters" id="ref-for-attribution-trigger-negated-filters①">negated filters</a> is false,</p>
     <ol>
      <li data-md>
       <p>Run <a data-link-type="dfn" href="#obtain-and-deliver-a-debug-report-on-trigger-registration" id="ref-for-obtain-and-deliver-a-debug-report-on-trigger-registration①">obtain and deliver a debug report on trigger registration</a> with "<code><a data-link-type="dfn" href="#trigger-debug-data-type-trigger-no-matching-filter-data" id="ref-for-trigger-debug-data-type-trigger-no-matching-filter-data">trigger-no-matching-filter-data</a></code>", <var>trigger</var>, and <var>sourceToAttribute</var>.</p>
      <li data-md>
       <p>Return.</p>
     </ol>
    <li data-md>
     <p>Let <var>rateLimitRecord</var> be a new <a data-link-type="dfn" href="#attribution-rate-limit-record" id="ref-for-attribution-rate-limit-record①④">attribution rate-limit record</a> with the items:</p>
     <dl>
      <dt data-md><a data-link-type="dfn" href="#attribution-rate-limit-record-scope" id="ref-for-attribution-rate-limit-record-scope⑧">scope</a>
      <dd data-md>
       <p>"<code><a data-link-type="dfn" href="#rate-limit-scope-attribution" id="ref-for-rate-limit-scope-attribution④">attribution</a></code>"</p>
      <dt data-md><a data-link-type="dfn" href="#attribution-rate-limit-record-source-site" id="ref-for-attribution-rate-limit-record-source-site⑨">source site</a>
      <dd data-md>
       <p><var>sourceToAttribute</var>’s <a data-link-type="dfn" href="#attribution-source-source-site" id="ref-for-attribution-source-source-site⑦">source site</a></p>
      <dt data-md><a data-link-type="dfn" href="#attribution-rate-limit-record-attribution-destination" id="ref-for-attribution-rate-limit-record-attribution-destination⑨">attribution destination</a>
      <dd data-md>
       <p><var>trigger</var>’s <a data-link-type="dfn" href="#attribution-trigger-attribution-destination" id="ref-for-attribution-trigger-attribution-destination⑦">attribution destination</a></p>
      <dt data-md><a data-link-type="dfn" href="#attribution-rate-limit-record-reporting-endpoint" id="ref-for-attribution-rate-limit-record-reporting-endpoint⑦">reporting endpoint</a>
      <dd data-md>
       <p><var>sourceToAttribute</var>’s <a data-link-type="dfn" href="#attribution-source-reporting-endpoint" id="ref-for-attribution-source-reporting-endpoint①①">reporting endpoint</a></p>
      <dt data-md><a data-link-type="dfn" href="#attribution-rate-limit-record-time" id="ref-for-attribution-rate-limit-record-time⑤">time</a>
      <dd data-md>
       <p><var>sourceToAttribute</var>’s <a data-link-type="dfn" href="#attribution-source-source-time" id="ref-for-attribution-source-source-time①②">source time</a></p>
      <dt data-md><a data-link-type="dfn" href="#attribution-rate-limit-record-expiry-time" id="ref-for-attribution-rate-limit-record-expiry-time④">expiry time</a>
      <dd data-md>
       <p>null</p>
     </dl>
    <li data-md>
     <p>Let <var>eventLevelResult</var> be the result of running <a data-link-type="dfn" href="#trigger-event-level-attribution" id="ref-for-trigger-event-level-attribution①">trigger event-level attribution</a> with <var>trigger</var>, <var>sourceToAttribute</var>, and <var>rateLimitRecord</var>.</p>
    <li data-md>
     <p>Let <var>aggregatableResult</var> be the result of running <a data-link-type="dfn" href="#trigger-aggregatable-attribution" id="ref-for-trigger-aggregatable-attribution">trigger aggregatable attribution</a> with <var>trigger</var>, <var>sourceToAttribute</var>, and <var>rateLimitRecord</var>.</p>
    <li data-md>
     <p>Let <var>eventLevelDebugData</var> be <var>eventLevelResult</var>’s <a data-link-type="dfn" href="#triggering-result-debug-data" id="ref-for-triggering-result-debug-data">debug data</a>.</p>
    <li data-md>
     <p>Let <var>aggregatableDebugData</var> be <var>aggregatableResult</var>’s <a data-link-type="dfn" href="#triggering-result-debug-data" id="ref-for-triggering-result-debug-data①">debug data</a>.</p>
    <li data-md>
     <p>Let <var>debugDataList</var> be an <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-is-empty" id="ref-for-list-is-empty②①">empty</a> <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list" id="ref-for-list③③">list</a>.</p>
    <li data-md>
     <p>If <var>eventLevelDebugData</var> is not null, then <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-append" id="ref-for-list-append⑧">append</a> <var>eventLevelDebugData</var> to <var>debugDataList</var>.</p>
    <li data-md>
     <p>If <var>aggregatableDebugData</var> is not null:</p>
     <ol>
      <li data-md>
       <p>If <var>debugDataList</var> <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-is-empty" id="ref-for-list-is-empty②②">is empty</a> or <var>aggregatableDebugData</var>’s <a data-link-type="dfn" href="#attribution-debug-data-data-type" id="ref-for-attribution-debug-data-data-type③">data type</a> does not equal <var>eventLevelDebugData</var>’s <a data-link-type="dfn" href="#attribution-debug-data-data-type" id="ref-for-attribution-debug-data-data-type④">data type</a>,
then <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-append" id="ref-for-list-append⑨">append</a> <var>aggregatableDebugData</var> to <var>debugDataList</var>.</p>
     </ol>
    <li data-md>
     <p>If <var>debugDataList</var> is not <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-is-empty" id="ref-for-list-is-empty②③">empty</a>, then run <a data-link-type="dfn" href="#obtain-and-deliver-a-debug-report" id="ref-for-obtain-and-deliver-a-debug-report②">obtain and deliver a debug report</a> with <var>debugDataList</var> and <var>trigger</var>’s <a data-link-type="dfn" href="#attribution-trigger-reporting-endpoint" id="ref-for-attribution-trigger-reporting-endpoint⑦">reporting endpoint</a>.</p>
    <li data-md>
     <p>If both <var>eventLevelResult</var>’s <a data-link-type="dfn" href="#triggering-result-status" id="ref-for-triggering-result-status">status</a> and <var>aggregatableResult</var>’s <a data-link-type="dfn" href="#triggering-result-status" id="ref-for-triggering-result-status①">status</a> are "<code><a data-link-type="dfn" href="#triggering-status-dropped" id="ref-for-triggering-status-dropped①⑦">dropped</a></code>", return.</p>
    <li data-md>
     <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-remove" id="ref-for-list-remove⑥">Remove</a> <var>sourceToAttribute</var> from <var>matchingSources</var>.</p>
    <li data-md>
     <p>For each <var>item</var> of <var>matchingSources</var>:</p>
     <ol>
      <li data-md>
       <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-remove" id="ref-for-list-remove⑦">Remove</a> <var>item</var> from the <a data-link-type="dfn" href="#attribution-source-cache" id="ref-for-attribution-source-cache⑤">attribution source cache</a>.</p>
     </ol>
    <li data-md>
     <p>If neither <var>eventLevelResult</var>’s <a data-link-type="dfn" href="#triggering-result-status" id="ref-for-triggering-result-status②">status</a> nor <var>aggregatableResult</var>’s <a data-link-type="dfn" href="#triggering-result-status" id="ref-for-triggering-result-status③">status</a> is "<code><a data-link-type="dfn" href="#triggering-status-attributed" id="ref-for-triggering-status-attributed②">attributed</a></code>", return.</p>
    <li data-md>
     <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#set-append" id="ref-for-set-append①⑤">Append</a> <var>rateLimitRecord</var> to the <a data-link-type="dfn" href="#attribution-rate-limit-cache" id="ref-for-attribution-rate-limit-cache⑦">attribution rate-limit cache</a>.</p>
    <li data-md>
     <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-remove" id="ref-for-list-remove⑧">Remove</a> all <a data-link-type="dfn" href="#attribution-rate-limit-record" id="ref-for-attribution-rate-limit-record①⑤">attribution rate-limit records</a> <var>entry</var> from the <a data-link-type="dfn" href="#attribution-rate-limit-cache" id="ref-for-attribution-rate-limit-cache⑧">attribution rate-limit cache</a> if the result of running <a data-link-type="dfn" href="#can-attribution-rate-limit-record-be-removed" id="ref-for-can-attribution-rate-limit-record-be-removed①">can attribution rate-limit record be removed</a> with <var>entry</var> and <var>trigger</var>’s <a data-link-type="dfn" href="#attribution-trigger-trigger-time" id="ref-for-attribution-trigger-trigger-time⑥">trigger time</a> is true.</p>
   </ol>
   <h3 class="heading settled algorithm" data-algorithm="Establishing report delivery time" data-level="11.12" id="delivery-time"><span class="secno">11.12. </span><span class="content">Establishing report delivery time</span><a class="self-link" href="#delivery-time"></a></h3>
   <p>To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="obtain-early-deadlines">obtain early deadlines</dfn> given a <a data-link-type="dfn" href="#source-type" id="ref-for-source-type③">source type</a> <var>sourceType</var>:</p>
   <ol>
    <li data-md>
     <p>If <var>sourceType</var> is "<code><a data-link-type="dfn" href="#source-type-event" id="ref-for-source-type-event⑥">event</a></code>", return «».</p>
    <li data-md>
     <p>Return « 2 days, 7 days ».</p>
   </ol>
   <p>To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="obtain-the-number-of-report-windows">obtain the number of report windows</dfn> given a <a data-link-type="dfn" href="#source-type" id="ref-for-source-type④">source type</a> <var>sourceType</var>:</p>
   <ol>
    <li data-md>
     <p>Let <var>earlyDeadlines</var> be the result of running <a data-link-type="dfn" href="#obtain-early-deadlines" id="ref-for-obtain-early-deadlines">obtain early deadlines</a> with <var>sourceType</var>.</p>
    <li data-md>
     <p>Return the <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-size" id="ref-for-list-size①②">size</a> of <var>earlyDeadlines</var> + 1.</p>
   </ol>
   <p>To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="obtain-a-report-time-from-deadline">obtain a report time from deadline</dfn> given a <a data-link-type="dfn" href="https://w3c.github.io/hr-time/#dfn-moment" id="ref-for-dfn-moment①①">moment</a> <var>sourceTime</var> and
a <a data-link-type="dfn" href="https://w3c.github.io/hr-time/#dfn-duration" id="ref-for-dfn-duration⑦">duration</a> <var>deadline</var>:</p>
   <ol>
    <li data-md>
     <p>Return <var>sourceTime</var> + <var>deadline</var> + 1 hour.</p>
   </ol>
   <p>To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="obtain-the-report-time-at-a-window">obtain the report time at a window</dfn> given an <a data-link-type="dfn" href="#attribution-source" id="ref-for-attribution-source⑤⓪">attribution source</a> <var>source</var> and a non-negative integer <var>window</var>:</p>
   <ol>
    <li data-md>
     <p>Let <var>earlyDeadlines</var> be the result of running <a data-link-type="dfn" href="#obtain-early-deadlines" id="ref-for-obtain-early-deadlines①">obtain early deadlines</a> with <var>source</var>’s <a data-link-type="dfn" href="#attribution-source-source-type" id="ref-for-attribution-source-source-type⑦">source type</a>.</p>
    <li data-md>
     <p>Let <var>deadline</var> be <var>source</var>’s <a data-link-type="dfn" href="#attribution-source-event-report-window" id="ref-for-attribution-source-event-report-window②">event report window</a>.</p>
    <li data-md>
     <p>If <var>earlyDeadlines</var>[<var>window</var>] <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-contain" id="ref-for-list-contain⑤">exists</a>, set <var>deadline</var> to it.</p>
    <li data-md>
     <p>Return the result of running <a data-link-type="dfn" href="#obtain-a-report-time-from-deadline" id="ref-for-obtain-a-report-time-from-deadline">obtain a report time from deadline</a> with <var>source</var>’s <a data-link-type="dfn" href="#attribution-source-source-time" id="ref-for-attribution-source-source-time①③">source time</a> and <var>deadline</var>.</p>
   </ol>
   <p>To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="obtain-an-event-level-report-delivery-time">obtain an event-level report delivery time</dfn> given an <a data-link-type="dfn" href="#attribution-source" id="ref-for-attribution-source⑤①">attribution source</a> <var>source</var> and a <a data-link-type="dfn" href="https://w3c.github.io/hr-time/#dfn-moment" id="ref-for-dfn-moment①②">moment</a> <var>triggerTime</var>:</p>
   <ol>
    <li data-md>
     <p>Let <var>deadlineToUse</var> be <var>source</var>’s <a data-link-type="dfn" href="#attribution-source-event-report-window" id="ref-for-attribution-source-event-report-window③">event report window</a>.</p>
    <li data-md>
     <p>Let <var>earlyDeadlines</var> be the result of running <a data-link-type="dfn" href="#obtain-early-deadlines" id="ref-for-obtain-early-deadlines②">obtain early deadlines</a> with <var>source</var>’s <a data-link-type="dfn" href="#attribution-source-source-type" id="ref-for-attribution-source-source-type⑧">source type</a>.</p>
    <li data-md>
     <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-iterate" id="ref-for-list-iterate②①">For each</a> <var>earlyDeadline</var> of <var>earlyDeadlines</var>:</p>
     <ol>
      <li data-md>
       <p>Let <var>time</var> be <var>source</var>’s <a data-link-type="dfn" href="#attribution-source-source-time" id="ref-for-attribution-source-source-time①④">source time</a> + <var>earlyDeadline</var>.</p>
      <li data-md>
       <p>If <var>time</var> is less than <var>triggerTime</var>, <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#iteration-continue" id="ref-for-iteration-continue①⑤">continue</a>.</p>
      <li data-md>
       <p>If <var>earlyDeadline</var> is greater than or equal to <var>deadlineToUse</var>, <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#iteration-continue" id="ref-for-iteration-continue①⑥">continue</a>.</p>
      <li data-md>
       <p>Set <var>deadlineToUse</var> to <var>earlyDeadline</var>.</p>
      <li data-md>
       <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#iteration-break" id="ref-for-iteration-break②">Break</a>.</p>
     </ol>
    <li data-md>
     <p>Return the result of running <a data-link-type="dfn" href="#obtain-a-report-time-from-deadline" id="ref-for-obtain-a-report-time-from-deadline①">obtain a report time from deadline</a> with <var>source</var>’s <a data-link-type="dfn" href="#attribution-source-source-time" id="ref-for-attribution-source-source-time①⑤">source time</a> and <var>deadlineToUse</var>.</p>
   </ol>
   <p>To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="obtain-an-aggregatable-report-delivery-time">obtain an aggregatable report delivery time</dfn> given a <a data-link-type="dfn" href="https://w3c.github.io/hr-time/#dfn-moment" id="ref-for-dfn-moment①③">moment</a> <var>triggerTime</var>, perform the following steps. They return a <a data-link-type="dfn" href="https://w3c.github.io/hr-time/#dfn-moment" id="ref-for-dfn-moment①④">moment</a>.</p>
   <ol>
    <li data-md>
     <p>Let <var>r</var> be a random double between 0 (inclusive) and 1 (exclusive) with uniform probability.</p>
    <li data-md>
     <p>Return <var>triggerTime</var> + <a data-link-type="dfn" href="#min-aggregatable-report-delay" id="ref-for-min-aggregatable-report-delay">min aggregatable report delay</a> + <var>r</var> * <a data-link-type="dfn" href="#randomized-aggregatable-report-delay" id="ref-for-randomized-aggregatable-report-delay">randomized aggregatable report delay</a>.</p>
   </ol>
   <h3 class="heading settled algorithm" data-algorithm="Obtaining an event-level report" data-level="11.13" id="obtaining-an-event-level-report"><span class="secno">11.13. </span><span class="content">Obtaining an event-level report</span><a class="self-link" href="#obtaining-an-event-level-report"></a></h3>
   <p>To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="obtain-an-event-level-report">obtain an event-level report</dfn> given an <a data-link-type="dfn" href="#attribution-source" id="ref-for-attribution-source⑤②">attribution source</a> <var>source</var>, an <a data-link-type="dfn" href="#attribution-trigger" id="ref-for-attribution-trigger①⑧">attribution trigger</a> <var>trigger</var>, and an <a data-link-type="dfn" href="#event-level-trigger-configuration" id="ref-for-event-level-trigger-configuration④">event-level trigger configuration</a> <var>config</var>:</p>
   <ol>
    <li data-md>
     <p>Let <var>triggerDataCardinality</var> be the user agent’s <a data-link-type="dfn" href="#navigation-source-trigger-data-cardinality" id="ref-for-navigation-source-trigger-data-cardinality②">navigation-source trigger data cardinality</a>.</p>
    <li data-md>
     <p>If <var>source</var>’s <a data-link-type="dfn" href="#attribution-source-source-type" id="ref-for-attribution-source-source-type⑨">source type</a> is "<code><a data-link-type="dfn" href="#source-type-event" id="ref-for-source-type-event⑦">event</a></code>", set <var>triggerDataCardinality</var> to
the user agent’s <a data-link-type="dfn" href="#event-source-trigger-data-cardinality" id="ref-for-event-source-trigger-data-cardinality②">event-source trigger data cardinality</a>.</p>
    <li data-md>
     <p>Let <var>reportTime</var> be the result of running <a data-link-type="dfn" href="#obtain-an-event-level-report-delivery-time" id="ref-for-obtain-an-event-level-report-delivery-time">obtain an event-level report delivery time</a> with <var>source</var> and <var>trigger</var>’s <a data-link-type="dfn" href="#attribution-trigger-trigger-time" id="ref-for-attribution-trigger-trigger-time⑦">trigger time</a>.</p>
    <li data-md>
     <p>Let <var>report</var> be a new <a data-link-type="dfn" href="#event-level-report" id="ref-for-event-level-report⑧">event-level report</a> struct whose items are:</p>
     <dl>
      <dt data-md><a data-link-type="dfn" href="#event-level-report-event-id" id="ref-for-event-level-report-event-id">event ID</a>
      <dd data-md>
       <p><var>source</var>’s <a data-link-type="dfn" href="#attribution-source-event-id" id="ref-for-attribution-source-event-id③">event ID</a>.</p>
      <dt data-md><a data-link-type="dfn" href="#event-level-report-trigger-data" id="ref-for-event-level-report-trigger-data">trigger data</a>
      <dd data-md>
       <p>The remainder when dividing <var>config</var>’s <a data-link-type="dfn" href="#event-level-trigger-configuration-trigger-data" id="ref-for-event-level-trigger-configuration-trigger-data⑥">trigger data</a> by <var>triggerDataCardinality</var>.</p>
      <dt data-md><a data-link-type="dfn" href="#event-level-report-randomized-trigger-rate" id="ref-for-event-level-report-randomized-trigger-rate">randomized trigger rate</a>
      <dd data-md>
       <p><var>source</var>’s <a data-link-type="dfn" href="#attribution-source-randomized-trigger-rate" id="ref-for-attribution-source-randomized-trigger-rate①">randomized trigger rate</a>.</p>
      <dt data-md><a data-link-type="dfn" href="#attribution-report-reporting-endpoint" id="ref-for-attribution-report-reporting-endpoint②">reporting endpoint</a>
      <dd data-md>
       <p><var>source</var>’s <a data-link-type="dfn" href="#attribution-source-reporting-endpoint" id="ref-for-attribution-source-reporting-endpoint①②">reporting endpoint</a>.</p>
      <dt data-md><a data-link-type="dfn" href="#event-level-report-attribution-destinations" id="ref-for-event-level-report-attribution-destinations③">attribution destinations</a>
      <dd data-md>
       <p><var>source</var>’s <a data-link-type="dfn" href="#attribution-source-attribution-destinations" id="ref-for-attribution-source-attribution-destinations⑨">attribution destinations</a>.</p>
      <dt data-md><a data-link-type="dfn" href="#attribution-report-report-time" id="ref-for-attribution-report-report-time③">report time</a>
      <dd data-md>
       <p><var>reportTime</var></p>
      <dt data-md><a data-link-type="dfn" href="#attribution-report-original-report-time" id="ref-for-attribution-report-original-report-time">original report time</a>
      <dd data-md>
       <p><var>reportTime</var></p>
      <dt data-md><a data-link-type="dfn" href="#event-level-report-trigger-priority" id="ref-for-event-level-report-trigger-priority⑥">trigger priority</a>
      <dd data-md>
       <p><var>config</var>’s <a data-link-type="dfn" href="#event-level-trigger-configuration-priority" id="ref-for-event-level-trigger-configuration-priority②">priority</a>.</p>
      <dt data-md><a data-link-type="dfn" href="#event-level-report-trigger-time" id="ref-for-event-level-report-trigger-time②">trigger time</a>
      <dd data-md>
       <p><var>trigger</var>’s <a data-link-type="dfn" href="#attribution-trigger-trigger-time" id="ref-for-attribution-trigger-trigger-time⑧">trigger time</a>.</p>
      <dt data-md><a data-link-type="dfn" href="#event-level-report-source-identifier" id="ref-for-event-level-report-source-identifier②">source identifier</a>
      <dd data-md>
       <p><var>source</var>’s <a data-link-type="dfn" href="#attribution-source-source-identifier" id="ref-for-attribution-source-source-identifier①">source identifier</a>.</p>
      <dt data-md><a data-link-type="dfn" href="#attribution-report-report-id" id="ref-for-attribution-report-report-id">report id</a>
      <dd data-md>
       <p>The result of <a data-link-type="dfn" href="https://wicg.github.io/uuid/#dfn-generate-a-random-uuid" id="ref-for-dfn-generate-a-random-uuid">generating a random UUID</a>.</p>
      <dt data-md><a data-link-type="dfn" href="#attribution-report-source-debug-key" id="ref-for-attribution-report-source-debug-key②">source debug key</a>
      <dd data-md>
       <p><var>source</var>’s <a data-link-type="dfn" href="#attribution-source-debug-key" id="ref-for-attribution-source-debug-key⑤">debug key</a>.</p>
      <dt data-md><a data-link-type="dfn" href="#attribution-report-trigger-debug-key" id="ref-for-attribution-report-trigger-debug-key②">trigger debug key</a>
      <dd data-md>
       <p><var>trigger</var>’s <a data-link-type="dfn" href="#attribution-trigger-debug-key" id="ref-for-attribution-trigger-debug-key④">debug key</a>.</p>
     </dl>
    <li data-md>
     <p>Return <var>report</var>.</p>
   </ol>
   <h3 class="heading settled" data-level="11.14" id="obtaining-required-aggregatable-budget"><span class="secno">11.14. </span><span class="content">Obtaining an aggregatable report’s required budget</span><a class="self-link" href="#obtaining-required-aggregatable-budget"></a></h3>
   <p>An <a data-link-type="dfn" href="#aggregatable-report" id="ref-for-aggregatable-report⑧">aggregatable report</a> <var>report</var>’s <dfn class="dfn-paneled" data-dfn-for="aggregatable report" data-dfn-type="dfn" data-lt="required aggregatable budget" data-noexport id="aggregatable-report-required-aggregatable-budget"> required aggregatable budget</dfn> is the total <a data-link-type="dfn" href="#aggregatable-contribution-value" id="ref-for-aggregatable-contribution-value②">value</a> of <var>report</var>’s <a data-link-type="dfn" href="#aggregatable-report-contributions" id="ref-for-aggregatable-report-contributions①">contributions</a>.</p>
   <h3 class="heading settled algorithm" data-algorithm="Obtaining an aggregatable report" data-level="11.15" id="obtaining-an-aggregatable-report"><span class="secno">11.15. </span><span class="content">Obtaining an aggregatable report</span><a class="self-link" href="#obtaining-an-aggregatable-report"></a></h3>
   <p>To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="obtain-an-aggregatable-report">obtain an aggregatable report</dfn> given an <a data-link-type="dfn" href="#attribution-source" id="ref-for-attribution-source⑤③">attribution source</a> <var>source</var> and
an <a data-link-type="dfn" href="#attribution-trigger" id="ref-for-attribution-trigger①⑨">attribution trigger</a> <var>trigger</var>:</p>
   <ol>
    <li data-md>
     <p>Let <var>reportTime</var> be the result of running <a data-link-type="dfn" href="#obtain-an-aggregatable-report-delivery-time" id="ref-for-obtain-an-aggregatable-report-delivery-time">obtain an aggregatable report delivery time</a> with <var>trigger</var>’s <a data-link-type="dfn" href="#attribution-trigger-trigger-time" id="ref-for-attribution-trigger-trigger-time⑨">trigger time</a>.</p>
    <li data-md>
     <p>Let <var>report</var> be a new <a data-link-type="dfn" href="#aggregatable-report" id="ref-for-aggregatable-report⑨">aggregatable report</a> struct whose items are:</p>
     <dl>
      <dt data-md><a data-link-type="dfn" href="#attribution-report-reporting-endpoint" id="ref-for-attribution-report-reporting-endpoint③">reporting endpoint</a>
      <dd data-md>
       <p><var>source</var>’s <a data-link-type="dfn" href="#attribution-source-reporting-endpoint" id="ref-for-attribution-source-reporting-endpoint①③">reporting endpoint</a>.</p>
      <dt data-md><a data-link-type="dfn" href="#aggregatable-report-effective-attribution-destination" id="ref-for-aggregatable-report-effective-attribution-destination②">effective attribution destination</a>
      <dd data-md>
       <p><var>trigger</var>’s <a data-link-type="dfn" href="#attribution-trigger-attribution-destination" id="ref-for-attribution-trigger-attribution-destination⑧">attribution destination</a>.</p>
      <dt data-md><a data-link-type="dfn" href="#aggregatable-report-source-time" id="ref-for-aggregatable-report-source-time">source time</a>
      <dd data-md>
       <p><var>source</var>’s <a data-link-type="dfn" href="#attribution-source-source-time" id="ref-for-attribution-source-source-time①⑥">source time</a>.</p>
      <dt data-md><a data-link-type="dfn" href="#attribution-report-original-report-time" id="ref-for-attribution-report-original-report-time①">original report time</a>
      <dd data-md>
       <p><var>reportTime</var>.</p>
      <dt data-md><a data-link-type="dfn" href="#attribution-report-report-time" id="ref-for-attribution-report-report-time④">report time</a>
      <dd data-md>
       <p><var>reportTime</var>.</p>
      <dt data-md><a data-link-type="dfn" href="#attribution-report-report-id" id="ref-for-attribution-report-report-id①">report id</a>
      <dd data-md>
       <p>The result of <a data-link-type="dfn" href="https://wicg.github.io/uuid/#dfn-generate-a-random-uuid" id="ref-for-dfn-generate-a-random-uuid①">generating a random UUID</a>.</p>
      <dt data-md><a data-link-type="dfn" href="#attribution-report-source-debug-key" id="ref-for-attribution-report-source-debug-key③">source debug key</a>
      <dd data-md>
       <p><var>source</var>’s <a data-link-type="dfn" href="#attribution-source-debug-key" id="ref-for-attribution-source-debug-key⑥">debug key</a>.</p>
      <dt data-md><a data-link-type="dfn" href="#attribution-report-trigger-debug-key" id="ref-for-attribution-report-trigger-debug-key③">trigger debug key</a>
      <dd data-md>
       <p><var>trigger</var>’s <a data-link-type="dfn" href="#attribution-trigger-debug-key" id="ref-for-attribution-trigger-debug-key⑤">debug key</a>.</p>
      <dt data-md><a data-link-type="dfn" href="#aggregatable-report-contributions" id="ref-for-aggregatable-report-contributions②">contributions</a>
      <dd data-md>
       <p>The result of running <a data-link-type="dfn" href="#create-aggregatable-contributions" id="ref-for-create-aggregatable-contributions">create aggregatable contributions</a> with <var>source</var> and <var>trigger</var>.</p>
      <dt data-md><a data-link-type="dfn" href="#aggregatable-report-serialized-private-state-token" id="ref-for-aggregatable-report-serialized-private-state-token">serialized private state token</a>
      <dd data-md>
       <p><var>trigger</var>’s <a data-link-type="dfn" href="#attribution-trigger-serialized-private-state-token" id="ref-for-attribution-trigger-serialized-private-state-token①">serialized private state token</a></p>
      <dt data-md><a data-link-type="dfn" href="#aggregatable-report-aggregation-coordinator" id="ref-for-aggregatable-report-aggregation-coordinator">aggregation coordinator</a>
      <dd data-md>
       <p><var>trigger</var>’s <a data-link-type="dfn" href="#attribution-trigger-aggregation-coordinator" id="ref-for-attribution-trigger-aggregation-coordinator②">aggregation coordinator</a></p>
     </dl>
    <li data-md>
     <p>Return <var>report</var>.</p>
   </ol>
   <h2 class="heading settled" data-level="12" id="report-delivery"><span class="secno">12. </span><span class="content">Report delivery</span><a class="self-link" href="#report-delivery"></a></h2>
   <p>The user agent MUST periodically <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-iterate" id="ref-for-list-iterate②②">iterate</a> over its <a data-link-type="dfn" href="#event-level-report-cache" id="ref-for-event-level-report-cache⑧">event-level report cache</a> and <a data-link-type="dfn" href="#aggregatable-report-cache" id="ref-for-aggregatable-report-cache⑤">aggregatable report cache</a> and run <a data-link-type="dfn" href="#queue-a-report-for-delivery" id="ref-for-queue-a-report-for-delivery">queue a report for delivery</a> on each item.</p>
   <p>To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="queue-a-report-for-delivery">queue a report for delivery</dfn> given an <a data-link-type="dfn" href="#attribution-report" id="ref-for-attribution-report⑥">attribution report</a> <var>report</var> and an <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#environment-settings-object" id="ref-for-environment-settings-object③">environment settings objects</a> <var>context</var>, run the following steps <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel" id="ref-for-in-parallel">in parallel</a>:</p>
   <ol>
    <li data-md>
     <p>If <var>report</var>’s <a data-link-type="dfn" href="#attribution-report-delivered" id="ref-for-attribution-report-delivered">delivered</a> value is true, return.</p>
    <li data-md>
     <p>Set <var>report</var>’s <a data-link-type="dfn" href="#attribution-report-delivered" id="ref-for-attribution-report-delivered①">delivered</a> value to true.</p>
    <li data-md>
     <p>If <var>report</var>’s <a data-link-type="dfn" href="#attribution-report-report-time" id="ref-for-attribution-report-report-time⑤">report time</a> is less than <var>context</var>’s <a data-link-type="dfn" href="https://w3c.github.io/hr-time/#dfn-current-wall-time" id="ref-for-dfn-current-wall-time③">current wall time</a>, add an <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#implementation-defined" id="ref-for-implementation-defined">implementation-defined</a> random non-negative <a data-link-type="dfn" href="https://w3c.github.io/hr-time/#dfn-duration" id="ref-for-dfn-duration⑧">duration</a> to <var>report</var>’s <a data-link-type="dfn" href="#attribution-report-report-time" id="ref-for-attribution-report-report-time⑥">report time</a>.</p>
     <p class="note" role="note"><span class="marker">Note:</span> On startup, it is possible the user agent will need to send many reports whose report times passed while the browser was
 closed. Adding random delay prevents temporal joining of reports from different <a data-link-type="dfn" href="#attribution-source-source-origin" id="ref-for-attribution-source-source-origin⑤">source origin</a>s.</p>
    <li data-md>
     <p>Wait until <var>context</var>’s <a data-link-type="dfn" href="https://w3c.github.io/hr-time/#dfn-current-wall-time" id="ref-for-dfn-current-wall-time④">current wall time</a> is equal to <var>report</var>’s <a data-link-type="dfn" href="#attribution-report-report-time" id="ref-for-attribution-report-report-time⑦">report time</a>.</p>
    <li data-md>
     <p>Optionally, wait a further <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#implementation-defined" id="ref-for-implementation-defined①">implementation-defined</a> <a data-link-type="dfn" href="https://w3c.github.io/hr-time/#dfn-duration" id="ref-for-dfn-duration⑨">duration</a>.</p>
     <p class="note" role="note"><span class="marker">Note:</span> This is intended to allow user agents to optimize device resource usage.</p>
    <li data-md>
     <p>Run <a data-link-type="dfn" href="#attempt-to-deliver-a-report" id="ref-for-attempt-to-deliver-a-report">attempt to deliver a report</a> with <var>report</var>.</p>
   </ol>
   <h3 class="heading settled" data-level="12.1" id="encode-integer"><span class="secno">12.1. </span><span class="content">Encode an unsigned k-bit integer</span><a class="self-link" href="#encode-integer"></a></h3>
   <p>To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="encode-an-unsigned-k-bit-integer">encode an unsigned k-bit integer</dfn>, represent it as a big-endian <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#byte-sequence" id="ref-for-byte-sequence⑤">byte sequence</a> of length k / 8, left padding with zero as necessary.</p>
   <h3 class="heading settled" data-level="12.2" id="obtain-aggregatable-report-debug-mode"><span class="secno">12.2. </span><span class="content">Obtaining an aggregatable report’s debug mode</span><a class="self-link" href="#obtain-aggregatable-report-debug-mode"></a></h3>
   <p>An <a data-link-type="dfn" href="#aggregatable-report" id="ref-for-aggregatable-report①⓪">aggregatable report</a> <var>report</var>’s <dfn class="dfn-paneled" data-dfn-for="aggregatable report" data-dfn-type="dfn" data-noexport id="aggregatable-report-debug-mode">debug mode</dfn> is the result
of running the following steps:</p>
   <ol>
    <li data-md>
     <p>If <var>report</var>’s <a data-link-type="dfn" href="#attribution-report-source-debug-key" id="ref-for-attribution-report-source-debug-key④">source debug key</a> is null, return <strong>disabled</strong>.</p>
    <li data-md>
     <p>If <var>report</var>’s <a data-link-type="dfn" href="#attribution-report-trigger-debug-key" id="ref-for-attribution-report-trigger-debug-key④">trigger debug key</a> is null, return <strong>disabled</strong>.</p>
    <li data-md>
     <p>Return <strong>enabled</strong>.</p>
   </ol>
   <h3 class="heading settled" data-level="12.3" id="obtain-aggregatable-report-shared-info"><span class="secno">12.3. </span><span class="content">Obtaining an aggregatable report’s shared info</span><a class="self-link" href="#obtain-aggregatable-report-shared-info"></a></h3>
   <p>An <a data-link-type="dfn" href="#aggregatable-report" id="ref-for-aggregatable-report①①">aggregatable report</a> <var>report</var>’s <dfn class="dfn-paneled" data-dfn-for="aggregatable report" data-dfn-type="dfn" data-noexport id="aggregatable-report-shared-info">shared info</dfn> is the result
of running the following steps:</p>
   <ol>
    <li data-md>
     <p>Let <var>reportingOrigin</var> be <var>report</var>’s <a data-link-type="dfn" href="#attribution-report-reporting-endpoint" id="ref-for-attribution-report-reporting-endpoint④">reporting endpoint</a>.</p>
    <li data-md>
     <p>Let <var>sharedInfo</var> be an <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-map" id="ref-for-ordered-map②②">ordered map</a> of the following key/value pairs:</p>
     <dl>
      <dt data-md>"<code>api</code>"
      <dd data-md>
       <p>"<code>attribution-reporting</code>"</p>
      <dt data-md>"<code>attribution_destination</code>"
      <dd data-md>
       <p><var>report</var>’s <a data-link-type="dfn" href="#aggregatable-report-effective-attribution-destination" id="ref-for-aggregatable-report-effective-attribution-destination③">effective attribution destination</a>, <a href="https://html.spec.whatwg.org/multipage/origin.html#serialization-of-a-site">serialized</a></p>
      <dt data-md>"<code>report_id</code>"
      <dd data-md>
       <p><var>report</var>’s <a data-link-type="dfn" href="#attribution-report-report-id" id="ref-for-attribution-report-report-id②">report ID</a></p>
      <dt data-md>"<code>reporting_origin</code>"
      <dd data-md>
       <p><var>reportingOrigin</var>, <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#ascii-serialisation-of-an-origin" id="ref-for-ascii-serialisation-of-an-origin">serialized</a></p>
      <dt data-md>"<code>scheduled_report_time</code>"
      <dd data-md>
       <p><var>report</var>’s <a data-link-type="dfn" href="#attribution-report-original-report-time" id="ref-for-attribution-report-original-report-time②">original report time</a> in seconds since the UNIX epoch, <a data-link-type="dfn" href="#serialize-an-integer" id="ref-for-serialize-an-integer①②">serialized</a></p>
      <dt data-md>"<code>source_registration_time</code>"
      <dd data-md>
       <p><var>report</var>’s <a data-link-type="dfn" href="#aggregatable-report-source-time" id="ref-for-aggregatable-report-source-time①">source time</a> in seconds since the UNIX epoch, rounded down
to a multiple of a whole day (86400 seconds), <a data-link-type="dfn" href="#serialize-an-integer" id="ref-for-serialize-an-integer①③">serialized</a></p>
      <dt data-md>"<code>version</code>"
      <dd data-md>
       <p>A <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string" id="ref-for-string③②">string</a>, API version.</p>
     </dl>
    <li data-md>
     <p>If <var>report</var>’s <a data-link-type="dfn" href="#aggregatable-report-debug-mode" id="ref-for-aggregatable-report-debug-mode">debug mode</a> is <strong>enabled</strong>,
set <var>sharedInfo</var>["<code>debug_mode</code>"] to "<code>enabled</code>".</p>
    <li data-md>
     <p>Return the <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string" id="ref-for-string③③">string</a> resulting from executing <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#serialize-an-infra-value-to-a-json-string" id="ref-for-serialize-an-infra-value-to-a-json-string">serialize an infra value to a json string</a> on <var>sharedInfo</var>.</p>
   </ol>
   <h3 class="heading settled" data-level="12.4" id="obtain-aggregatable-report-aggregation-service-payloads"><span class="secno">12.4. </span><span class="content">Obtaining an aggregatable report’s aggregation service payloads</span><a class="self-link" href="#obtain-aggregatable-report-aggregation-service-payloads"></a></h3>
   <p>To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="obtain-the-public-key-for-encryption">obtain the public key for encryption</dfn> given an <a data-link-type="dfn" href="#aggregation-coordinator" id="ref-for-aggregation-coordinator④">aggregation coordinator</a> <var>aggregationCoordinator</var>, asynchronously return a user-agent-determined public key
or an error in the event that the user agent failed to obtain the public key.</p>
   <p class="note" role="note"><span class="marker">Note:</span> The user agent might enforce weekly key rotation. If there are multiple keys, the user agent
might independently pick a key uniformly at random for every encryption operation.
The key should be uniquely identifiable.</p>
   <p>An <a data-link-type="dfn" href="#aggregatable-report" id="ref-for-aggregatable-report①②">aggregatable report</a> <var>report</var>’s <dfn class="dfn-paneled" data-dfn-for="aggregatable report" data-dfn-type="dfn" data-noexport id="aggregatable-report-plaintext-payload">plaintext payload</dfn> is the result of running the following steps:</p>
   <ol>
    <li data-md>
     <p>Let <var>payloadData</var> be a new <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-is-empty" id="ref-for-list-is-empty②④">empty</a> <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list" id="ref-for-list③④">list</a>.</p>
    <li data-md>
     <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-iterate" id="ref-for-list-iterate②③">For each</a> <var>contribution</var> of <var>report</var>’s <a data-link-type="dfn" href="#aggregatable-report-contributions" id="ref-for-aggregatable-report-contributions③">contributions</a>:</p>
     <ol>
      <li data-md>
       <p>Let <var>contributionData</var> be a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-map" id="ref-for-ordered-map②③">map</a> of the following key/value pairs:</p>
       <dl>
        <dt data-md>"<code>bucket</code>"
        <dd data-md>
         <p><var>contribution</var>’s <a data-link-type="dfn" href="#aggregatable-contribution-key" id="ref-for-aggregatable-contribution-key①">key</a>, <a data-link-type="dfn" href="#encode-an-unsigned-k-bit-integer" id="ref-for-encode-an-unsigned-k-bit-integer">encoded</a></p>
        <dt data-md>"<code>value</code>"
        <dd data-md>
         <p><var>contribution</var>’s <a data-link-type="dfn" href="#aggregatable-contribution-value" id="ref-for-aggregatable-contribution-value③">value</a>, <a data-link-type="dfn" href="#encode-an-unsigned-k-bit-integer" id="ref-for-encode-an-unsigned-k-bit-integer①">encoded</a></p>
       </dl>
      <li data-md>
       <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-append" id="ref-for-list-append①⓪">Append</a> <var>contributionData</var> to <var>payloadData</var>.</p>
     </ol>
    <li data-md>
     <p>Let <var>payload</var> be a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-map" id="ref-for-ordered-map②④">map</a> of the following key/value pairs:</p>
     <dl>
      <dt data-md>"<code>data</code>"
      <dd data-md>
       <p><var>payloadData</var></p>
      <dt data-md>"<code>operation</code>"
      <dd data-md>
       <p>"<code>histogram</code>"</p>
     </dl>
    <li data-md>
     <p>Return the <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#byte-sequence" id="ref-for-byte-sequence⑥">byte sequence</a> resulting from <a data-link-type="biblio" href="#biblio-rfc8949" title="Concise Binary Object Representation (CBOR)">CBOR encoding</a> <var>payload</var>.</p>
   </ol>
   <p>To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="obtain-the-encrypted-payload">obtain the encrypted payload</dfn> given an <a data-link-type="dfn" href="#aggregatable-report" id="ref-for-aggregatable-report①③">aggregatable report</a> <var>report</var> and
a public key <var>pkR</var>, run the following steps:</p>
   <ol>
    <li data-md>
     <p>Let <var>plaintext</var> be <var>report</var>’s <a data-link-type="dfn" href="#aggregatable-report-plaintext-payload" id="ref-for-aggregatable-report-plaintext-payload">plaintext payload</a>.</p>
    <li data-md>
     <p>Let <var>encodedSharedInfo</var> be <var>report</var>’s <a data-link-type="dfn" href="#aggregatable-report-shared-info" id="ref-for-aggregatable-report-shared-info">shared info</a>, <a data-link-type="dfn" href="https://encoding.spec.whatwg.org/#utf-8-encode" id="ref-for-utf-8-encode">encoded</a>.</p>
    <li data-md>
     <p>Let <var>info</var> be the <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string-concatenate" id="ref-for-string-concatenate">concatenation</a> of «"<code>aggregation_service</code>", <var>encodedSharedInfo</var>».</p>
    <li data-md>
     <p>Set up <a data-link-type="biblio" href="#biblio-rfc9180" title="Hybrid Public Key Encryption">HPKE</a> <a href="https://www.rfc-editor.org/rfc/rfc9180#name-encryption-to-a-public-key">sender’s context</a> with <var>pkR</var> and <var>info</var>.</p>
    <li data-md>
     <p>Return the <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#byte-sequence" id="ref-for-byte-sequence⑦">byte sequence</a> or an error resulting from <a href="https://www.rfc-editor.org/rfc/rfc9180#name-encryption-and-decryption">encrypting</a> <var>plaintext</var> with the <a href="https://www.rfc-editor.org/rfc/rfc9180#name-encryption-to-a-public-key">sender’s context</a>.</p>
   </ol>
   <p>To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="obtain-the-aggregation-service-payloads">obtain the aggregation service payloads</dfn> given an <a data-link-type="dfn" href="#aggregatable-report" id="ref-for-aggregatable-report①④">aggregatable report</a> <var>report</var>,
run the following steps:</p>
   <ol>
    <li data-md>
     <p>Let <var>pkR</var> be the result of running <a data-link-type="dfn" href="#obtain-the-public-key-for-encryption" id="ref-for-obtain-the-public-key-for-encryption">obtain the public key for encryption</a> with <var>report</var>’s <a data-link-type="dfn" href="#aggregatable-report-aggregation-coordinator" id="ref-for-aggregatable-report-aggregation-coordinator①">aggregation coordinator</a>.</p>
    <li data-md>
     <p>If <var>pkR</var> is an error, return <var>pkR</var>.</p>
    <li data-md>
     <p>Let <var>encryptedPayload</var> be the result of running <a data-link-type="dfn" href="#obtain-the-encrypted-payload" id="ref-for-obtain-the-encrypted-payload">obtain the encrypted payload</a> with <var>report</var> and <var>pkR</var>.</p>
    <li data-md>
     <p>If <var>encryptedPayload</var> is an error, return <var>encryptedPayload</var>.</p>
    <li data-md>
     <p>Let <var>aggregationServicePayloads</var> be a new <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-is-empty" id="ref-for-list-is-empty②⑤">empty</a> <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list" id="ref-for-list③⑤">list</a>.</p>
    <li data-md>
     <p>Let <var>aggregationServicePayload</var> be a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-map" id="ref-for-ordered-map②⑤">map</a> of the following key/value pairs:</p>
     <dl>
      <dt data-md>"<code>payload</code>"
      <dd data-md>
       <p><var>encryptedPayload</var>, <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#forgiving-base64-encode" id="ref-for-forgiving-base64-encode①">base64 encoded</a></p>
      <dt data-md>"<code>key_id</code>"
      <dd data-md>
       <p>A <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string" id="ref-for-string③④">string</a> identifying <var>pkR</var></p>
     </dl>
    <li data-md>
     <p>If <var>report</var>’s <a data-link-type="dfn" href="#aggregatable-report-debug-mode" id="ref-for-aggregatable-report-debug-mode①">debug mode</a> is <strong>enabled</strong>,
set <var>aggregationServicePayload</var>["<code>debug_cleartext_payload</code>"] to <var>report</var>’s <a data-link-type="dfn" href="#aggregatable-report-plaintext-payload" id="ref-for-aggregatable-report-plaintext-payload①">plaintext payload</a>, <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#forgiving-base64-encode" id="ref-for-forgiving-base64-encode②">base64 encoded</a>.</p>
    <li data-md>
     <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-append" id="ref-for-list-append①①">Append</a> <var>aggregationServicePayload</var> to <var>aggregationServicePayloads</var>.</p>
    <li data-md>
     <p>Return <var>aggregationServicePayloads</var>.</p>
   </ol>
   <h3 class="heading settled" data-level="12.5" id="serialize-report-body"><span class="secno">12.5. </span><span class="content">Serialize attribution report body</span><a class="self-link" href="#serialize-report-body"></a></h3>
   <p>To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="obtain-an-event-level-report-body">obtain an event-level report body</dfn> given an <a data-link-type="dfn" href="#attribution-report" id="ref-for-attribution-report⑦">attribution report</a> <var>report</var>, run the following steps:</p>
   <ol>
    <li data-md>
     <p>Let <var>data</var> be a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-map" id="ref-for-ordered-map②⑥">map</a> of the following key/value pairs:</p>
     <dl>
      <dt data-md>"<code>attribution_destination</code>"
      <dd data-md>
       <p><var>report</var>’s <a data-link-type="dfn" href="#event-level-report-attribution-destinations" id="ref-for-event-level-report-attribution-destinations④">attribution destinations</a>, <a data-link-type="dfn" href="#serialize-attribution-destinations" id="ref-for-serialize-attribution-destinations①">serialized</a>.</p>
      <dt data-md>"<code>randomized_trigger_rate</code>"
      <dd data-md>
       <p><var>report</var>’s <a data-link-type="dfn" href="#event-level-report-randomized-trigger-rate" id="ref-for-event-level-report-randomized-trigger-rate①">randomized trigger rate</a></p>
      <dt data-md>"<code>source_type</code>"
      <dd data-md>
       <p><var>report</var>’s <a data-link-type="dfn" href="#event-level-report-source-type" id="ref-for-event-level-report-source-type">source type</a></p>
      <dt data-md>"<code>source_event_id</code>"
      <dd data-md>
       <p><var>report</var>’s <a data-link-type="dfn" href="#event-level-report-event-id" id="ref-for-event-level-report-event-id①">event ID</a>, <a data-link-type="dfn" href="#serialize-an-integer" id="ref-for-serialize-an-integer①④">serialized</a></p>
      <dt data-md>"<code>trigger_data</code>"
      <dd data-md>
       <p><var>report</var>’s <a data-link-type="dfn" href="#event-level-report-trigger-data" id="ref-for-event-level-report-trigger-data①">trigger data</a>, <a data-link-type="dfn" href="#serialize-an-integer" id="ref-for-serialize-an-integer①⑤">serialized</a></p>
      <dt data-md>"<code>report_id</code>"
      <dd data-md>
       <p><var>report</var>’s <a data-link-type="dfn" href="#attribution-report-report-id" id="ref-for-attribution-report-report-id③">report ID</a></p>
      <dt data-md>"<code>scheduled_report_time</code>"
      <dd data-md>
       <p><var>report</var>’s <a data-link-type="dfn" href="#attribution-report-original-report-time" id="ref-for-attribution-report-original-report-time③">original report time</a> in seconds since the UNIX epoch, <a data-link-type="dfn" href="#serialize-an-integer" id="ref-for-serialize-an-integer①⑥">serialized</a></p>
     </dl>
    <li data-md>
     <p>If <var>report</var>’s <a data-link-type="dfn" href="#attribution-report-source-debug-key" id="ref-for-attribution-report-source-debug-key⑤">source debug key</a> is not null, <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-set" id="ref-for-map-set①⑥">set</a> <var>data</var>["<code>source_debug_key</code>"] to <var>report</var>’s <a data-link-type="dfn" href="#attribution-report-source-debug-key" id="ref-for-attribution-report-source-debug-key⑥">source debug key</a>, <a data-link-type="dfn" href="#serialize-an-integer" id="ref-for-serialize-an-integer①⑦">serialized</a>.</p>
    <li data-md>
     <p>If <var>report</var>’s <a data-link-type="dfn" href="#attribution-report-trigger-debug-key" id="ref-for-attribution-report-trigger-debug-key⑤">trigger debug key</a> is not null, <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-set" id="ref-for-map-set①⑦">set</a> <var>data</var>["<code>trigger_debug_key</code>"] to <var>report</var>’s <a data-link-type="dfn" href="#attribution-report-trigger-debug-key" id="ref-for-attribution-report-trigger-debug-key⑥">trigger debug key</a>, <a data-link-type="dfn" href="#serialize-an-integer" id="ref-for-serialize-an-integer①⑧">serialized</a>.</p>
    <li data-md>
     <p>Return <var>data</var>.</p>
   </ol>
   <p>To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="serialize-an-event-level-report">serialize an <a data-link-type="dfn" href="#event-level-report" id="ref-for-event-level-report⑨">event-level report</a></dfn> <var>report</var>, run the following steps:</p>
   <ol>
    <li data-md>
     <p>Let <var>data</var> be the result of running <a data-link-type="dfn" href="#obtain-an-event-level-report-body" id="ref-for-obtain-an-event-level-report-body①">obtain an event-level report body</a> with <var>report</var>.</p>
    <li data-md>
     <p>Return the <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#byte-sequence" id="ref-for-byte-sequence⑧">byte sequence</a> resulting from executing <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#serialize-an-infra-value-to-json-bytes" id="ref-for-serialize-an-infra-value-to-json-bytes">serialize an infra value to JSON bytes</a> on <var>data</var>.</p>
   </ol>
   <p>To <dfn class="dfn-paneled" data-dfn-type="dfn" data-lt="serialize an aggregatable report" data-noexport id="serialize-an-aggregatable-report">serialize an <a data-link-type="dfn" href="#aggregatable-report" id="ref-for-aggregatable-report①⑤">aggregatable report</a> </dfn> <var>report</var>, run the following steps:</p>
   <ol>
    <li data-md>
     <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#assert" id="ref-for-assert⑥">Assert</a>: <var>report</var>’s <a data-link-type="dfn" href="#aggregatable-report-effective-attribution-destination" id="ref-for-aggregatable-report-effective-attribution-destination④">effective attribution destination</a> is not the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#concept-origin-opaque" id="ref-for-concept-origin-opaque①">opaque origin</a>.</p>
    <li data-md>
     <p>Let <var>aggregationServicePayloads</var> be the result of running <a data-link-type="dfn" href="#obtain-the-aggregation-service-payloads" id="ref-for-obtain-the-aggregation-service-payloads">obtain the aggregation service payloads</a>.</p>
    <li data-md>
     <p>If <var>aggregationServicePayloads</var> is an error, return <var>aggregationServicePayloads</var>.</p>
    <li data-md>
     <p>Let <var>data</var> be a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-map" id="ref-for-ordered-map②⑦">map</a> of the following key/value pairs:</p>
     <dl>
      <dt data-md>"<code>shared_info</code>"
      <dd data-md>
       <p><var>report</var>’s <a data-link-type="dfn" href="#aggregatable-report-shared-info" id="ref-for-aggregatable-report-shared-info①">shared info</a></p>
      <dt data-md>"<code>aggregation_service_payloads</code>"
      <dd data-md>
       <p><var>aggregationServicePayloads</var></p>
      <dt data-md>"<code>aggregation_coordinator_identifier</code>"
      <dd data-md>
       <p><var>report</var>’s <a data-link-type="dfn" href="#aggregatable-report-aggregation-coordinator" id="ref-for-aggregatable-report-aggregation-coordinator②">aggregation coordinator</a></p>
     </dl>
    <li data-md>
     <p>If <var>report</var>’s <a data-link-type="dfn" href="#attribution-report-source-debug-key" id="ref-for-attribution-report-source-debug-key⑦">source debug key</a> is not null, <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-set" id="ref-for-map-set①⑧">set</a> <var>data</var>["<code>source_debug_key</code>"] to <var>report</var>’s <a data-link-type="dfn" href="#attribution-report-source-debug-key" id="ref-for-attribution-report-source-debug-key⑧">source debug key</a>, <a data-link-type="dfn" href="#serialize-an-integer" id="ref-for-serialize-an-integer①⑨">serialized</a>.</p>
    <li data-md>
     <p>If <var>report</var>’s <a data-link-type="dfn" href="#attribution-report-trigger-debug-key" id="ref-for-attribution-report-trigger-debug-key⑦">trigger debug key</a> is not null, <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-set" id="ref-for-map-set①⑨">set</a> <var>data</var>["<code>trigger_debug_key</code>"] to <var>report</var>’s <a data-link-type="dfn" href="#attribution-report-trigger-debug-key" id="ref-for-attribution-report-trigger-debug-key⑧">trigger debug key</a>, <a data-link-type="dfn" href="#serialize-an-integer" id="ref-for-serialize-an-integer②⓪">serialized</a>.</p>
    <li data-md>
     <p>Return the <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#byte-sequence" id="ref-for-byte-sequence⑨">byte sequence</a> resulting from executing <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#serialize-an-infra-value-to-json-bytes" id="ref-for-serialize-an-infra-value-to-json-bytes①">serialize an infra value to JSON bytes</a> on <var>data</var>.</p>
   </ol>
   <p>To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="serialize-an-attribution-report">serialize an <a data-link-type="dfn" href="#attribution-report" id="ref-for-attribution-report⑧">attribution report</a></dfn> <var>report</var>, run the following steps:</p>
   <ol>
    <li data-md>
     <p>If <var>report</var> is an:</p>
     <dl class="switch">
      <dt><a data-link-type="dfn" href="#event-level-report" id="ref-for-event-level-report①⓪">event-level report</a>
      <dd>Return the result of running <a data-link-type="dfn" href="#serialize-an-event-level-report" id="ref-for-serialize-an-event-level-report">serialize an event-level report</a> with <var>report</var>.
      <dt><a data-link-type="dfn" href="#aggregatable-report" id="ref-for-aggregatable-report①⑥">aggregatable report</a>
      <dd>Return the result of running <a data-link-type="dfn" href="#serialize-an-aggregatable-report" id="ref-for-serialize-an-aggregatable-report">serialize an aggregatable report</a> with <var>report</var>.</dd>
      <dl></dl>
     </dl>
   </ol>
   <p class="note" role="note"><span class="marker">Note:</span> The inclusion of "<code>report_id</code>" in the report body is intended to allow the report recipient
to perform deduplication and prevent double counting, in the event that the user agent retries
reports on failure. To prevent the report recipient from learning additional information about
whether a user is online, retries might be limited in number and subject to random delays.</p>
   <h3 class="heading settled" data-level="12.6" id="serialize-debug-report-body"><span class="secno">12.6. </span><span class="content">Serialize attribution debug report body</span><a class="self-link" href="#serialize-debug-report-body"></a></h3>
   <p>To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="serialize-an-attribution-debug-report">serialize an <a data-link-type="dfn" href="#attribution-debug-report" id="ref-for-attribution-debug-report①">attribution debug report</a></dfn> <var>report</var>, run the following steps:</p>
   <ol>
    <li data-md>
     <p>Let <var>collection</var> be an <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-is-empty" id="ref-for-list-is-empty②⑥">empty</a> <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list" id="ref-for-list③⑥">list</a>.</p>
    <li data-md>
     <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-iterate" id="ref-for-list-iterate②④">For each</a> <var>debugData</var> of <var>report</var>’s <a data-link-type="dfn" href="#attribution-debug-report-data" id="ref-for-attribution-debug-report-data①">data</a>:</p>
     <ol>
      <li data-md>
       <p>Let <var>data</var> be a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-map" id="ref-for-ordered-map②⑧">map</a> of the following key/value pairs:</p>
       <dl>
        <dt data-md>"<code>type</code>"
        <dd data-md>
         <p><var>debugData</var>’s <a data-link-type="dfn" href="#attribution-debug-data-data-type" id="ref-for-attribution-debug-data-data-type⑤">data type</a></p>
        <dt data-md>"<code>body</code>"
        <dd data-md>
         <p><var>debugData</var>’s <a data-link-type="dfn" href="#attribution-debug-data-body" id="ref-for-attribution-debug-data-body③">body</a></p>
       </dl>
      <li data-md>
       <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-append" id="ref-for-list-append①②">Append</a> <var>data</var> to <var>collection</var>.</p>
     </ol>
    <li data-md>
     <p>Return the <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#byte-sequence" id="ref-for-byte-sequence①⓪">byte sequence</a> resulting from executing <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#serialize-an-infra-value-to-json-bytes" id="ref-for-serialize-an-infra-value-to-json-bytes②">serialize an Infra value to JSON bytes</a> on <var>collection</var>.</p>
   </ol>
   <h3 class="heading settled" data-level="12.7" id="get-report-url"><span class="secno">12.7. </span><span class="content">Get report request URL</span><a class="self-link" href="#get-report-url"></a></h3>
   <p>To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="generate-a-report-url">generate a report URL</dfn> given a <a data-link-type="dfn" href="#suitable-origin" id="ref-for-suitable-origin①④">suitable origin</a> <var>reportingOrigin</var> and a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list" id="ref-for-list③⑦">list</a> of <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string" id="ref-for-string③⑤">strings</a> <var>path</var>:</p>
   <ol>
    <li data-md>
     <p>Let <var>reportUrl</var> be a new <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url" id="ref-for-concept-url⑧">URL</a> record.</p>
    <li data-md>
     <p>Set <var>reportUrl</var>’s <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-scheme" id="ref-for-concept-url-scheme">scheme</a> to <var>reportingOrigin</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#concept-origin-scheme" id="ref-for-concept-origin-scheme①">scheme</a>.</p>
    <li data-md>
     <p>Set <var>reportUrl</var>’s <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-host" id="ref-for-concept-url-host">host</a> to <var>reportingOrigin</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#concept-origin-host" id="ref-for-concept-origin-host①">host</a>.</p>
    <li data-md>
     <p>Set <var>reportUrl</var>’s <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-port" id="ref-for-concept-url-port">port</a> to <var>reportingOrigin</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#concept-origin-port" id="ref-for-concept-origin-port">port</a>.</p>
    <li data-md>
     <p>Let <var>fullPath</var> be «"<code>.well-known</code>", "<code>attribution-reporting</code>"».</p>
    <li data-md>
     <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-append" id="ref-for-list-append①③">Append</a> <var>path</var> to <var>fullPath</var>.</p>
    <li data-md>
     <p>Set <var>reportUrl</var>’s <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-path" id="ref-for-concept-url-path">path</a> to <var>path</var>.</p>
    <li data-md>
     <p>Return <var>reportUrl</var>.</p>
   </ol>
   <p>To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="generate-an-attribution-report-url">generate an attribution report URL</dfn> given an <a data-link-type="dfn" href="#attribution-report" id="ref-for-attribution-report⑨">attribution report</a> <var>report</var> and an optional <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#boolean" id="ref-for-boolean⑧">boolean</a> <dfn class="dfn-paneled" data-dfn-for="generate an attribution report URL" data-dfn-type="dfn" data-noexport id="generate-an-attribution-report-url-isdebugreport"><var>isDebugReport</var></dfn> (default false):</p>
   <ol>
    <li data-md>
     <p>Let <var>path</var> be an <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-is-empty" id="ref-for-list-is-empty②⑦">empty</a> <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list" id="ref-for-list③⑧">list</a>.</p>
    <li data-md>
     <p>If <var>isDebugReport</var> is true, <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-append" id="ref-for-list-append①④">append</a> "<code>debug</code>" to <var>path</var>.</p>
    <li data-md>
     <p>If <var>report</var> is an:</p>
     <dl class="switch">
      <dt><a data-link-type="dfn" href="#event-level-report" id="ref-for-event-level-report①①">event-level report</a>
      <dd><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-append" id="ref-for-list-append①⑤">Append</a> "<code>report-event-attribution</code>" to <var>path</var>.
      <dt><a data-link-type="dfn" href="#aggregatable-report" id="ref-for-aggregatable-report①⑦">aggregatable report</a>
      <dd><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-append" id="ref-for-list-append①⑥">Append</a> "<code>report-aggregate-attribution</code>" to <var>path</var>.
     </dl>
    <li data-md>
     <p>Return the result of running <a data-link-type="dfn" href="#generate-a-report-url" id="ref-for-generate-a-report-url">generate a report URL</a> with <var>report</var>’s <a data-link-type="dfn" href="#attribution-report-reporting-endpoint" id="ref-for-attribution-report-reporting-endpoint⑤">reporting endpoint</a> and <var>path</var>.</p>
   </ol>
   <p>To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="generate-an-attribution-debug-report-url">generate an attribution debug report URL</dfn> given an <a data-link-type="dfn" href="#attribution-debug-report" id="ref-for-attribution-debug-report②">attribution debug report</a> <var>report</var>:</p>
   <ol>
    <li data-md>
     <p>Let <var>path</var> be «"<code>debug</code>", "<code>verbose</code>"».</p>
    <li data-md>
     <p>Return the result of running <a data-link-type="dfn" href="#generate-a-report-url" id="ref-for-generate-a-report-url①">generate a report URL</a> with <var>report</var>’s <a data-link-type="dfn" href="#attribution-debug-report-reporting-endpoint" id="ref-for-attribution-debug-report-reporting-endpoint①">reporting endpoint</a> and <var>path</var>.</p>
   </ol>
   <h3 class="heading settled" data-level="12.8" id="create-report-request"><span class="secno">12.8. </span><span class="content">Creating a report request</span><a class="self-link" href="#create-report-request"></a></h3>
   <p>To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="create-a-report-request">create a report request</dfn> given a <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url" id="ref-for-concept-url⑨">URL</a> <var>url</var>, a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#byte-sequence" id="ref-for-byte-sequence①①">byte sequence</a> <var>body</var>,
and a <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-header-list" id="ref-for-concept-header-list">header list</a> <var>newHeaders</var> (defaults to an empty <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list" id="ref-for-list③⑨">list</a>):</p>
   <ol>
    <li data-md>
     <p>Let <var>headers</var> be a new <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-header-list" id="ref-for-concept-header-list①">header list</a> containing a <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-header" id="ref-for-concept-header">header</a> named
"<code>Content-Type</code>" whose value is "<code>application/json</code>".</p>
    <li data-md>
     <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-iterate" id="ref-for-list-iterate②⑤">For each</a> <var>header</var> in <var>newHeaders</var>:</p>
     <ol>
      <li data-md>
       <p><a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-header-list-append" id="ref-for-concept-header-list-append">Append</a> <var>header</var> to <var>headers</var>.</p>
     </ol>
    <li data-md>
     <p>Let <var>request</var> be a new <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request" id="ref-for-concept-request①">request</a> with the following properties:</p>
     <dl>
      <dt data-md><a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-method" id="ref-for-concept-request-method①">method</a>
      <dd data-md>
       <p>"<code>POST</code>"</p>
      <dt data-md><a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-url" id="ref-for-concept-request-url①">URL</a>
      <dd data-md>
       <p><var>url</var></p>
      <dt data-md><a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-header-list" id="ref-for-concept-request-header-list②">header list</a>
      <dd data-md>
       <p><var>headers</var></p>
      <dt data-md><a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-body" id="ref-for-concept-request-body">body</a>
      <dd data-md>
       <p>A <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-body" id="ref-for-concept-body">body</a> whose <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-body-source" id="ref-for-concept-body-source">source</a> is <var>body</var>.</p>
      <dt data-md><a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-referrer" id="ref-for-concept-request-referrer">referrer</a>
      <dd data-md>
       <p>"<code>no-referrer</code>"</p>
      <dt data-md><a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-client" id="ref-for-concept-request-client">client</a>
      <dd data-md>
       <p><code>null</code></p>
      <dt data-md><a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-window" id="ref-for-concept-request-window">window</a>
      <dd data-md>
       <p>"<code>no-window</code>"</p>
      <dt data-md><a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#request-service-workers-mode" id="ref-for-request-service-workers-mode">service-workers mode</a>
      <dd data-md>
       <p>"<code>none</code>"</p>
      <dt data-md><a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-initiator" id="ref-for-concept-request-initiator">initiator</a>
      <dd data-md>
       <p>""</p>
      <dt data-md><a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-mode" id="ref-for-concept-request-mode">mode</a>
      <dd data-md>
       <p>"<code>cors</code>"</p>
      <dt data-md><a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#unsafe-request-flag" id="ref-for-unsafe-request-flag">unsafe-request flag</a>
      <dd data-md>
       <p>set</p>
      <dt data-md><a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-credentials-mode" id="ref-for-concept-request-credentials-mode">credentials mode</a>
      <dd data-md>
       <p>"<code>omit</code>"</p>
      <dt data-md><a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-cache-mode" id="ref-for-concept-request-cache-mode">cache mode</a>
      <dd data-md>
       <p>"<code>no-store</code>"</p>
     </dl>
    <li data-md>
     <p>Return <var>request</var>.</p>
   </ol>
   <h3 class="heading settled" data-level="12.9" id="get-report-headers"><span class="secno">12.9. </span><span class="content">Get report request headers</span><a class="self-link" href="#get-report-headers"></a></h3>
   <p>To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="generate-attribution-report-headers">generate attribution report headers</dfn> given an <a data-link-type="dfn" href="#attribution-report" id="ref-for-attribution-report①⓪">attribution report</a> <var>report</var>:</p>
   <ol>
    <li data-md>
     <p>Let <var>newHeaders</var> be a new <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-header-list" id="ref-for-concept-header-list②">header list</a>.</p>
    <li data-md>
     <p>If <var>report</var> is an <a data-link-type="dfn" href="#aggregatable-report" id="ref-for-aggregatable-report①⑧">aggregatable report</a>:</p>
     <ol>
      <li data-md>
       <p>If <var>report</var>’s <a data-link-type="dfn" href="#aggregatable-report-serialized-private-state-token" id="ref-for-aggregatable-report-serialized-private-state-token①">serialized private state token</a> is not null, <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-header-list-append" id="ref-for-concept-header-list-append①">append</a> a new <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-header" id="ref-for-concept-header①">header</a> named "<code>Sec-Attribution-Reporting-Private-State-Token</code>" to <var>newHeaders</var> whose value is <var>report</var>’s <a data-link-type="dfn" href="#aggregatable-report-serialized-private-state-token" id="ref-for-aggregatable-report-serialized-private-state-token②">serialized private state token</a>.</p>
     </ol>
    <li data-md>
     <p>Return <var>newHeaders</var>.</p>
   </ol>
   <h3 class="heading settled" data-level="12.10" id="issue-report-request"><span class="secno">12.10. </span><span class="content">Issuing a report request</span><a class="self-link" href="#issue-report-request"></a></h3>
   <p>This algorithm constructs a <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request" id="ref-for-concept-request②">request</a> and attempts to deliver it to a <a data-link-type="dfn" href="#suitable-origin" id="ref-for-suitable-origin①⑤">suitable origin</a>.</p>
   <p>To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="remove-a-report-from-the-cache">remove a report from the cache</dfn> given an <a data-link-type="dfn" href="#attribution-report" id="ref-for-attribution-report①①">attribution report</a> <var>report</var>:</p>
   <ol>
    <li data-md>
     <p>If <var>report</var> is an:</p>
     <dl class="switch">
      <dt><a data-link-type="dfn" href="#event-level-report" id="ref-for-event-level-report①②">event-level report</a>
      <dd><a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-task" id="ref-for-queue-a-task③">Queue a task</a> to <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-remove" id="ref-for-list-remove⑨">remove</a> <var>report</var> from the <a data-link-type="dfn" href="#event-level-report-cache" id="ref-for-event-level-report-cache⑨">event-level report cache</a>.
      <dt><a data-link-type="dfn" href="#aggregatable-report" id="ref-for-aggregatable-report①⑨">aggregatable report</a>
      <dd><a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-task" id="ref-for-queue-a-task④">Queue a task</a> to <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-remove" id="ref-for-list-remove①⓪">remove</a> <var>report</var> from the <a data-link-type="dfn" href="#aggregatable-report-cache" id="ref-for-aggregatable-report-cache⑥">aggregatable report cache</a>.
     </dl>
   </ol>
   <p>To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="attempt-to-deliver-a-report">attempt to deliver a report</dfn> given an <a data-link-type="dfn" href="#attribution-report" id="ref-for-attribution-report①②">attribution report</a> <var>report</var>, run the following steps:</p>
   <ol>
    <li data-md>
     <p>Let <var>url</var> be the result of executing <a data-link-type="dfn" href="#generate-an-attribution-report-url" id="ref-for-generate-an-attribution-report-url">generate an attribution report URL</a> on <var>report</var>.</p>
    <li data-md>
     <p>Let <var>data</var> be the result of executing <a data-link-type="dfn" href="#serialize-an-attribution-report" id="ref-for-serialize-an-attribution-report">serialize an attribution report</a> on <var>report</var>.</p>
    <li data-md>
     <p>If <var>data</var> is an error, run <a data-link-type="dfn" href="#remove-a-report-from-the-cache" id="ref-for-remove-a-report-from-the-cache">remove a report from the cache</a> with <var>report</var> and return.</p>
    <li data-md>
     <p>Let <var>headers</var> be the result of executing <a data-link-type="dfn" href="#generate-attribution-report-headers" id="ref-for-generate-attribution-report-headers">generate attribution report headers</a>.</p>
    <li data-md>
     <p>Let <var>request</var> be the result of executing <a data-link-type="dfn" href="#create-a-report-request" id="ref-for-create-a-report-request">create a report request</a> on <var>url</var>, <var>data</var>, and <var>headers</var>.</p>
    <li data-md>
     <p><a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-task" id="ref-for-queue-a-task⑤">Queue a task</a> to <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-fetch" id="ref-for-concept-fetch①">fetch</a> <var>request</var> with <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#process-response" id="ref-for-process-response①">processResponse</a> being <a data-link-type="dfn" href="#remove-a-report-from-the-cache" id="ref-for-remove-a-report-from-the-cache①">remove a report from the cache</a> with <var>report</var>.</p>
   </ol>
   <p class="issue" id="issue-c8706ee1"><a class="self-link" href="#issue-c8706ee1"></a> This fetch should use a network partition key for an opaque origin. <a href="https://github.com/WICG/attribution-reporting-api/issues/220">[Issue #220]</a></p>
   <p>A user agent MAY retry this algorithm in the event that there was an error.</p>
   <h3 class="heading settled" data-level="12.11" id="issue-debug-report-request"><span class="secno">12.11. </span><span class="content">Issuing a debug report request</span><a class="self-link" href="#issue-debug-report-request"></a></h3>
   <p>To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="attempt-to-deliver-a-debug-report">attempt to deliver a debug report</dfn> given an <a data-link-type="dfn" href="#attribution-report" id="ref-for-attribution-report①③">attribution report</a> <var>report</var>:</p>
   <ol>
    <li data-md>
     <p>Let <var>url</var> be the result of executing <a data-link-type="dfn" href="#generate-an-attribution-report-url" id="ref-for-generate-an-attribution-report-url①">generate an attribution report URL</a> on <var>report</var> with <a data-link-type="dfn" href="#generate-an-attribution-report-url-isdebugreport" id="ref-for-generate-an-attribution-report-url-isdebugreport">isDebugReport</a> set to true.</p>
    <li data-md>
     <p>Let <var>data</var> be the result of executing <a data-link-type="dfn" href="#serialize-an-attribution-report" id="ref-for-serialize-an-attribution-report①">serialize an attribution report</a> on <var>report</var>.</p>
    <li data-md>
     <p>If <var>data</var> is an error, return.</p>
    <li data-md>
     <p>Let <var>headers</var> be the result of executing <a data-link-type="dfn" href="#generate-attribution-report-headers" id="ref-for-generate-attribution-report-headers①">generate attribution report headers</a>.</p>
    <li data-md>
     <p>Let <var>request</var> be the result of executing <a data-link-type="dfn" href="#create-a-report-request" id="ref-for-create-a-report-request①">create a report request</a> on <var>url</var>, <var>data</var>, and <var>headers</var>.</p>
    <li data-md>
     <p><a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-fetch" id="ref-for-concept-fetch②">Fetch</a> <var>request</var>.</p>
   </ol>
   <h3 class="heading settled" data-level="12.12" id="issue-verbose-debug-report-request"><span class="secno">12.12. </span><span class="content">Issuing a verbose debug request</span><a class="self-link" href="#issue-verbose-debug-report-request"></a></h3>
   <p>To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="attempt-to-deliver-a-verbose-debug-report">attempt to deliver a verbose debug report</dfn> given an <a data-link-type="dfn" href="#attribution-debug-report" id="ref-for-attribution-debug-report③">attribution debug report</a> <var>report</var>:</p>
   <ol>
    <li data-md>
     <p>Let <var>url</var> be the result of executing <a data-link-type="dfn" href="#generate-an-attribution-debug-report-url" id="ref-for-generate-an-attribution-debug-report-url">generate an attribution debug report URL</a> on <var>report</var>.</p>
    <li data-md>
     <p>Let <var>data</var> be the result of executing <a data-link-type="dfn" href="#serialize-an-attribution-debug-report" id="ref-for-serialize-an-attribution-debug-report">serialize an attribution debug report</a> on <var>report</var>.</p>
    <li data-md>
     <p>Let <var>request</var> be the result of executing <a data-link-type="dfn" href="#create-a-report-request" id="ref-for-create-a-report-request②">create a report request</a> on <var>url</var> and <var>data</var>.</p>
    <li data-md>
     <p><a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-fetch" id="ref-for-concept-fetch③">Fetch</a> <var>request</var>.</p>
   </ol>
   <p class="issue" id="issue-c8706ee1①"><a class="self-link" href="#issue-c8706ee1①"></a> This fetch should use a network partition key for an opaque origin. <a href="https://github.com/WICG/attribution-reporting-api/issues/220">[Issue #220]</a></p>
   <p>A user agent MAY retry this algorithm in the event that there was an error.</p>
   <h2 class="heading settled" data-level="13" id="cross-app-and-web"><span class="secno">13. </span><span class="content">Cross App and Web Algorithms</span><a class="self-link" href="#cross-app-and-web"></a></h2>
   <p>To <dfn data-dfn-type="dfn" data-noexport id="get-an-os-registration-url-from-a-header-list">get an OS-registration URL from a header list<a class="self-link" href="#get-an-os-registration-url-from-a-header-list"></a></dfn> given a <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-header-list" id="ref-for-concept-header-list③">header list</a> <var>headers</var> and a <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#header-name" id="ref-for-header-name">header name</a> <var>name</var>:</p>
   <ol>
    <li data-md>
     <p>Let <var>value</var> be the result of <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-header-list-get-structured-header" id="ref-for-concept-header-list-get-structured-header">getting</a> <var>name</var> from <var>headers</var> with a type of "<code>item</code>".</p>
    <li data-md>
     <p>If <var>value</var> is not a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string" id="ref-for-string③⑥">string</a>, return null.</p>
    <li data-md>
     <p>Return the result of running the <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-parser" id="ref-for-concept-url-parser①">URL parser</a> on <var>value</var>.</p>
   </ol>
   <p>To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="set-an-os-support-header">set an OS-support header</dfn> given a <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-header-list" id="ref-for-concept-header-list④">header list</a> <var>headers</var>:</p>
   <ol>
    <li data-md>
     <p>Let <var>value</var> be "<code>web</code>".</p>
    <li data-md>
     <p>If the user agent supports OS registrations, set <var>value</var> to "<code>web, os</code>".</p>
    <li data-md>
     <p><a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-header-list-set" id="ref-for-concept-header-list-set①">Set</a> ("<code>Attribution-Reporting-Support</code>", <var>value</var>) in <var>headers</var>.</p>
   </ol>
   <p class="issue" id="issue-912a579f"><a class="self-link" href="#issue-912a579f"></a> Consider replacing these string values with structured-field algorithms.</p>
   <h2 class="heading settled" data-level="14" id="security-considerations"><span class="secno">14. </span><span class="content">Security considerations</span><a class="self-link" href="#security-considerations"></a></h2>
    TODO 
   <h2 class="heading settled" data-level="15" id="privacy-considerations"><span class="secno">15. </span><span class="content">Privacy consideration</span><a class="self-link" href="#privacy-considerations"></a></h2>
    TODO 
   <h3 class="heading settled" data-level="15.1" id="clearing-attribution-storage"><span class="secno">15.1. </span><span class="content">Clearing attribution storage</span><a class="self-link" href="#clearing-attribution-storage"></a></h3>
   <p>A user agent’s <a data-link-type="dfn" href="#attribution-caches" id="ref-for-attribution-caches①">attribution caches</a> contain data about a user’s web activity. When a user agent clears an origin’s storage,
it MUST also <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-remove" id="ref-for-list-remove①①">remove</a> entries in the <a data-link-type="dfn" href="#attribution-caches" id="ref-for-attribution-caches②">attribution caches</a> whose <a data-link-type="dfn" href="#attribution-source-source-origin" id="ref-for-attribution-source-source-origin⑥">source origin</a>, <a data-link-type="dfn" href="#attribution-source-attribution-destinations" id="ref-for-attribution-source-attribution-destinations①⓪">attribution destinations</a>, <a data-link-type="dfn" href="#attribution-source-reporting-endpoint" id="ref-for-attribution-source-reporting-endpoint①④">reporting endpoint</a>, <a data-link-type="dfn" href="#event-level-report-attribution-destinations" id="ref-for-event-level-report-attribution-destinations⑤">attribution destinations</a>, or <a data-link-type="dfn" href="#attribution-report-reporting-endpoint" id="ref-for-attribution-report-reporting-endpoint⑥">reporting endpoint</a> is the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#same-origin" id="ref-for-same-origin⑥">same</a> as the cleared origin.</p>
   <p>A user agent MAY clear <a data-link-type="dfn" href="#attribution-caches" id="ref-for-attribution-caches③">attribution cache</a> entries at other times. For example, when a user agent clears
an origin from a user’s browsing history.</p>
  </main>
  <div data-fill-with="conformance">
   <h2 class="no-ref no-num heading settled" id="w3c-conformance"><span class="content">Conformance</span><a class="self-link" href="#w3c-conformance"></a></h2>
   <h3 class="no-ref no-num heading settled" id="w3c-conventions"><span class="content">Document conventions</span><a class="self-link" href="#w3c-conventions"></a></h3>
   <p>Conformance requirements are expressed
    with a combination of descriptive assertions
    and RFC 2119 terminology.
    The key words “MUST”, “MUST NOT”, “REQUIRED”, “SHALL”, “SHALL NOT”, “SHOULD”, “SHOULD NOT”, “RECOMMENDED”, “MAY”, and “OPTIONAL”
    in the normative parts of this document
    are to be interpreted as described in RFC 2119.
    However, for readability,
    these words do not appear in all uppercase letters in this specification. </p>
   <p>All of the text of this specification is normative
    except sections explicitly marked as non-normative, examples, and notes. <a data-link-type="biblio" href="#biblio-rfc2119" title="Key words for use in RFCs to Indicate Requirement Levels">[RFC2119]</a> </p>
   <p>Examples in this specification are introduced with the words “for example”
    or are set apart from the normative text
    with <code>class="example"</code>,
    like this: </p>
   <div class="example" id="w3c-example">
    <a class="self-link" href="#w3c-example"></a> 
    <p>This is an example of an informative example. </p>
   </div>
   <p>Informative notes begin with the word “Note”
    and are set apart from the normative text
    with <code>class="note"</code>,
    like this: </p>
   <p class="note" role="note">Note, this is an informative note.</p>
   <h3 class="no-ref no-num heading settled" id="w3c-conformant-algorithms"><span class="content">Conformant Algorithms</span><a class="self-link" href="#w3c-conformant-algorithms"></a></h3>
   <p>Requirements phrased in the imperative as part of algorithms
    (such as "strip any leading space characters"
    or "return false and abort these steps")
    are to be interpreted with the meaning of the key word
    ("must", "should", "may", etc)
    used in introducing the algorithm. </p>
   <p>Conformance requirements phrased as algorithms or specific steps
    can be implemented in any manner,
    so long as the end result is equivalent.
    In particular, the algorithms defined in this specification
    are intended to be easy to understand
    and are not intended to be performant.
    Implementers are encouraged to optimize. </p>
  </div>
<script src="https://www.w3.org/scripts/TR/2021/fixup.js"></script>
  <h2 class="no-num no-ref heading settled" id="index"><span class="content">Index</span><a class="self-link" href="#index"></a></h2>
  <h3 class="no-num no-ref heading settled" id="index-defined-here"><span class="content">Terms defined by this specification</span><a class="self-link" href="#index-defined-here"></a></h3>
  <ul class="index">
   <li><a href="#attribution-source-aggregatable-budget-consumed">aggregatable budget consumed</a><span>, in § 6.7</span>
   <li><a href="#aggregatable-contribution">Aggregatable contribution</a><span>, in § 6.14</span>
   <li><a href="#aggregatable-dedup-key">Aggregatable dedup key</a><span>, in § 6.8</span>
   <li>
    aggregatable dedup keys
    <ul>
     <li><a href="#attribution-source-aggregatable-dedup-keys">dfn for attribution source</a><span>, in § 6.7</span>
     <li><a href="#attribution-trigger-aggregatable-dedup-keys">dfn for attribution trigger</a><span>, in § 6.12</span>
    </ul>
   <li><a href="#aggregatable-report">Aggregatable report</a><span>, in § 6.15</span>
   <li><a href="#aggregatable-report-cache">aggregatable report cache</a><span>, in § 7</span>
   <li><a href="#attribution-source-aggregatable-report-window">aggregatable report window</a><span>, in § 6.7</span>
   <li><a href="#attribution-source-aggregatable-report-window-time">aggregatable report window time</a><span>, in § 6.7</span>
   <li><a href="#aggregatable-trigger-data">Aggregatable trigger data</a><span>, in § 6.7</span>
   <li><a href="#attribution-trigger-aggregatable-trigger-data">aggregatable trigger data</a><span>, in § 6.12</span>
   <li><a href="#attribution-trigger-aggregatable-values">aggregatable values</a><span>, in § 6.12</span>
   <li>
    aggregation coordinator
    <ul>
     <li><a href="#aggregation-coordinator">definition of</a><span>, in § 6.11</span>
     <li><a href="#aggregatable-report-aggregation-coordinator">dfn for aggregatable report</a><span>, in § 6.16</span>
     <li><a href="#attribution-trigger-aggregation-coordinator">dfn for attribution trigger</a><span>, in § 6.12</span>
    </ul>
   <li><a href="#attribution-source-aggregation-keys">aggregation keys</a><span>, in § 6.7</span>
   <li><a href="#allowed-aggregatable-budget-per-source">Allowed aggregatable budget per source</a><span>, in § 8</span>
   <li><a href="#attempt-to-deliver-a-debug-report">attempt to deliver a debug report</a><span>, in § 12.11</span>
   <li><a href="#attempt-to-deliver-a-report">attempt to deliver a report</a><span>, in § 12.10</span>
   <li><a href="#attempt-to-deliver-a-verbose-debug-report">attempt to deliver a verbose debug report</a><span>, in § 12.12</span>
   <li><a href="#triggering-status-attributed">attributed</a><span>, in § 6.20</span>
   <li><a href="#rate-limit-scope-attribution">attribution</a><span>, in § 6.17</span>
   <li><a href="#attribution-caches">attribution caches</a><span>, in § 7</span>
   <li><a href="#attribution-debug-data">Attribution debug data</a><span>, in § 6.17</span>
   <li><a href="#attribution-debug-report">Attribution debug report</a><span>, in § 6.18</span>
   <li>
    attribution destination
    <ul>
     <li><a href="#attribution-rate-limit-record-attribution-destination">dfn for attribution rate-limit record</a><span>, in § 6.17</span>
     <li><a href="#attribution-trigger-attribution-destination">dfn for attribution trigger</a><span>, in § 6.12</span>
    </ul>
   <li>
    attribution destinations
    <ul>
     <li><a href="#attribution-source-attribution-destinations">dfn for attribution source</a><span>, in § 6.7</span>
     <li><a href="#event-level-report-attribution-destinations">dfn for event-level report</a><span>, in § 6.14</span>
    </ul>
   <li><a href="#attribution-rate-limit-cache">attribution rate-limit cache</a><span>, in § 7</span>
   <li><a href="#attribution-rate-limit-record">attribution rate-limit record</a><span>, in § 6.17</span>
   <li><a href="#attribution-rate-limit-window">Attribution rate-limit window</a><span>, in § 8</span>
   <li><a href="#attribution-report">Attribution report</a><span>, in § 6.12</span>
   <li><a href="#attribution-reporting">attribution-reporting</a><span>, in § 4</span>
   <li><a href="#attribution-source">Attribution source</a><span>, in § 6.6</span>
   <li><a href="#attribution-source-cache">attribution source cache</a><span>, in § 7</span>
   <li><a href="#dom-htmlattributionsrcelementutils-attributionsrc">attributionSrc</a><span>, in § 2.1</span>
   <li>
    attributionsrc
    <ul>
     <li><a href="#element-attrdef-a-attributionsrc">element-attr for a</a><span>, in § 2.1</span>
     <li><a href="#element-attrdef-img-attributionsrc">element-attr for img</a><span>, in § 2.1</span>
     <li><a href="#element-attrdef-script-attributionsrc">element-attr for script</a><span>, in § 2.1</span>
    </ul>
   <li><a href="#attribution-trigger">Attribution trigger</a><span>, in § 6.11</span>
   <li><a href="#attribution-debug-data-body">body</a><span>, in § 6.18</span>
   <li><a href="#can-attribution-rate-limit-record-be-removed">Can attribution rate-limit record be removed</a><span>, in § 9.7</span>
   <li><a href="#check-if-an-attribution-source-can-create-aggregatable-contributions">check if an attribution source can create aggregatable contributions</a><span>, in § 11.7</span>
   <li><a href="#check-if-an-attribution-source-exceeds-the-unexpired-destination-limit">check if an attribution source exceeds the unexpired destination limit</a><span>, in § 10.5</span>
   <li><a href="#check-if-an-origin-is-suitable">check if an origin is suitable</a><span>, in § 9.2</span>
   <li><a href="#check-if-cookie-based-debugging-is-allowed">check if cookie-based debugging is allowed</a><span>, in § 9.5</span>
   <li><a href="#check-if-debug-reporting-is-allowed">check if debug reporting is allowed</a><span>, in § 10.5</span>
   <li><a href="#clear-site-data">clear site data</a><span>, in § 5</span>
   <li><a href="#aggregatable-report-contributions">contributions</a><span>, in § 6.16</span>
   <li><a href="#create-aggregatable-contributions">create aggregatable contributions</a><span>, in § 11.6</span>
   <li><a href="#create-an-attribution-trigger">create an attribution trigger</a><span>, in § 11.1</span>
   <li><a href="#create-a-report-request">create a report request</a><span>, in § 12.8</span>
   <li><a href="#attribution-debug-report-data">data</a><span>, in § 6.19</span>
   <li><a href="#attribution-debug-data-data-type">data type</a><span>, in § 6.18</span>
   <li><a href="#triggering-result-debug-data">debug data</a><span>, in § 6.20</span>
   <li><a href="#debug-data-type">debug data type</a><span>, in § 6.18</span>
   <li>
    debug key
    <ul>
     <li><a href="#attribution-source-debug-key">dfn for attribution source</a><span>, in § 6.7</span>
     <li><a href="#attribution-trigger-debug-key">dfn for attribution trigger</a><span>, in § 6.12</span>
    </ul>
   <li><a href="#aggregatable-report-debug-mode">debug mode</a><span>, in § 12.2</span>
   <li>
    debug reporting enabled
    <ul>
     <li><a href="#attribution-source-debug-reporting-enabled">dfn for attribution source</a><span>, in § 6.7</span>
     <li><a href="#attribution-trigger-debug-reporting-enabled">dfn for attribution trigger</a><span>, in § 6.12</span>
    </ul>
   <li>
    dedup key
    <ul>
     <li><a href="#aggregatable-dedup-key-dedup-key">dfn for aggregatable dedup key</a><span>, in § 6.9</span>
     <li><a href="#event-level-trigger-configuration-dedup-key">dfn for event-level trigger configuration</a><span>, in § 6.10</span>
    </ul>
   <li><a href="#attribution-source-dedup-keys">dedup keys</a><span>, in § 6.7</span>
   <li><a href="#default-aggregation-coordinator">Default aggregation coordinator</a><span>, in § 8</span>
   <li><a href="#attribution-report-delivered">delivered</a><span>, in § 6.13</span>
   <li><a href="#does-filter-data-match">Does filter data match</a><span>, in § 11.1</span>
   <li><a href="#triggering-status-dropped">dropped</a><span>, in § 6.20</span>
   <li><a href="#aggregatable-report-effective-attribution-destination">effective attribution destination</a><span>, in § 6.16</span>
   <li><a href="#eligibility">eligibility</a><span>, in § 9.10</span>
   <li><a href="#encode-an-unsigned-k-bit-integer">encode an unsigned k-bit integer</a><span>, in § 12.1</span>
   <li><a href="#source-type-event">event</a><span>, in § 6.6</span>
   <li>
    event ID
    <ul>
     <li><a href="#attribution-source-event-id">dfn for attribution source</a><span>, in § 6.7</span>
     <li><a href="#event-level-report-event-id">dfn for event-level report</a><span>, in § 6.14</span>
    </ul>
   <li><a href="#attribution-source-event-level-attributable">event-level attributable</a><span>, in § 6.7</span>
   <li><a href="#event-level-report">Event-level report</a><span>, in § 6.13</span>
   <li><a href="#event-level-report-cache">event-level report cache</a><span>, in § 7</span>
   <li><a href="#event-level-trigger-configuration">Event-level trigger configuration</a><span>, in § 6.9</span>
   <li><a href="#attribution-trigger-event-level-trigger-configurations">event-level trigger configurations</a><span>, in § 6.12</span>
   <li><a href="#attribution-source-event-report-window">event report window</a><span>, in § 6.7</span>
   <li><a href="#attribution-source-event-report-window-time">event report window time</a><span>, in § 6.7</span>
   <li><a href="#eligibility-event-source-trigger">event-source, trigger</a><span>, in § 9.10</span>
   <li><a href="#event-source-trigger-data-cardinality">Event-source trigger data cardinality</a><span>, in § 8</span>
   <li><a href="#attribution-source-expiry">expiry</a><span>, in § 6.7</span>
   <li>
    expiry time
    <ul>
     <li><a href="#attribution-rate-limit-record-expiry-time">dfn for attribution rate-limit record</a><span>, in § 6.17</span>
     <li><a href="#attribution-source-expiry-time">dfn for attribution source</a><span>, in § 6.7</span>
    </ul>
   <li><a href="#attribution-source-filter-data">filter data</a><span>, in § 6.7</span>
   <li><a href="#filter-map">filter map</a><span>, in § 6.4</span>
   <li>
    filters
    <ul>
     <li><a href="#aggregatable-dedup-key-filters">dfn for aggregatable dedup key</a><span>, in § 6.9</span>
     <li><a href="#aggregatable-trigger-data-filters">dfn for aggregatable trigger data</a><span>, in § 6.8</span>
     <li><a href="#attribution-trigger-filters">dfn for attribution trigger</a><span>, in § 6.12</span>
     <li><a href="#event-level-trigger-configuration-filters">dfn for event-level trigger configuration</a><span>, in § 6.10</span>
    </ul>
   <li><a href="#filter-value">filter value</a><span>, in § 6.4</span>
   <li><a href="#find-matching-sources">find matching sources</a><span>, in § 11.11</span>
   <li><a href="#generate-an-attribution-debug-report-url">generate an attribution debug report URL</a><span>, in § 12.7</span>
   <li><a href="#generate-an-attribution-report-url">generate an attribution report URL</a><span>, in § 12.7</span>
   <li><a href="#generate-a-report-url">generate a report URL</a><span>, in § 12.7</span>
   <li><a href="#generate-attribution-report-headers">generate attribution report headers</a><span>, in § 12.9</span>
   <li><a href="#get-an-os-registration-url-from-a-header-list">get an OS-registration URL from a header list</a><span>, in § 13</span>
   <li><a href="#htmlattributionsrcelementutils">HTMLAttributionSrcElementUtils</a><span>, in § 2.1</span>
   <li><a href="#generate-an-attribution-report-url-isdebugreport">isDebugReport</a><span>, in § 12.7</span>
   <li>
    isNegated
    <ul>
     <li><a href="#match-an-attribution-sources-filter-data-against-a-filter-map-isnegated">dfn for match an attribution source’s filter data against a filter map</a><span>, in § 11.2</span>
     <li><a href="#match-an-attribution-sources-filter-data-against-filters-isnegated">dfn for match an attribution source’s filter data against filters</a><span>, in § 11.2</span>
    </ul>
   <li><a href="#aggregatable-contribution-key">key</a><span>, in § 6.15</span>
   <li><a href="#aggregatable-trigger-data-key-piece">key piece</a><span>, in § 6.8</span>
   <li><a href="#make-a-background-attributionsrc-request">make a background attributionsrc request</a><span>, in § 9.10</span>
   <li><a href="#match-an-attribution-sources-filter-data-against-a-filter-map">match an attribution source’s filter data against a filter map</a><span>, in § 11.2</span>
   <li><a href="#match-an-attribution-sources-filter-data-against-filters">match an attribution source’s filter data against filters</a><span>, in § 11.2</span>
   <li><a href="#match-an-attribution-sources-filter-data-against-filters-and-negated-filters">match an attribution source’s filter data against filters and negated filters</a><span>, in § 11.2</span>
   <li><a href="#match-filter-values">match filter values</a><span>, in § 11.2</span>
   <li><a href="#match-filter-values-with-negation">match filter values with negation</a><span>, in § 11.2</span>
   <li><a href="#max-aggregatable-reports-per-attribution-destination">Max aggregatable reports per attribution destination</a><span>, in § 8</span>
   <li><a href="#max-aggregation-keys-per-attribution">Max aggregation keys per attribution</a><span>, in § 8</span>
   <li><a href="#max-attribution-reporting-endpoints-per-rate-limit-window">Max attribution reporting endpoints per rate-limit window</a><span>, in § 8</span>
   <li><a href="#max-attributions-per-event-source">Max attributions per event source</a><span>, in § 8</span>
   <li><a href="#max-attributions-per-navigation-source">Max attributions per navigation source</a><span>, in § 8</span>
   <li><a href="#max-attributions-per-rate-limit-window">Max attributions per rate-limit window</a><span>, in § 8</span>
   <li><a href="#randomized-response-output-configuration-max-attributions-per-source">max attributions per source</a><span>, in § 6.2</span>
   <li><a href="#max-destinations-covered-by-unexpired-sources">Max destinations covered by unexpired sources</a><span>, in § 8</span>
   <li><a href="#max-entries-per-filter-data">Max entries per filter data</a><span>, in § 8</span>
   <li><a href="#max-event-level-reports-per-attribution-destination">Max event-level reports per attribution destination</a><span>, in § 8</span>
   <li><a href="#max-pending-sources-per-source-origin">Max pending sources per source origin</a><span>, in § 8</span>
   <li><a href="#max-source-expiry">Max source expiry</a><span>, in § 8</span>
   <li><a href="#max-source-reporting-endpoints-per-rate-limit-window">Max source reporting endpoints per rate-limit window</a><span>, in § 8</span>
   <li><a href="#max-values-per-filter-data-entry">Max values per filter data entry</a><span>, in § 8</span>
   <li><a href="#min-aggregatable-report-delay">Min aggregatable report delay</a><span>, in § 8</span>
   <li><a href="#source-type-navigation">navigation</a><span>, in § 6.6</span>
   <li><a href="#eligibility-navigation-source">navigation-source</a><span>, in § 9.10</span>
   <li><a href="#navigation-source-trigger-data-cardinality">Navigation-source trigger data cardinality</a><span>, in § 8</span>
   <li>
    negated filters
    <ul>
     <li><a href="#aggregatable-dedup-key-negated-filters">dfn for aggregatable dedup key</a><span>, in § 6.9</span>
     <li><a href="#aggregatable-trigger-data-negated-filters">dfn for aggregatable trigger data</a><span>, in § 6.8</span>
     <li><a href="#attribution-trigger-negated-filters">dfn for attribution trigger</a><span>, in § 6.12</span>
     <li><a href="#event-level-trigger-configuration-negated-filters">dfn for event-level trigger configuration</a><span>, in § 6.10</span>
    </ul>
   <li><a href="#triggering-status-noised">noised</a><span>, in § 6.20</span>
   <li><a href="#attribution-source-number-of-event-level-reports">number of event-level reports</a><span>, in § 6.7</span>
   <li><a href="#randomized-response-output-configuration-num-report-windows">num report windows</a><span>, in § 6.2</span>
   <li><a href="#obtain-a-fake-report">obtain a fake report</a><span>, in § 10.5</span>
   <li><a href="#obtain-an-aggregatable-report">obtain an aggregatable report</a><span>, in § 11.15</span>
   <li><a href="#obtain-an-aggregatable-report-delivery-time">obtain an aggregatable report delivery time</a><span>, in § 11.12</span>
   <li><a href="#obtain-an-attribution-source-from-an-anchor">obtain an attribution source from an anchor</a><span>, in § 10.2</span>
   <li><a href="#obtain-an-attribution-source-from-window-features">obtain an attribution source from window features</a><span>, in § 10.3</span>
   <li><a href="#obtain-and-deliver-a-debug-report">obtain and deliver a debug report</a><span>, in § 9.9</span>
   <li><a href="#obtain-and-deliver-a-debug-report-on-source-registration">obtain and deliver a debug report on source registration</a><span>, in § 10.5</span>
   <li><a href="#obtain-and-deliver-a-debug-report-on-trigger-registration">obtain and deliver a debug report on trigger registration</a><span>, in § 11.11</span>
   <li><a href="#obtain-an-event-level-report">obtain an event-level report</a><span>, in § 11.13</span>
   <li><a href="#obtain-an-event-level-report-body">obtain an event-level report body</a><span>, in § 12.5</span>
   <li><a href="#obtain-an-event-level-report-delivery-time">obtain an event-level report delivery time</a><span>, in § 11.12</span>
   <li><a href="#obtain-a-randomized-response">obtain a randomized response</a><span>, in § 9.6</span>
   <li><a href="#obtain-a-randomized-source-response">obtain a randomized source response</a><span>, in § 10.1</span>
   <li><a href="#obtain-a-randomized-source-response-pick-rate">obtain a randomized source response pick rate</a><span>, in § 10.1</span>
   <li><a href="#obtain-a-report-time-from-deadline">obtain a report time from deadline</a><span>, in § 11.12</span>
   <li><a href="#obtain-a-set-of-possible-trigger-states">obtain a set of possible trigger states</a><span>, in § 10.1</span>
   <li><a href="#obtain-a-source-expiry">obtain a source expiry</a><span>, in § 10.4</span>
   <li><a href="#obtain-debug-data-body-on-trigger-registration">obtain debug data body on trigger registration</a><span>, in § 11.8</span>
   <li><a href="#obtain-debug-data-on-trigger-registration">obtain debug data on trigger registration</a><span>, in § 11.8</span>
   <li><a href="#obtain-early-deadlines">obtain early deadlines</a><span>, in § 11.12</span>
   <li><a href="#obtain-the-aggregation-service-payloads">obtain the aggregation service payloads</a><span>, in § 12.4</span>
   <li><a href="#obtain-the-encrypted-payload">obtain the encrypted payload</a><span>, in § 12.4</span>
   <li><a href="#obtain-the-number-of-report-windows">obtain the number of report windows</a><span>, in § 11.12</span>
   <li><a href="#obtain-the-public-key-for-encryption">obtain the public key for encryption</a><span>, in § 12.4</span>
   <li><a href="#obtain-the-report-time-at-a-window">obtain the report time at a window</a><span>, in § 11.12</span>
   <li><a href="#attribution-report-original-report-time">original report time</a><span>, in § 6.13</span>
   <li><a href="#parse-aggregatable-dedup-keys">parse aggregatable dedup keys</a><span>, in § 11.1</span>
   <li><a href="#parse-aggregatable-trigger-data">parse aggregatable trigger data</a><span>, in § 11.1</span>
   <li><a href="#parse-aggregatable-values">parse aggregatable values</a><span>, in § 11.1</span>
   <li><a href="#parse-aggregation-keys">parse aggregation keys</a><span>, in § 10.4</span>
   <li><a href="#parse-an-aggregation-key-piece">parse an aggregation key piece</a><span>, in § 9.7</span>
   <li><a href="#parse-an-attribution-destination">parse an attribution destination</a><span>, in § 10.4</span>
   <li><a href="#parse-attribution-destinations">parse attribution destinations</a><span>, in § 10.4</span>
   <li><a href="#parse-event-triggers">parse event triggers</a><span>, in § 11.1</span>
   <li><a href="#parse-filter-data">parse filter data</a><span>, in § 9.3</span>
   <li><a href="#parse-filters">parse filters</a><span>, in § 9.4</span>
   <li><a href="#parse-filter-values">parse filter values</a><span>, in § 9.3</span>
   <li><a href="#parse-source-registration-json">parse source-registration JSON</a><span>, in § 10.4</span>
   <li><a href="#aggregatable-report-plaintext-payload">plaintext payload</a><span>, in § 12.4</span>
   <li>
    priority
    <ul>
     <li><a href="#attribution-source-priority">dfn for attribution source</a><span>, in § 6.7</span>
     <li><a href="#event-level-trigger-configuration-priority">dfn for event-level trigger configuration</a><span>, in § 6.10</span>
    </ul>
   <li><a href="#process-an-attribution-source">process an attribution source</a><span>, in § 10.5</span>
   <li><a href="#process-an-attributionsrc-response">process an attributionsrc response</a><span>, in § 9.10</span>
   <li><a href="#queue-a-report-for-delivery">queue a report for delivery</a><span>, in § 12</span>
   <li><a href="#randomized-aggregatable-report-delay">Randomized aggregatable report delay</a><span>, in § 8</span>
   <li><a href="#attribution-source-randomized-response">randomized response</a><span>, in § 6.7</span>
   <li><a href="#randomized-response-epsilon">Randomized response epsilon</a><span>, in § 8</span>
   <li><a href="#randomized-response-output-configuration">Randomized response output configuration</a><span>, in § 6.1</span>
   <li><a href="#randomized-source-response">Randomized source response</a><span>, in § 6.2</span>
   <li>
    randomized trigger rate
    <ul>
     <li><a href="#attribution-source-randomized-trigger-rate">dfn for attribution source</a><span>, in § 6.7</span>
     <li><a href="#event-level-report-randomized-trigger-rate">dfn for event-level report</a><span>, in § 6.14</span>
    </ul>
   <li><a href="#rate-limit-scope">rate-limit scope</a><span>, in § 6.17</span>
   <li><a href="#remove-a-report-from-the-cache">remove a report from the cache</a><span>, in § 12.10</span>
   <li>
    report
    <ul>
     <li><a href="#obtain-debug-data-body-on-trigger-registration-report">dfn for obtain debug data body on trigger registration</a><span>, in § 11.8</span>
     <li><a href="#obtain-debug-data-on-trigger-registration-report">dfn for obtain debug data on trigger registration</a><span>, in § 11.8</span>
    </ul>
   <li><a href="#attribution-report-report-id">report ID</a><span>, in § 6.13</span>
   <li>
    reporting endpoint
    <ul>
     <li><a href="#attribution-debug-report-reporting-endpoint">dfn for attribution debug report</a><span>, in § 6.19</span>
     <li><a href="#attribution-rate-limit-record-reporting-endpoint">dfn for attribution rate-limit record</a><span>, in § 6.17</span>
     <li><a href="#attribution-report-reporting-endpoint">dfn for attribution report, aggregatable report, event-level report</a><span>, in § 6.13</span>
     <li><a href="#attribution-source-reporting-endpoint">dfn for attribution source</a><span>, in § 6.7</span>
     <li><a href="#attribution-trigger-reporting-endpoint">dfn for attribution trigger</a><span>, in § 6.12</span>
    </ul>
   <li><a href="#attribution-report-report-time">report time</a><span>, in § 6.13</span>
   <li><a href="#trigger-state-report-window">report window</a><span>, in § 6.1</span>
   <li><a href="#aggregatable-report-required-aggregatable-budget">required aggregatable budget</a><span>, in § 11.14</span>
   <li><a href="#attribution-rate-limit-record-scope">scope</a><span>, in § 6.17</span>
   <li><a href="#serialize-an-aggregatable-report">serialize an aggregatable report</a><span>, in § 12.5</span>
   <li><a href="#serialize-an-attribution-debug-report">serialize an attribution debug report</a><span>, in § 12.6</span>
   <li><a href="#serialize-an-attribution-report">serialize an attribution report</a><span>, in § 12.5</span>
   <li><a href="#serialize-an-event-level-report">serialize an event-level report</a><span>, in § 12.5</span>
   <li><a href="#serialize-an-integer">serialize an integer</a><span>, in § 9.1</span>
   <li><a href="#serialize-a-private-state-token">serialize a private state token</a><span>, in § 11.1</span>
   <li><a href="#serialize-attribution-destinations">serialize attribution destinations</a><span>, in § 9.2</span>
   <li>
    serialized private state token
    <ul>
     <li><a href="#aggregatable-report-serialized-private-state-token">dfn for aggregatable report</a><span>, in § 6.16</span>
     <li><a href="#attribution-trigger-serialized-private-state-token">dfn for attribution trigger</a><span>, in § 6.12</span>
    </ul>
   <li><a href="#set-an-os-support-header">set an OS-support header</a><span>, in § 13</span>
   <li><a href="#aggregatable-report-shared-info">shared info</a><span>, in § 12.3</span>
   <li><a href="#should-block-attribution-for-attribution-limit">Should attribution be blocked by attribution rate limit</a><span>, in § 11.2</span>
   <li><a href="#should-block-attribution-for-rate-limits">Should attribution be blocked by rate limits</a><span>, in § 11.4</span>
   <li><a href="#should-block-processing-for-reporting-endpoint-limit">Should processing be blocked by reporting-endpoint limit</a><span>, in § 11.3</span>
   <li><a href="#rate-limit-scope-source">source</a><span>, in § 6.17</span>
   <li><a href="#source-debug-data-type">source debug data type</a><span>, in § 6.18</span>
   <li><a href="#attribution-report-source-debug-key">source debug key</a><span>, in § 6.13</span>
   <li><a href="#source-debug-data-type-source-destination-limit">source-destination-limit</a><span>, in § 6.18</span>
   <li>
    source identifier
    <ul>
     <li><a href="#attribution-source-source-identifier">dfn for attribution source</a><span>, in § 6.7</span>
     <li><a href="#event-level-report-source-identifier">dfn for event-level report</a><span>, in § 6.14</span>
    </ul>
   <li><a href="#aggregatable-trigger-data-source-keys">source keys</a><span>, in § 6.8</span>
   <li><a href="#source-debug-data-type-source-noised">source-noised</a><span>, in § 6.18</span>
   <li><a href="#attribution-source-source-origin">source origin</a><span>, in § 6.7</span>
   <li>
    source site
    <ul>
     <li><a href="#attribution-rate-limit-record-source-site">dfn for attribution rate-limit record</a><span>, in § 6.17</span>
     <li><a href="#attribution-source-source-site">dfn for attribution source</a><span>, in § 6.7</span>
    </ul>
   <li><a href="#source-debug-data-type-source-storage-limit">source-storage-limit</a><span>, in § 6.18</span>
   <li><a href="#source-debug-data-type-source-success">source-success</a><span>, in § 6.18</span>
   <li>
    source time
    <ul>
     <li><a href="#aggregatable-report-source-time">dfn for aggregatable report</a><span>, in § 6.16</span>
     <li><a href="#attribution-source-source-time">dfn for attribution source</a><span>, in § 6.7</span>
    </ul>
   <li>
    sourceToAttribute
    <ul>
     <li><a href="#obtain-and-deliver-a-debug-report-on-trigger-registration-sourcetoattribute">dfn for obtain and deliver a debug report on trigger registration</a><span>, in § 11.11</span>
     <li><a href="#obtain-debug-data-body-on-trigger-registration-sourcetoattribute">dfn for obtain debug data body on trigger registration</a><span>, in § 11.8</span>
     <li><a href="#obtain-debug-data-on-trigger-registration-sourcetoattribute">dfn for obtain debug data on trigger registration</a><span>, in § 11.8</span>
    </ul>
   <li>
    source type
    <ul>
     <li><a href="#source-type">definition of</a><span>, in § 6.6</span>
     <li><a href="#attribution-source-source-type">dfn for attribution source</a><span>, in § 6.7</span>
     <li><a href="#event-level-report-source-type">dfn for event-level report</a><span>, in § 6.14</span>
    </ul>
   <li><a href="#source-debug-data-type-source-unknown-error">source-unknown-error</a><span>, in § 6.18</span>
   <li><a href="#triggering-result-status">status</a><span>, in § 6.20</span>
   <li><a href="#suitable-origin">Suitable origin</a><span>, in § 6.4</span>
   <li><a href="#attribution-rate-limit-record-time">time</a><span>, in § 6.17</span>
   <li><a href="#trigger-aggregatable-attribution">trigger aggregatable attribution</a><span>, in § 11.10</span>
   <li><a href="#trigger-debug-data-type-trigger-aggregate-deduplicated">trigger-aggregate-deduplicated</a><span>, in § 6.18</span>
   <li><a href="#trigger-debug-data-type-trigger-aggregate-insufficient-budget">trigger-aggregate-insufficient-budget</a><span>, in § 6.18</span>
   <li><a href="#trigger-debug-data-type-trigger-aggregate-no-contributions">trigger-aggregate-no-contributions</a><span>, in § 6.18</span>
   <li><a href="#trigger-debug-data-type-trigger-aggregate-report-window-passed">trigger-aggregate-report-window-passed</a><span>, in § 6.18</span>
   <li><a href="#trigger-debug-data-type-trigger-aggregate-storage-limit">trigger-aggregate-storage-limit</a><span>, in § 6.18</span>
   <li><a href="#trigger-attribution">trigger attribution</a><span>, in § 11.11</span>
   <li><a href="#trigger-debug-data-type-trigger-attributions-per-source-destination-limit">trigger-attributions-per-source-destination-limit</a><span>, in § 6.18</span>
   <li>
    trigger data
    <ul>
     <li><a href="#event-level-report-trigger-data">dfn for event-level report</a><span>, in § 6.14</span>
     <li><a href="#event-level-trigger-configuration-trigger-data">dfn for event-level trigger configuration</a><span>, in § 6.10</span>
     <li><a href="#trigger-state-trigger-data">dfn for trigger state</a><span>, in § 6.1</span>
    </ul>
   <li><a href="#randomized-response-output-configuration-trigger-data-cardinality">trigger data cardinality</a><span>, in § 6.2</span>
   <li><a href="#trigger-debug-data-type">trigger debug data type</a><span>, in § 6.18</span>
   <li><a href="#attribution-report-trigger-debug-key">trigger debug key</a><span>, in § 6.13</span>
   <li><a href="#trigger-debug-data-type-trigger-event-deduplicated">trigger-event-deduplicated</a><span>, in § 6.18</span>
   <li><a href="#trigger-debug-data-type-trigger-event-excessive-reports">trigger-event-excessive-reports</a><span>, in § 6.18</span>
   <li><a href="#trigger-event-level-attribution">trigger event-level attribution</a><span>, in § 11.9</span>
   <li><a href="#trigger-debug-data-type-trigger-event-low-priority">trigger-event-low-priority</a><span>, in § 6.18</span>
   <li><a href="#trigger-debug-data-type-trigger-event-noise">trigger-event-noise</a><span>, in § 6.18</span>
   <li><a href="#trigger-debug-data-type-trigger-event-no-matching-configurations">trigger-event-no-matching-configurations</a><span>, in § 6.18</span>
   <li><a href="#trigger-debug-data-type-trigger-event-report-window-passed">trigger-event-report-window-passed</a><span>, in § 6.18</span>
   <li><a href="#trigger-debug-data-type-trigger-event-storage-limit">trigger-event-storage-limit</a><span>, in § 6.18</span>
   <li><a href="#triggering-result">Triggering result</a><span>, in § 6.19</span>
   <li><a href="#triggering-status">triggering status</a><span>, in § 6.20</span>
   <li><a href="#trigger-debug-data-type-trigger-no-matching-filter-data">trigger-no-matching-filter-data</a><span>, in § 6.18</span>
   <li><a href="#trigger-debug-data-type-trigger-no-matching-source">trigger-no-matching-source</a><span>, in § 6.18</span>
   <li><a href="#event-level-report-trigger-priority">trigger priority</a><span>, in § 6.14</span>
   <li><a href="#trigger-debug-data-type-trigger-reporting-origin-limit">trigger-reporting-origin-limit</a><span>, in § 6.18</span>
   <li><a href="#trigger-state">Trigger state</a><span>, in § 6</span>
   <li>
    trigger time
    <ul>
     <li><a href="#attribution-trigger-trigger-time">dfn for attribution trigger</a><span>, in § 6.12</span>
     <li><a href="#event-level-report-trigger-time">dfn for event-level report</a><span>, in § 6.14</span>
    </ul>
   <li><a href="#trigger-debug-data-type-trigger-unknown-error">trigger-unknown-error</a><span>, in § 6.18</span>
   <li><a href="#aggregatable-contribution-value">value</a><span>, in § 6.15</span>
  </ul>
  <aside aria-labelledby="infopaneltitle-for-13114051a18a1212dfe8303817bad489" class="dfn-panel" data-for="13114051a18a1212dfe8303817bad489" id="infopanel-for-13114051a18a1212dfe8303817bad489">
   <span id="infopaneltitle-for-13114051a18a1212dfe8303817bad489" style="display:none">Info about the 'clear dom-accessible storage for origin' external reference.</span><a href="https://w3c.github.io/webappsec-clear-site-data/#abstract-opdef-clear-dom-accessible-storage-for-origin">https://w3c.github.io/webappsec-clear-site-data/#abstract-opdef-clear-dom-accessible-storage-for-origin</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-abstract-opdef-clear-dom-accessible-storage-for-origin">5. Clear Site Data integration</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-e877283e03bb3ea91d8d6071dd884479" class="dfn-panel" data-for="e877283e03bb3ea91d8d6071dd884479" id="infopanel-for-e877283e03bb3ea91d8d6071dd884479">
   <span id="infopaneltitle-for-e877283e03bb3ea91d8d6071dd884479" style="display:none">Info about the 'utf-8 decode without bom' external reference.</span><a href="https://encoding.spec.whatwg.org/#utf-8-decode-without-bom">https://encoding.spec.whatwg.org/#utf-8-decode-without-bom</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-utf-8-decode-without-bom">10.3. Obtaining an attribution source from window features</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-6d5d566e8253ef89d86c65cb0387a368" class="dfn-panel" data-for="6d5d566e8253ef89d86c65cb0387a368" id="infopanel-for-6d5d566e8253ef89d86c65cb0387a368">
   <span id="infopaneltitle-for-6d5d566e8253ef89d86c65cb0387a368" style="display:none">Info about the 'utf-8 encode' external reference.</span><a href="https://encoding.spec.whatwg.org/#utf-8-encode">https://encoding.spec.whatwg.org/#utf-8-encode</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-utf-8-encode">12.4. Obtaining an aggregatable report’s aggregation service payloads</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-3b2109649455d787c744fd83de9db4e0" class="dfn-panel" data-for="3b2109649455d787c744fd83de9db4e0" id="infopanel-for-3b2109649455d787c744fd83de9db4e0">
   <span id="infopaneltitle-for-3b2109649455d787c744fd83de9db4e0" style="display:none">Info about the 'append' external reference.</span><a href="https://fetch.spec.whatwg.org/#concept-header-list-append">https://fetch.spec.whatwg.org/#concept-header-list-append</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-concept-header-list-append">12.8. Creating a report request</a>
    <li><a href="#ref-for-concept-header-list-append①">12.9. Get report request headers</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-a4ac39fb3d0e8d0272ab0e8f568335ee" class="dfn-panel" data-for="a4ac39fb3d0e8d0272ab0e8f568335ee" id="infopanel-for-a4ac39fb3d0e8d0272ab0e8f568335ee">
   <span id="infopaneltitle-for-a4ac39fb3d0e8d0272ab0e8f568335ee" style="display:none">Info about the 'body' external reference.</span><a href="https://fetch.spec.whatwg.org/#concept-body">https://fetch.spec.whatwg.org/#concept-body</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-concept-body">12.8. Creating a report request</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-0d3658c59eca7c4804cd6b0a59d27df3" class="dfn-panel" data-for="0d3658c59eca7c4804cd6b0a59d27df3" id="infopanel-for-0d3658c59eca7c4804cd6b0a59d27df3">
   <span id="infopaneltitle-for-0d3658c59eca7c4804cd6b0a59d27df3" style="display:none">Info about the 'body (for request)' external reference.</span><a href="https://fetch.spec.whatwg.org/#concept-request-body">https://fetch.spec.whatwg.org/#concept-request-body</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-concept-request-body">12.8. Creating a report request</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-b0566d6d660c85a1c0a11fe593f9993d" class="dfn-panel" data-for="b0566d6d660c85a1c0a11fe593f9993d" id="infopanel-for-b0566d6d660c85a1c0a11fe593f9993d">
   <span id="infopaneltitle-for-b0566d6d660c85a1c0a11fe593f9993d" style="display:none">Info about the 'cache mode' external reference.</span><a href="https://fetch.spec.whatwg.org/#concept-request-cache-mode">https://fetch.spec.whatwg.org/#concept-request-cache-mode</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-concept-request-cache-mode">12.8. Creating a report request</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-136f2700e84634abd2f3d42487ba7f41" class="dfn-panel" data-for="136f2700e84634abd2f3d42487ba7f41" id="infopanel-for-136f2700e84634abd2f3d42487ba7f41">
   <span id="infopaneltitle-for-136f2700e84634abd2f3d42487ba7f41" style="display:none">Info about the 'client' external reference.</span><a href="https://fetch.spec.whatwg.org/#concept-request-client">https://fetch.spec.whatwg.org/#concept-request-client</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-concept-request-client">12.8. Creating a report request</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-28b697a3fde8f7519842ff0d1ae51f77" class="dfn-panel" data-for="28b697a3fde8f7519842ff0d1ae51f77" id="infopanel-for-28b697a3fde8f7519842ff0d1ae51f77">
   <span id="infopaneltitle-for-28b697a3fde8f7519842ff0d1ae51f77" style="display:none">Info about the 'credentials mode' external reference.</span><a href="https://fetch.spec.whatwg.org/#concept-request-credentials-mode">https://fetch.spec.whatwg.org/#concept-request-credentials-mode</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-concept-request-credentials-mode">12.8. Creating a report request</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-0bae0f8d0fc019614ef3bb69c15d5311" class="dfn-panel" data-for="0bae0f8d0fc019614ef3bb69c15d5311" id="infopanel-for-0bae0f8d0fc019614ef3bb69c15d5311">
   <span id="infopaneltitle-for-0bae0f8d0fc019614ef3bb69c15d5311" style="display:none">Info about the 'fetch' external reference.</span><a href="https://fetch.spec.whatwg.org/#concept-fetch">https://fetch.spec.whatwg.org/#concept-fetch</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-concept-fetch">9.10. Making a background attributionsrc request</a>
    <li><a href="#ref-for-concept-fetch①">12.10. Issuing a report request</a>
    <li><a href="#ref-for-concept-fetch②">12.11. Issuing a debug report request</a>
    <li><a href="#ref-for-concept-fetch③">12.12. Issuing a verbose debug request</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-6ef0be99a5b17cb515c6816ad5548e89" class="dfn-panel" data-for="6ef0be99a5b17cb515c6816ad5548e89" id="infopanel-for-6ef0be99a5b17cb515c6816ad5548e89">
   <span id="infopaneltitle-for-6ef0be99a5b17cb515c6816ad5548e89" style="display:none">Info about the 'get' external reference.</span><a href="https://fetch.spec.whatwg.org/#concept-header-list-get">https://fetch.spec.whatwg.org/#concept-header-list-get</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-concept-header-list-get">9.10. Making a background attributionsrc request</a> <a href="#ref-for-concept-header-list-get①">(2)</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-7d20d86aab82c14f214b792b61bc7cb8" class="dfn-panel" data-for="7d20d86aab82c14f214b792b61bc7cb8" id="infopanel-for-7d20d86aab82c14f214b792b61bc7cb8">
   <span id="infopaneltitle-for-7d20d86aab82c14f214b792b61bc7cb8" style="display:none">Info about the 'get a structured field value' external reference.</span><a href="https://fetch.spec.whatwg.org/#concept-header-list-get-structured-header">https://fetch.spec.whatwg.org/#concept-header-list-get-structured-header</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-concept-header-list-get-structured-header">13. Cross App and Web Algorithms</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-ee7584061c2f45d6a827359cc7178423" class="dfn-panel" data-for="ee7584061c2f45d6a827359cc7178423" id="infopanel-for-ee7584061c2f45d6a827359cc7178423">
   <span id="infopaneltitle-for-ee7584061c2f45d6a827359cc7178423" style="display:none">Info about the 'header' external reference.</span><a href="https://fetch.spec.whatwg.org/#concept-header">https://fetch.spec.whatwg.org/#concept-header</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-concept-header">12.8. Creating a report request</a>
    <li><a href="#ref-for-concept-header①">12.9. Get report request headers</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-5171067c910207c96b5420a19bae87a3" class="dfn-panel" data-for="5171067c910207c96b5420a19bae87a3" id="infopanel-for-5171067c910207c96b5420a19bae87a3">
   <span id="infopaneltitle-for-5171067c910207c96b5420a19bae87a3" style="display:none">Info about the 'header list' external reference.</span><a href="https://fetch.spec.whatwg.org/#concept-header-list">https://fetch.spec.whatwg.org/#concept-header-list</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-concept-header-list">12.8. Creating a report request</a> <a href="#ref-for-concept-header-list①">(2)</a>
    <li><a href="#ref-for-concept-header-list②">12.9. Get report request headers</a>
    <li><a href="#ref-for-concept-header-list③">13. Cross App and Web Algorithms</a> <a href="#ref-for-concept-header-list④">(2)</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-4fd8d1762cd9c874700296c854598fda" class="dfn-panel" data-for="4fd8d1762cd9c874700296c854598fda" id="infopanel-for-4fd8d1762cd9c874700296c854598fda">
   <span id="infopaneltitle-for-4fd8d1762cd9c874700296c854598fda" style="display:none">Info about the 'header list (for request)' external reference.</span><a href="https://fetch.spec.whatwg.org/#concept-request-header-list">https://fetch.spec.whatwg.org/#concept-request-header-list</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-concept-request-header-list">9.10. Making a background attributionsrc request</a> <a href="#ref-for-concept-request-header-list①">(2)</a>
    <li><a href="#ref-for-concept-request-header-list②">12.8. Creating a report request</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-d94cb5e6252c9158478ebbe8a624e99c" class="dfn-panel" data-for="d94cb5e6252c9158478ebbe8a624e99c" id="infopanel-for-d94cb5e6252c9158478ebbe8a624e99c">
   <span id="infopaneltitle-for-d94cb5e6252c9158478ebbe8a624e99c" style="display:none">Info about the 'header list (for response)' external reference.</span><a href="https://fetch.spec.whatwg.org/#concept-response-header-list">https://fetch.spec.whatwg.org/#concept-response-header-list</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-concept-response-header-list">9.10. Making a background attributionsrc request</a> <a href="#ref-for-concept-response-header-list①">(2)</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-c6e05a4731ae2297e1992152e937e094" class="dfn-panel" data-for="c6e05a4731ae2297e1992152e937e094" id="infopanel-for-c6e05a4731ae2297e1992152e937e094">
   <span id="infopaneltitle-for-c6e05a4731ae2297e1992152e937e094" style="display:none">Info about the 'header name' external reference.</span><a href="https://fetch.spec.whatwg.org/#header-name">https://fetch.spec.whatwg.org/#header-name</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-header-name">13. Cross App and Web Algorithms</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-fbcfa904ec1519986ad26d2b61d17047" class="dfn-panel" data-for="fbcfa904ec1519986ad26d2b61d17047" id="infopanel-for-fbcfa904ec1519986ad26d2b61d17047">
   <span id="infopaneltitle-for-fbcfa904ec1519986ad26d2b61d17047" style="display:none">Info about the 'initiator' external reference.</span><a href="https://fetch.spec.whatwg.org/#concept-request-initiator">https://fetch.spec.whatwg.org/#concept-request-initiator</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-concept-request-initiator">12.8. Creating a report request</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-d2faa58c81831141d41bf5a71e8a973a" class="dfn-panel" data-for="d2faa58c81831141d41bf5a71e8a973a" id="infopanel-for-d2faa58c81831141d41bf5a71e8a973a">
   <span id="infopaneltitle-for-d2faa58c81831141d41bf5a71e8a973a" style="display:none">Info about the 'keepalive' external reference.</span><a href="https://fetch.spec.whatwg.org/#request-keepalive-flag">https://fetch.spec.whatwg.org/#request-keepalive-flag</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-request-keepalive-flag">9.10. Making a background attributionsrc request</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-763381417a53db57db9cfbb40d3c552a" class="dfn-panel" data-for="763381417a53db57db9cfbb40d3c552a" id="infopanel-for-763381417a53db57db9cfbb40d3c552a">
   <span id="infopaneltitle-for-763381417a53db57db9cfbb40d3c552a" style="display:none">Info about the 'method' external reference.</span><a href="https://fetch.spec.whatwg.org/#concept-request-method">https://fetch.spec.whatwg.org/#concept-request-method</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-concept-request-method">9.10. Making a background attributionsrc request</a>
    <li><a href="#ref-for-concept-request-method①">12.8. Creating a report request</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-731849104592df0f69027b4122c950f6" class="dfn-panel" data-for="731849104592df0f69027b4122c950f6" id="infopanel-for-731849104592df0f69027b4122c950f6">
   <span id="infopaneltitle-for-731849104592df0f69027b4122c950f6" style="display:none">Info about the 'mode' external reference.</span><a href="https://fetch.spec.whatwg.org/#concept-request-mode">https://fetch.spec.whatwg.org/#concept-request-mode</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-concept-request-mode">12.8. Creating a report request</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-7d473ce403179af2f3175239eb1a3fa7" class="dfn-panel" data-for="7d473ce403179af2f3175239eb1a3fa7" id="infopanel-for-7d473ce403179af2f3175239eb1a3fa7">
   <span id="infopaneltitle-for-7d473ce403179af2f3175239eb1a3fa7" style="display:none">Info about the 'processresponse' external reference.</span><a href="https://fetch.spec.whatwg.org/#process-response">https://fetch.spec.whatwg.org/#process-response</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-process-response">9.10. Making a background attributionsrc request</a>
    <li><a href="#ref-for-process-response①">12.10. Issuing a report request</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-4f358b1fbdaf345d2691f5744de6612b" class="dfn-panel" data-for="4f358b1fbdaf345d2691f5744de6612b" id="infopanel-for-4f358b1fbdaf345d2691f5744de6612b">
   <span id="infopaneltitle-for-4f358b1fbdaf345d2691f5744de6612b" style="display:none">Info about the 'referrer' external reference.</span><a href="https://fetch.spec.whatwg.org/#concept-request-referrer">https://fetch.spec.whatwg.org/#concept-request-referrer</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-concept-request-referrer">12.8. Creating a report request</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-491791562dd138987138e7051a96c07c" class="dfn-panel" data-for="491791562dd138987138e7051a96c07c" id="infopanel-for-491791562dd138987138e7051a96c07c">
   <span id="infopaneltitle-for-491791562dd138987138e7051a96c07c" style="display:none">Info about the 'request' external reference.</span><a href="https://fetch.spec.whatwg.org/#concept-request">https://fetch.spec.whatwg.org/#concept-request</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-concept-request">9.10. Making a background attributionsrc request</a>
    <li><a href="#ref-for-concept-request①">12.8. Creating a report request</a>
    <li><a href="#ref-for-concept-request②">12.10. Issuing a report request</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-d203414c2b48c23fddab90ef753bb7cf" class="dfn-panel" data-for="d203414c2b48c23fddab90ef753bb7cf" id="infopanel-for-d203414c2b48c23fddab90ef753bb7cf">
   <span id="infopaneltitle-for-d203414c2b48c23fddab90ef753bb7cf" style="display:none">Info about the 'response' external reference.</span><a href="https://fetch.spec.whatwg.org/#concept-response">https://fetch.spec.whatwg.org/#concept-response</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-concept-response">9.10. Making a background attributionsrc request</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-53448884e088e162bab57824ad9a7165" class="dfn-panel" data-for="53448884e088e162bab57824ad9a7165" id="infopanel-for-53448884e088e162bab57824ad9a7165">
   <span id="infopaneltitle-for-53448884e088e162bab57824ad9a7165" style="display:none">Info about the 'service-workers mode' external reference.</span><a href="https://fetch.spec.whatwg.org/#request-service-workers-mode">https://fetch.spec.whatwg.org/#request-service-workers-mode</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-request-service-workers-mode">12.8. Creating a report request</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-c92a6a04d5edd0548c96b946dabec975" class="dfn-panel" data-for="c92a6a04d5edd0548c96b946dabec975" id="infopanel-for-c92a6a04d5edd0548c96b946dabec975">
   <span id="infopaneltitle-for-c92a6a04d5edd0548c96b946dabec975" style="display:none">Info about the 'set' external reference.</span><a href="https://fetch.spec.whatwg.org/#concept-header-list-set">https://fetch.spec.whatwg.org/#concept-header-list-set</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-concept-header-list-set">9.10. Making a background attributionsrc request</a>
    <li><a href="#ref-for-concept-header-list-set①">13. Cross App and Web Algorithms</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-c196cbd8060929df106163762cfa48fe" class="dfn-panel" data-for="c196cbd8060929df106163762cfa48fe" id="infopanel-for-c196cbd8060929df106163762cfa48fe">
   <span id="infopaneltitle-for-c196cbd8060929df106163762cfa48fe" style="display:none">Info about the 'source' external reference.</span><a href="https://fetch.spec.whatwg.org/#concept-body-source">https://fetch.spec.whatwg.org/#concept-body-source</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-concept-body-source">12.8. Creating a report request</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-1700cdddfa774dcfdae6e2d75f495dad" class="dfn-panel" data-for="1700cdddfa774dcfdae6e2d75f495dad" id="infopanel-for-1700cdddfa774dcfdae6e2d75f495dad">
   <span id="infopaneltitle-for-1700cdddfa774dcfdae6e2d75f495dad" style="display:none">Info about the 'unsafe-request flag' external reference.</span><a href="https://fetch.spec.whatwg.org/#unsafe-request-flag">https://fetch.spec.whatwg.org/#unsafe-request-flag</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-unsafe-request-flag">12.8. Creating a report request</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-6f4775873c70787775f9c70f0f110709" class="dfn-panel" data-for="6f4775873c70787775f9c70f0f110709" id="infopanel-for-6f4775873c70787775f9c70f0f110709">
   <span id="infopaneltitle-for-6f4775873c70787775f9c70f0f110709" style="display:none">Info about the 'url (for request)' external reference.</span><a href="https://fetch.spec.whatwg.org/#concept-request-url">https://fetch.spec.whatwg.org/#concept-request-url</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-concept-request-url">9.10. Making a background attributionsrc request</a>
    <li><a href="#ref-for-concept-request-url①">12.8. Creating a report request</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-3e7b167935ca300cf96cb89f946d5476" class="dfn-panel" data-for="3e7b167935ca300cf96cb89f946d5476" id="infopanel-for-3e7b167935ca300cf96cb89f946d5476">
   <span id="infopaneltitle-for-3e7b167935ca300cf96cb89f946d5476" style="display:none">Info about the 'url (for response)' external reference.</span><a href="https://fetch.spec.whatwg.org/#concept-response-url">https://fetch.spec.whatwg.org/#concept-response-url</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-concept-response-url">9.10. Making a background attributionsrc request</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-d72233a2731c7f5b88c9c3da9700b26a" class="dfn-panel" data-for="d72233a2731c7f5b88c9c3da9700b26a" id="infopanel-for-d72233a2731c7f5b88c9c3da9700b26a">
   <span id="infopaneltitle-for-d72233a2731c7f5b88c9c3da9700b26a" style="display:none">Info about the 'window' external reference.</span><a href="https://fetch.spec.whatwg.org/#concept-request-window">https://fetch.spec.whatwg.org/#concept-request-window</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-concept-request-window">12.8. Creating a report request</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-1f78bca61233b6a6957119204c181632" class="dfn-panel" data-for="1f78bca61233b6a6957119204c181632" id="infopanel-for-1f78bca61233b6a6957119204c181632">
   <span id="infopaneltitle-for-1f78bca61233b6a6957119204c181632" style="display:none">Info about the 'current wall time' external reference.</span><a href="https://w3c.github.io/hr-time/#dfn-current-wall-time">https://w3c.github.io/hr-time/#dfn-current-wall-time</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dfn-current-wall-time">9.10. Making a background attributionsrc request</a> <a href="#ref-for-dfn-current-wall-time①">(2)</a> <a href="#ref-for-dfn-current-wall-time②">(3)</a>
    <li><a href="#ref-for-dfn-current-wall-time③">12. Report delivery</a> <a href="#ref-for-dfn-current-wall-time④">(2)</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-9213a3aff5ff1021ab4c2d780aa70cee" class="dfn-panel" data-for="9213a3aff5ff1021ab4c2d780aa70cee" id="infopanel-for-9213a3aff5ff1021ab4c2d780aa70cee">
   <span id="infopaneltitle-for-9213a3aff5ff1021ab4c2d780aa70cee" style="display:none">Info about the 'duration' external reference.</span><a href="https://w3c.github.io/hr-time/#dfn-duration">https://w3c.github.io/hr-time/#dfn-duration</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dfn-duration">6.7. Attribution source</a> <a href="#ref-for-dfn-duration①">(2)</a> <a href="#ref-for-dfn-duration②">(3)</a>
    <li><a href="#ref-for-dfn-duration③">8. Vendor-Specific Values</a> <a href="#ref-for-dfn-duration④">(2)</a> <a href="#ref-for-dfn-duration⑤">(3)</a> <a href="#ref-for-dfn-duration⑥">(4)</a>
    <li><a href="#ref-for-dfn-duration⑦">11.12. Establishing report delivery time</a>
    <li><a href="#ref-for-dfn-duration⑧">12. Report delivery</a> <a href="#ref-for-dfn-duration⑨">(2)</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-a33f352de1a9eb5d29cfa3005d40d072" class="dfn-panel" data-for="a33f352de1a9eb5d29cfa3005d40d072" id="infopanel-for-a33f352de1a9eb5d29cfa3005d40d072">
   <span id="infopaneltitle-for-a33f352de1a9eb5d29cfa3005d40d072" style="display:none">Info about the 'moment' external reference.</span><a href="https://w3c.github.io/hr-time/#dfn-moment">https://w3c.github.io/hr-time/#dfn-moment</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dfn-moment">6.7. Attribution source</a>
    <li><a href="#ref-for-dfn-moment①">6.12. Attribution trigger</a>
    <li><a href="#ref-for-dfn-moment②">6.13. Attribution report</a> <a href="#ref-for-dfn-moment③">(2)</a>
    <li><a href="#ref-for-dfn-moment④">6.14. Event-level report</a>
    <li><a href="#ref-for-dfn-moment⑤">6.16. Aggregatable report</a>
    <li><a href="#ref-for-dfn-moment⑥">6.17. Attribution rate-limits</a> <a href="#ref-for-dfn-moment⑦">(2)</a>
    <li><a href="#ref-for-dfn-moment⑧">9.8. Can attribution rate-limit record be removed</a>
    <li><a href="#ref-for-dfn-moment⑨">10.4. Parsing source-registration JSON</a>
    <li><a href="#ref-for-dfn-moment①⓪">11.1. Creating an attribution trigger</a>
    <li><a href="#ref-for-dfn-moment①①">11.12. Establishing report delivery time</a> <a href="#ref-for-dfn-moment①②">(2)</a> <a href="#ref-for-dfn-moment①③">(3)</a> <a href="#ref-for-dfn-moment①④">(4)</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-62d5145a686fb21602c40aa7f2dc6dcb" class="dfn-panel" data-for="62d5145a686fb21602c40aa7f2dc6dcb" id="infopanel-for-62d5145a686fb21602c40aa7f2dc6dcb">
   <span id="infopaneltitle-for-62d5145a686fb21602c40aa7f2dc6dcb" style="display:none">Info about the 'CEReactions' external reference.</span><a href="https://html.spec.whatwg.org/multipage/custom-elements.html#cereactions">https://html.spec.whatwg.org/multipage/custom-elements.html#cereactions</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-cereactions">2.1. API for elements</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-3826bc181b5dc21a490d742e73720e7f" class="dfn-panel" data-for="3826bc181b5dc21a490d742e73720e7f" id="infopanel-for-3826bc181b5dc21a490d742e73720e7f">
   <span id="infopaneltitle-for-3826bc181b5dc21a490d742e73720e7f" style="display:none">Info about the 'HTMLAnchorElement' external reference.</span><a href="https://html.spec.whatwg.org/multipage/text-level-semantics.html#htmlanchorelement">https://html.spec.whatwg.org/multipage/text-level-semantics.html#htmlanchorelement</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-htmlanchorelement">2.1. API for elements</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-8bd1567bfeee6a7f042b4739599829fd" class="dfn-panel" data-for="8bd1567bfeee6a7f042b4739599829fd" id="infopanel-for-8bd1567bfeee6a7f042b4739599829fd">
   <span id="infopaneltitle-for-8bd1567bfeee6a7f042b4739599829fd" style="display:none">Info about the 'HTMLImageElement' external reference.</span><a href="https://html.spec.whatwg.org/multipage/embedded-content.html#htmlimageelement">https://html.spec.whatwg.org/multipage/embedded-content.html#htmlimageelement</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-htmlimageelement">2.1. API for elements</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-257c32b9f7676f6cdb079793771ec03b" class="dfn-panel" data-for="257c32b9f7676f6cdb079793771ec03b" id="infopanel-for-257c32b9f7676f6cdb079793771ec03b">
   <span id="infopaneltitle-for-257c32b9f7676f6cdb079793771ec03b" style="display:none">Info about the 'HTMLScriptElement' external reference.</span><a href="https://html.spec.whatwg.org/multipage/scripting.html#htmlscriptelement">https://html.spec.whatwg.org/multipage/scripting.html#htmlscriptelement</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-htmlscriptelement">2.1. API for elements</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-7e9ab062057ea215d4b7afaf5ece71a6" class="dfn-panel" data-for="7e9ab062057ea215d4b7afaf5ece71a6" id="infopanel-for-7e9ab062057ea215d4b7afaf5ece71a6">
   <span id="infopaneltitle-for-7e9ab062057ea215d4b7afaf5ece71a6" style="display:none">Info about the 'a' external reference.</span><a href="https://html.spec.whatwg.org/multipage/text-level-semantics.html#the-a-element">https://html.spec.whatwg.org/multipage/text-level-semantics.html#the-a-element</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-the-a-element">2.1. API for elements</a> <a href="#ref-for-the-a-element①">(2)</a> <a href="#ref-for-the-a-element②">(3)</a> <a href="#ref-for-the-a-element③">(4)</a>
    <li><a href="#ref-for-the-a-element④">10.2. Obtaining an attribution source from an a element</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-56d977f87f79f0de3bb0c5ce53846293" class="dfn-panel" data-for="56d977f87f79f0de3bb0c5ce53846293" id="infopanel-for-56d977f87f79f0de3bb0c5ce53846293">
   <span id="infopaneltitle-for-56d977f87f79f0de3bb0c5ce53846293" style="display:none">Info about the 'content attributes' external reference.</span><a href="https://html.spec.whatwg.org/multipage/dom.html#concept-element-attributes">https://html.spec.whatwg.org/multipage/dom.html#concept-element-attributes</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-concept-element-attributes">2.1. API for elements</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-d815dc723d8b4fe4b1166e2013ec62b7" class="dfn-panel" data-for="d815dc723d8b4fe4b1166e2013ec62b7" id="infopanel-for-d815dc723d8b4fe4b1166e2013ec62b7">
   <span id="infopaneltitle-for-d815dc723d8b4fe4b1166e2013ec62b7" style="display:none">Info about the 'environment settings object' external reference.</span><a href="https://html.spec.whatwg.org/multipage/webappapis.html#environment-settings-object">https://html.spec.whatwg.org/multipage/webappapis.html#environment-settings-object</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-environment-settings-object">7. Storage</a>
    <li><a href="#ref-for-environment-settings-object①">9.10. Making a background attributionsrc request</a> <a href="#ref-for-environment-settings-object②">(2)</a>
    <li><a href="#ref-for-environment-settings-object③">12. Report delivery</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-0a8d192cb885d336f16ead79b570c196" class="dfn-panel" data-for="0a8d192cb885d336f16ead79b570c196" id="infopanel-for-0a8d192cb885d336f16ead79b570c196">
   <span id="infopaneltitle-for-0a8d192cb885d336f16ead79b570c196" style="display:none">Info about the 'host' external reference.</span><a href="https://html.spec.whatwg.org/multipage/browsers.html#concept-origin-host">https://html.spec.whatwg.org/multipage/browsers.html#concept-origin-host</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-concept-origin-host">9.5. Cookie-based debugging</a>
    <li><a href="#ref-for-concept-origin-host①">12.7. Get report request URL</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-abfedd7f01779095e32057f505b061f5" class="dfn-panel" data-for="abfedd7f01779095e32057f505b061f5" id="infopanel-for-abfedd7f01779095e32057f505b061f5">
   <span id="infopaneltitle-for-abfedd7f01779095e32057f505b061f5" style="display:none">Info about the 'img' external reference.</span><a href="https://html.spec.whatwg.org/multipage/embedded-content.html#the-img-element">https://html.spec.whatwg.org/multipage/embedded-content.html#the-img-element</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-the-img-element">2.1. API for elements</a> <a href="#ref-for-the-img-element①">(2)</a> <a href="#ref-for-the-img-element②">(3)</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-3a2763fcaa6bc82693554cf36780c0dd" class="dfn-panel" data-for="3a2763fcaa6bc82693554cf36780c0dd" id="infopanel-for-3a2763fcaa6bc82693554cf36780c0dd">
   <span id="infopaneltitle-for-3a2763fcaa6bc82693554cf36780c0dd" style="display:none">Info about the 'in parallel' external reference.</span><a href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel">https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-in-parallel">12. Report delivery</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-27e69640e8fd1e1522b5ace8391212ba" class="dfn-panel" data-for="27e69640e8fd1e1522b5ace8391212ba" id="infopanel-for-27e69640e8fd1e1522b5ace8391212ba">
   <span id="infopaneltitle-for-27e69640e8fd1e1522b5ace8391212ba" style="display:none">Info about the 'obtain a site' external reference.</span><a href="https://html.spec.whatwg.org/multipage/browsers.html#obtain-a-site">https://html.spec.whatwg.org/multipage/browsers.html#obtain-a-site</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-obtain-a-site">6.7. Attribution source</a>
    <li><a href="#ref-for-obtain-a-site①">9.10. Making a background attributionsrc request</a>
    <li><a href="#ref-for-obtain-a-site②">10.4. Parsing source-registration JSON</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-23307d34220e7159f8e5d8c231db141f" class="dfn-panel" data-for="23307d34220e7159f8e5d8c231db141f" id="infopanel-for-23307d34220e7159f8e5d8c231db141f">
   <span id="infopaneltitle-for-23307d34220e7159f8e5d8c231db141f" style="display:none">Info about the 'opaque origin' external reference.</span><a href="https://html.spec.whatwg.org/multipage/browsers.html#concept-origin-opaque">https://html.spec.whatwg.org/multipage/browsers.html#concept-origin-opaque</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-concept-origin-opaque">9.2. Serialize attribution destinations</a>
    <li><a href="#ref-for-concept-origin-opaque①">12.5. Serialize attribution report body</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-e66f9f7d45934e77669cb907bd0c7636" class="dfn-panel" data-for="e66f9f7d45934e77669cb907bd0c7636" id="infopanel-for-e66f9f7d45934e77669cb907bd0c7636">
   <span id="infopaneltitle-for-e66f9f7d45934e77669cb907bd0c7636" style="display:none">Info about the 'origin' external reference.</span><a href="https://html.spec.whatwg.org/multipage/browsers.html#concept-origin">https://html.spec.whatwg.org/multipage/browsers.html#concept-origin</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-concept-origin">5. Clear Site Data integration</a>
    <li><a href="#ref-for-concept-origin①">6.5. Suitable origin</a>
    <li><a href="#ref-for-concept-origin②">9.2. Serialize attribution destinations</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-bd1763deaa469713685086503ce29be6" class="dfn-panel" data-for="bd1763deaa469713685086503ce29be6" id="infopanel-for-bd1763deaa469713685086503ce29be6">
   <span id="infopaneltitle-for-bd1763deaa469713685086503ce29be6" style="display:none">Info about the 'port' external reference.</span><a href="https://html.spec.whatwg.org/multipage/browsers.html#concept-origin-port">https://html.spec.whatwg.org/multipage/browsers.html#concept-origin-port</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-concept-origin-port">12.7. Get report request URL</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-da7ed5f190c4eedd375552d6f7876301" class="dfn-panel" data-for="da7ed5f190c4eedd375552d6f7876301" id="infopanel-for-da7ed5f190c4eedd375552d6f7876301">
   <span id="infopaneltitle-for-da7ed5f190c4eedd375552d6f7876301" style="display:none">Info about the 'queue a task' external reference.</span><a href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-task">https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-task</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-queue-a-task">9.9. Obtaining and delivering an attribution debug report</a>
    <li><a href="#ref-for-queue-a-task①">11.9. Triggering event-level attribution</a>
    <li><a href="#ref-for-queue-a-task②">11.10. Triggering aggregatable attribution</a>
    <li><a href="#ref-for-queue-a-task③">12.10. Issuing a report request</a> <a href="#ref-for-queue-a-task④">(2)</a> <a href="#ref-for-queue-a-task⑤">(3)</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-b49dc0806d8dbf1a04db8e3ade97d3f3" class="dfn-panel" data-for="b49dc0806d8dbf1a04db8e3ade97d3f3" id="infopanel-for-b49dc0806d8dbf1a04db8e3ade97d3f3">
   <span id="infopaneltitle-for-b49dc0806d8dbf1a04db8e3ade97d3f3" style="display:none">Info about the 'reflect' external reference.</span><a href="https://html.spec.whatwg.org/multipage/common-dom-interfaces.html#reflect">https://html.spec.whatwg.org/multipage/common-dom-interfaces.html#reflect</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-reflect">2.1. API for elements</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-bfb9cb6617f81a424ab20212af73bae3" class="dfn-panel" data-for="bfb9cb6617f81a424ab20212af73bae3" id="infopanel-for-bfb9cb6617f81a424ab20212af73bae3">
   <span id="infopaneltitle-for-bfb9cb6617f81a424ab20212af73bae3" style="display:none">Info about the 'relevant settings object' external reference.</span><a href="https://html.spec.whatwg.org/multipage/webappapis.html#relevant-settings-object">https://html.spec.whatwg.org/multipage/webappapis.html#relevant-settings-object</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-relevant-settings-object">2.1. API for elements</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-e10120802cb96cae7ea1234e5c299d70" class="dfn-panel" data-for="e10120802cb96cae7ea1234e5c299d70" id="infopanel-for-e10120802cb96cae7ea1234e5c299d70">
   <span id="infopaneltitle-for-e10120802cb96cae7ea1234e5c299d70" style="display:none">Info about the 'rules for parsing integers' external reference.</span><a href="https://html.spec.whatwg.org/multipage/common-microsyntaxes.html#rules-for-parsing-integers">https://html.spec.whatwg.org/multipage/common-microsyntaxes.html#rules-for-parsing-integers</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-rules-for-parsing-integers">10.4. Parsing source-registration JSON</a> <a href="#ref-for-rules-for-parsing-integers①">(2)</a>
    <li><a href="#ref-for-rules-for-parsing-integers②">11.1. Creating an attribution trigger</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-837090196f059292f6eeb87cf444bbc1" class="dfn-panel" data-for="837090196f059292f6eeb87cf444bbc1" id="infopanel-for-837090196f059292f6eeb87cf444bbc1">
   <span id="infopaneltitle-for-837090196f059292f6eeb87cf444bbc1" style="display:none">Info about the 'rules for parsing non-negative integers' external reference.</span><a href="https://html.spec.whatwg.org/multipage/common-microsyntaxes.html#rules-for-parsing-non-negative-integers">https://html.spec.whatwg.org/multipage/common-microsyntaxes.html#rules-for-parsing-non-negative-integers</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-rules-for-parsing-non-negative-integers">10.4. Parsing source-registration JSON</a> <a href="#ref-for-rules-for-parsing-non-negative-integers①">(2)</a>
    <li><a href="#ref-for-rules-for-parsing-non-negative-integers②">11.1. Creating an attribution trigger</a> <a href="#ref-for-rules-for-parsing-non-negative-integers③">(2)</a> <a href="#ref-for-rules-for-parsing-non-negative-integers④">(3)</a> <a href="#ref-for-rules-for-parsing-non-negative-integers⑤">(4)</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-3bd07dd1ec2f367091cfd0df47c118a5" class="dfn-panel" data-for="3bd07dd1ec2f367091cfd0df47c118a5" id="infopanel-for-3bd07dd1ec2f367091cfd0df47c118a5">
   <span id="infopaneltitle-for-3bd07dd1ec2f367091cfd0df47c118a5" style="display:none">Info about the 'same origin' external reference.</span><a href="https://html.spec.whatwg.org/multipage/browsers.html#same-origin">https://html.spec.whatwg.org/multipage/browsers.html#same-origin</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-same-origin">5. Clear Site Data integration</a> <a href="#ref-for-same-origin①">(2)</a> <a href="#ref-for-same-origin②">(3)</a>
    <li><a href="#ref-for-same-origin③">10.5. Processing an attribution source</a>
    <li><a href="#ref-for-same-origin④">11.3. Should attribution be blocked by attribution rate limit</a>
    <li><a href="#ref-for-same-origin⑤">11.11. Triggering attribution</a>
    <li><a href="#ref-for-same-origin⑥">15.1. Clearing attribution storage</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-e462c9f2460203de987a597cf2944ef9" class="dfn-panel" data-for="e462c9f2460203de987a597cf2944ef9" id="infopanel-for-e462c9f2460203de987a597cf2944ef9">
   <span id="infopaneltitle-for-e462c9f2460203de987a597cf2944ef9" style="display:none">Info about the 'scheme' external reference.</span><a href="https://html.spec.whatwg.org/multipage/browsers.html#concept-origin-scheme">https://html.spec.whatwg.org/multipage/browsers.html#concept-origin-scheme</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-concept-origin-scheme">9.2. Serialize attribution destinations</a>
    <li><a href="#ref-for-concept-origin-scheme①">12.7. Get report request URL</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-a2f36d7fac800a62429fab3384fbef28" class="dfn-panel" data-for="a2f36d7fac800a62429fab3384fbef28" id="infopanel-for-a2f36d7fac800a62429fab3384fbef28">
   <span id="infopaneltitle-for-a2f36d7fac800a62429fab3384fbef28" style="display:none">Info about the 'script' external reference.</span><a href="https://html.spec.whatwg.org/multipage/scripting.html#script">https://html.spec.whatwg.org/multipage/scripting.html#script</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-script">2.1. API for elements</a> <a href="#ref-for-script①">(2)</a> <a href="#ref-for-script②">(3)</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-2aeb953708ac6466a37697c533cf366f" class="dfn-panel" data-for="2aeb953708ac6466a37697c533cf366f" id="infopanel-for-2aeb953708ac6466a37697c533cf366f">
   <span id="infopaneltitle-for-2aeb953708ac6466a37697c533cf366f" style="display:none">Info about the 'serialization of an origin' external reference.</span><a href="https://html.spec.whatwg.org/multipage/browsers.html#ascii-serialisation-of-an-origin">https://html.spec.whatwg.org/multipage/browsers.html#ascii-serialisation-of-an-origin</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-ascii-serialisation-of-an-origin">12.3. Obtaining an aggregatable report’s shared info</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-f7e6800046257cc9fe726534da6b862b" class="dfn-panel" data-for="f7e6800046257cc9fe726534da6b862b" id="infopanel-for-f7e6800046257cc9fe726534da6b862b">
   <span id="infopaneltitle-for-f7e6800046257cc9fe726534da6b862b" style="display:none">Info about the 'site' external reference.</span><a href="https://html.spec.whatwg.org/multipage/browsers.html#site">https://html.spec.whatwg.org/multipage/browsers.html#site</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-site">6.7. Attribution source</a>
    <li><a href="#ref-for-site①">6.12. Attribution trigger</a>
    <li><a href="#ref-for-site②">6.14. Event-level report</a>
    <li><a href="#ref-for-site③">6.16. Aggregatable report</a>
    <li><a href="#ref-for-site④">6.17. Attribution rate-limits</a> <a href="#ref-for-site⑤">(2)</a>
    <li><a href="#ref-for-site⑥">8. Vendor-Specific Values</a> <a href="#ref-for-site⑦">(2)</a>
    <li><a href="#ref-for-site⑧">11.1. Creating an attribution trigger</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-fcfc8b0ed220faa237969aed00e2586d" class="dfn-panel" data-for="fcfc8b0ed220faa237969aed00e2586d" id="infopanel-for-fcfc8b0ed220faa237969aed00e2586d">
   <span id="infopaneltitle-for-fcfc8b0ed220faa237969aed00e2586d" style="display:none">Info about the 'append (for list)' external reference.</span><a href="https://infra.spec.whatwg.org/#list-append">https://infra.spec.whatwg.org/#list-append</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-list-append">9.2. Serialize attribution destinations</a>
    <li><a href="#ref-for-list-append①">9.4. Parsing filters</a> <a href="#ref-for-list-append②">(2)</a>
    <li><a href="#ref-for-list-append③">11.1. Creating an attribution trigger</a>
    <li><a href="#ref-for-list-append④">11.6. Creating aggregatable contributions</a>
    <li><a href="#ref-for-list-append⑤">11.9. Triggering event-level attribution</a>
    <li><a href="#ref-for-list-append⑥">11.10. Triggering aggregatable attribution</a>
    <li><a href="#ref-for-list-append⑦">11.11. Triggering attribution</a> <a href="#ref-for-list-append⑧">(2)</a> <a href="#ref-for-list-append⑨">(3)</a>
    <li><a href="#ref-for-list-append①⓪">12.4. Obtaining an aggregatable report’s aggregation service payloads</a> <a href="#ref-for-list-append①①">(2)</a>
    <li><a href="#ref-for-list-append①②">12.6. Serialize attribution debug report body</a>
    <li><a href="#ref-for-list-append①③">12.7. Get report request URL</a> <a href="#ref-for-list-append①④">(2)</a> <a href="#ref-for-list-append①⑤">(3)</a> <a href="#ref-for-list-append①⑥">(4)</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-53c2c70bc752d6cf2a1f7deddc029549" class="dfn-panel" data-for="53c2c70bc752d6cf2a1f7deddc029549" id="infopanel-for-53c2c70bc752d6cf2a1f7deddc029549">
   <span id="infopaneltitle-for-53c2c70bc752d6cf2a1f7deddc029549" style="display:none">Info about the 'append (for set)' external reference.</span><a href="https://infra.spec.whatwg.org/#set-append">https://infra.spec.whatwg.org/#set-append</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-set-append">9.3. Parsing filter data</a>
    <li><a href="#ref-for-set-append①">10.1. Obtaining a randomized source response</a> <a href="#ref-for-set-append②">(2)</a>
    <li><a href="#ref-for-set-append③">10.4. Parsing source-registration JSON</a> <a href="#ref-for-set-append④">(2)</a>
    <li><a href="#ref-for-set-append⑤">10.5. Processing an attribution source</a> <a href="#ref-for-set-append⑥">(2)</a> <a href="#ref-for-set-append⑦">(3)</a> <a href="#ref-for-set-append⑧">(4)</a> <a href="#ref-for-set-append⑨">(5)</a>
    <li><a href="#ref-for-set-append①⓪">11.1. Creating an attribution trigger</a> <a href="#ref-for-set-append①①">(2)</a> <a href="#ref-for-set-append①②">(3)</a>
    <li><a href="#ref-for-set-append①③">11.4. Should processing be blocked by reporting-endpoint limit</a>
    <li><a href="#ref-for-set-append①④">11.9. Triggering event-level attribution</a>
    <li><a href="#ref-for-set-append①⑤">11.11. Triggering attribution</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-448ac111a89ef58dc46220b5449e819f" class="dfn-panel" data-for="448ac111a89ef58dc46220b5449e819f" id="infopanel-for-448ac111a89ef58dc46220b5449e819f">
   <span id="infopaneltitle-for-448ac111a89ef58dc46220b5449e819f" style="display:none">Info about the 'ascii hex digit' external reference.</span><a href="https://infra.spec.whatwg.org/#ascii-hex-digit">https://infra.spec.whatwg.org/#ascii-hex-digit</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-ascii-hex-digit">9.7. Parsing aggregation key piece</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-7618b9a6d44febb7e784c8f39faac140" class="dfn-panel" data-for="7618b9a6d44febb7e784c8f39faac140" id="infopanel-for-7618b9a6d44febb7e784c8f39faac140">
   <span id="infopaneltitle-for-7618b9a6d44febb7e784c8f39faac140" style="display:none">Info about the 'assert' external reference.</span><a href="https://infra.spec.whatwg.org/#assert">https://infra.spec.whatwg.org/#assert</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-assert">9.2. Serialize attribution destinations</a> <a href="#ref-for-assert①">(2)</a>
    <li><a href="#ref-for-assert②">9.6. Obtaining a randomized response</a>
    <li><a href="#ref-for-assert③">11.7. Can source create aggregatable contributions</a>
    <li><a href="#ref-for-assert④">11.8. Obtaining debug data on trigger registration</a>
    <li><a href="#ref-for-assert⑤">11.9. Triggering event-level attribution</a>
    <li><a href="#ref-for-assert⑥">12.5. Serialize attribution report body</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-0d4cc8e47c65b15b2be5e5e730a09d3c" class="dfn-panel" data-for="0d4cc8e47c65b15b2be5e5e730a09d3c" id="infopanel-for-0d4cc8e47c65b15b2be5e5e730a09d3c">
   <span id="infopaneltitle-for-0d4cc8e47c65b15b2be5e5e730a09d3c" style="display:none">Info about the 'boolean' external reference.</span><a href="https://infra.spec.whatwg.org/#boolean">https://infra.spec.whatwg.org/#boolean</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-boolean">6.7. Attribution source</a> <a href="#ref-for-boolean①">(2)</a>
    <li><a href="#ref-for-boolean②">6.12. Attribution trigger</a>
    <li><a href="#ref-for-boolean③">6.13. Attribution report</a>
    <li><a href="#ref-for-boolean④">10.4. Parsing source-registration JSON</a>
    <li><a href="#ref-for-boolean⑤">11.1. Creating an attribution trigger</a>
    <li><a href="#ref-for-boolean⑥">11.2. Does filter data match</a> <a href="#ref-for-boolean⑦">(2)</a>
    <li><a href="#ref-for-boolean⑧">12.7. Get report request URL</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-2889fa868b02a31759864aaf77f851d6" class="dfn-panel" data-for="2889fa868b02a31759864aaf77f851d6" id="infopanel-for-2889fa868b02a31759864aaf77f851d6">
   <span id="infopaneltitle-for-2889fa868b02a31759864aaf77f851d6" style="display:none">Info about the 'break' external reference.</span><a href="https://infra.spec.whatwg.org/#iteration-break">https://infra.spec.whatwg.org/#iteration-break</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-iteration-break">11.9. Triggering event-level attribution</a>
    <li><a href="#ref-for-iteration-break①">11.10. Triggering aggregatable attribution</a>
    <li><a href="#ref-for-iteration-break②">11.12. Establishing report delivery time</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-6a3d87a2ff9ed36e37a82055f7e141de" class="dfn-panel" data-for="6a3d87a2ff9ed36e37a82055f7e141de" id="infopanel-for-6a3d87a2ff9ed36e37a82055f7e141de">
   <span id="infopaneltitle-for-6a3d87a2ff9ed36e37a82055f7e141de" style="display:none">Info about the 'byte sequence' external reference.</span><a href="https://infra.spec.whatwg.org/#byte-sequence">https://infra.spec.whatwg.org/#byte-sequence</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-byte-sequence">6.12. Attribution trigger</a>
    <li><a href="#ref-for-byte-sequence①">6.16. Aggregatable report</a>
    <li><a href="#ref-for-byte-sequence②">10.4. Parsing source-registration JSON</a>
    <li><a href="#ref-for-byte-sequence③">11.1. Creating an attribution trigger</a> <a href="#ref-for-byte-sequence④">(2)</a>
    <li><a href="#ref-for-byte-sequence⑤">12.1. Encode an unsigned k-bit integer</a>
    <li><a href="#ref-for-byte-sequence⑥">12.4. Obtaining an aggregatable report’s aggregation service payloads</a> <a href="#ref-for-byte-sequence⑦">(2)</a>
    <li><a href="#ref-for-byte-sequence⑧">12.5. Serialize attribution report body</a> <a href="#ref-for-byte-sequence⑨">(2)</a>
    <li><a href="#ref-for-byte-sequence①⓪">12.6. Serialize attribution debug report body</a>
    <li><a href="#ref-for-byte-sequence①①">12.8. Creating a report request</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-2c864afa10a4917272ec9c1cbbc74a76" class="dfn-panel" data-for="2c864afa10a4917272ec9c1cbbc74a76" id="infopanel-for-2c864afa10a4917272ec9c1cbbc74a76">
   <span id="infopaneltitle-for-2c864afa10a4917272ec9c1cbbc74a76" style="display:none">Info about the 'clone' external reference.</span><a href="https://infra.spec.whatwg.org/#map-clone">https://infra.spec.whatwg.org/#map-clone</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-map-clone">11.6. Creating aggregatable contributions</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-0c5b8810162108ca42f42ac154072480" class="dfn-panel" data-for="0c5b8810162108ca42f42ac154072480" id="infopanel-for-0c5b8810162108ca42f42ac154072480">
   <span id="infopaneltitle-for-0c5b8810162108ca42f42ac154072480" style="display:none">Info about the 'code point length' external reference.</span><a href="https://infra.spec.whatwg.org/#string-code-point-length">https://infra.spec.whatwg.org/#string-code-point-length</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-string-code-point-length">9.3. Parsing filter data</a>
    <li><a href="#ref-for-string-code-point-length①">9.7. Parsing aggregation key piece</a>
    <li><a href="#ref-for-string-code-point-length②">10.4. Parsing source-registration JSON</a>
    <li><a href="#ref-for-string-code-point-length③">11.1. Creating an attribution trigger</a> <a href="#ref-for-string-code-point-length④">(2)</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-2899083b3ea37442fd36fad1ee1e70c8" class="dfn-panel" data-for="2899083b3ea37442fd36fad1ee1e70c8" id="infopanel-for-2899083b3ea37442fd36fad1ee1e70c8">
   <span id="infopaneltitle-for-2899083b3ea37442fd36fad1ee1e70c8" style="display:none">Info about the 'code point substring' external reference.</span><a href="https://infra.spec.whatwg.org/#code-point-substring">https://infra.spec.whatwg.org/#code-point-substring</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-code-point-substring">9.7. Parsing aggregation key piece</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-7605aa4703a0a6921736ddd5321cfc07" class="dfn-panel" data-for="7605aa4703a0a6921736ddd5321cfc07" id="infopanel-for-7605aa4703a0a6921736ddd5321cfc07">
   <span id="infopaneltitle-for-7605aa4703a0a6921736ddd5321cfc07" style="display:none">Info about the 'concatenate' external reference.</span><a href="https://infra.spec.whatwg.org/#string-concatenate">https://infra.spec.whatwg.org/#string-concatenate</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-string-concatenate">12.4. Obtaining an aggregatable report’s aggregation service payloads</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-eb75379b05abc264a531a791358e1eba" class="dfn-panel" data-for="eb75379b05abc264a531a791358e1eba" id="infopanel-for-eb75379b05abc264a531a791358e1eba">
   <span id="infopaneltitle-for-eb75379b05abc264a531a791358e1eba" style="display:none">Info about the 'contain' external reference.</span><a href="https://infra.spec.whatwg.org/#list-contain">https://infra.spec.whatwg.org/#list-contain</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-list-contain">11.4. Should processing be blocked by reporting-endpoint limit</a>
    <li><a href="#ref-for-list-contain①">11.9. Triggering event-level attribution</a> <a href="#ref-for-list-contain②">(2)</a>
    <li><a href="#ref-for-list-contain③">11.10. Triggering aggregatable attribution</a>
    <li><a href="#ref-for-list-contain④">11.11. Triggering attribution</a>
    <li><a href="#ref-for-list-contain⑤">11.12. Establishing report delivery time</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-ce9efec0e74a2cbfe986593eb861ade6" class="dfn-panel" data-for="ce9efec0e74a2cbfe986593eb861ade6" id="infopanel-for-ce9efec0e74a2cbfe986593eb861ade6">
   <span id="infopaneltitle-for-ce9efec0e74a2cbfe986593eb861ade6" style="display:none">Info about the 'continue' external reference.</span><a href="https://infra.spec.whatwg.org/#iteration-continue">https://infra.spec.whatwg.org/#iteration-continue</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-iteration-continue">2.1. API for elements</a>
    <li><a href="#ref-for-iteration-continue①">9.5. Cookie-based debugging</a> <a href="#ref-for-iteration-continue②">(2)</a> <a href="#ref-for-iteration-continue③">(3)</a> <a href="#ref-for-iteration-continue④">(4)</a> <a href="#ref-for-iteration-continue⑤">(5)</a> <a href="#ref-for-iteration-continue⑥">(6)</a> <a href="#ref-for-iteration-continue⑦">(7)</a>
    <li><a href="#ref-for-iteration-continue⑧">11.2. Does filter data match</a>
    <li><a href="#ref-for-iteration-continue⑨">11.6. Creating aggregatable contributions</a> <a href="#ref-for-iteration-continue①⓪">(2)</a> <a href="#ref-for-iteration-continue①①">(3)</a>
    <li><a href="#ref-for-iteration-continue①②">11.11. Triggering attribution</a> <a href="#ref-for-iteration-continue①③">(2)</a> <a href="#ref-for-iteration-continue①④">(3)</a>
    <li><a href="#ref-for-iteration-continue①⑤">11.12. Establishing report delivery time</a> <a href="#ref-for-iteration-continue①⑥">(2)</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-d5f5f0c03c51cfd7211eeccd4918549b" class="dfn-panel" data-for="d5f5f0c03c51cfd7211eeccd4918549b" id="infopanel-for-d5f5f0c03c51cfd7211eeccd4918549b">
   <span id="infopaneltitle-for-d5f5f0c03c51cfd7211eeccd4918549b" style="display:none">Info about the 'exist (for list)' external reference.</span><a href="https://infra.spec.whatwg.org/#list-contain">https://infra.spec.whatwg.org/#list-contain</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-list-contain">11.4. Should processing be blocked by reporting-endpoint limit</a>
    <li><a href="#ref-for-list-contain①">11.9. Triggering event-level attribution</a> <a href="#ref-for-list-contain②">(2)</a>
    <li><a href="#ref-for-list-contain③">11.10. Triggering aggregatable attribution</a>
    <li><a href="#ref-for-list-contain④">11.11. Triggering attribution</a>
    <li><a href="#ref-for-list-contain⑤">11.12. Establishing report delivery time</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-0d3ee326a162c16997e7bb20e8b7133c" class="dfn-panel" data-for="0d3ee326a162c16997e7bb20e8b7133c" id="infopanel-for-0d3ee326a162c16997e7bb20e8b7133c">
   <span id="infopaneltitle-for-0d3ee326a162c16997e7bb20e8b7133c" style="display:none">Info about the 'exist (for map)' external reference.</span><a href="https://infra.spec.whatwg.org/#map-exists">https://infra.spec.whatwg.org/#map-exists</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-map-exists">10.3. Obtaining an attribution source from window features</a>
    <li><a href="#ref-for-map-exists①">10.4. Parsing source-registration JSON</a> <a href="#ref-for-map-exists②">(2)</a> <a href="#ref-for-map-exists③">(3)</a> <a href="#ref-for-map-exists④">(4)</a> <a href="#ref-for-map-exists⑤">(5)</a> <a href="#ref-for-map-exists⑥">(6)</a> <a href="#ref-for-map-exists⑦">(7)</a> <a href="#ref-for-map-exists⑧">(8)</a>
    <li><a href="#ref-for-map-exists⑨">11.1. Creating an attribution trigger</a> <a href="#ref-for-map-exists①⓪">(2)</a> <a href="#ref-for-map-exists①①">(3)</a> <a href="#ref-for-map-exists①②">(4)</a> <a href="#ref-for-map-exists①③">(5)</a> <a href="#ref-for-map-exists①④">(6)</a> <a href="#ref-for-map-exists①⑤">(7)</a> <a href="#ref-for-map-exists①⑥">(8)</a> <a href="#ref-for-map-exists①⑦">(9)</a> <a href="#ref-for-map-exists①⑧">(10)</a> <a href="#ref-for-map-exists①⑨">(11)</a> <a href="#ref-for-map-exists②⓪">(12)</a> <a href="#ref-for-map-exists②①">(13)</a> <a href="#ref-for-map-exists②②">(14)</a> <a href="#ref-for-map-exists②③">(15)</a> <a href="#ref-for-map-exists②④">(16)</a> <a href="#ref-for-map-exists②⑤">(17)</a> <a href="#ref-for-map-exists②⑥">(18)</a> <a href="#ref-for-map-exists②⑦">(19)</a>
    <li><a href="#ref-for-map-exists②⑧">11.2. Does filter data match</a>
    <li><a href="#ref-for-map-exists②⑨">11.6. Creating aggregatable contributions</a> <a href="#ref-for-map-exists③⓪">(2)</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-7c33d11f558de7a3f1cdea0460b5c2ec" class="dfn-panel" data-for="7c33d11f558de7a3f1cdea0460b5c2ec" id="infopanel-for-7c33d11f558de7a3f1cdea0460b5c2ec">
   <span id="infopaneltitle-for-7c33d11f558de7a3f1cdea0460b5c2ec" style="display:none">Info about the 'forgiving-base64 decode' external reference.</span><a href="https://infra.spec.whatwg.org/#forgiving-base64-decode">https://infra.spec.whatwg.org/#forgiving-base64-decode</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-forgiving-base64-decode">11.1. Creating an attribution trigger</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-14cef2a3ae238198719d31cf925caeaa" class="dfn-panel" data-for="14cef2a3ae238198719d31cf925caeaa" id="infopanel-for-14cef2a3ae238198719d31cf925caeaa">
   <span id="infopaneltitle-for-14cef2a3ae238198719d31cf925caeaa" style="display:none">Info about the 'forgiving-base64 encode' external reference.</span><a href="https://infra.spec.whatwg.org/#forgiving-base64-encode">https://infra.spec.whatwg.org/#forgiving-base64-encode</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-forgiving-base64-encode">11.1. Creating an attribution trigger</a>
    <li><a href="#ref-for-forgiving-base64-encode①">12.4. Obtaining an aggregatable report’s aggregation service payloads</a> <a href="#ref-for-forgiving-base64-encode②">(2)</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-fd74d8159933c4a74d0b23390bed43e3" class="dfn-panel" data-for="fd74d8159933c4a74d0b23390bed43e3" id="infopanel-for-fd74d8159933c4a74d0b23390bed43e3">
   <span id="infopaneltitle-for-fd74d8159933c4a74d0b23390bed43e3" style="display:none">Info about the 'implementation-defined' external reference.</span><a href="https://infra.spec.whatwg.org/#implementation-defined">https://infra.spec.whatwg.org/#implementation-defined</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-implementation-defined">12. Report delivery</a> <a href="#ref-for-implementation-defined①">(2)</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-c7e200e2f0405519993045c2fe3b034b" class="dfn-panel" data-for="c7e200e2f0405519993045c2fe3b034b" id="infopanel-for-c7e200e2f0405519993045c2fe3b034b">
   <span id="infopaneltitle-for-c7e200e2f0405519993045c2fe3b034b" style="display:none">Info about the 'intersection' external reference.</span><a href="https://infra.spec.whatwg.org/#set-intersection">https://infra.spec.whatwg.org/#set-intersection</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-set-intersection">11.2. Does filter data match</a> <a href="#ref-for-set-intersection①">(2)</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-1c0dcca34b510ef7ac563ffd32610511" class="dfn-panel" data-for="1c0dcca34b510ef7ac563ffd32610511" id="infopanel-for-1c0dcca34b510ef7ac563ffd32610511">
   <span id="infopaneltitle-for-1c0dcca34b510ef7ac563ffd32610511" style="display:none">Info about the 'is' external reference.</span><a href="https://infra.spec.whatwg.org/#string-is">https://infra.spec.whatwg.org/#string-is</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-string-is">11.9. Triggering event-level attribution</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-774d035c53e63931c91186473c19a838" class="dfn-panel" data-for="774d035c53e63931c91186473c19a838" id="infopanel-for-774d035c53e63931c91186473c19a838">
   <span id="infopaneltitle-for-774d035c53e63931c91186473c19a838" style="display:none">Info about the 'is empty (for list)' external reference.</span><a href="https://infra.spec.whatwg.org/#list-is-empty">https://infra.spec.whatwg.org/#list-is-empty</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-list-is-empty">9.2. Serialize attribution destinations</a>
    <li><a href="#ref-for-list-is-empty①">10.1. Obtaining a randomized source response</a> <a href="#ref-for-list-is-empty②">(2)</a>
    <li><a href="#ref-for-list-is-empty③">10.4. Parsing source-registration JSON</a>
    <li><a href="#ref-for-list-is-empty④">10.5. Processing an attribution source</a> <a href="#ref-for-list-is-empty⑤">(2)</a>
    <li><a href="#ref-for-list-is-empty⑥">11.2. Does filter data match</a> <a href="#ref-for-list-is-empty⑦">(2)</a> <a href="#ref-for-list-is-empty⑧">(3)</a> <a href="#ref-for-list-is-empty⑨">(4)</a> <a href="#ref-for-list-is-empty①⓪">(5)</a> <a href="#ref-for-list-is-empty①①">(6)</a> <a href="#ref-for-list-is-empty①②">(7)</a>
    <li><a href="#ref-for-list-is-empty①③">11.9. Triggering event-level attribution</a> <a href="#ref-for-list-is-empty①④">(2)</a>
    <li><a href="#ref-for-list-is-empty①⑤">11.10. Triggering aggregatable attribution</a> <a href="#ref-for-list-is-empty①⑥">(2)</a>
    <li><a href="#ref-for-list-is-empty①⑦">11.11. Triggering attribution</a> <a href="#ref-for-list-is-empty①⑧">(2)</a> <a href="#ref-for-list-is-empty①⑨">(3)</a> <a href="#ref-for-list-is-empty②⓪">(4)</a> <a href="#ref-for-list-is-empty②①">(5)</a> <a href="#ref-for-list-is-empty②②">(6)</a> <a href="#ref-for-list-is-empty②③">(7)</a>
    <li><a href="#ref-for-list-is-empty②④">12.4. Obtaining an aggregatable report’s aggregation service payloads</a> <a href="#ref-for-list-is-empty②⑤">(2)</a>
    <li><a href="#ref-for-list-is-empty②⑥">12.6. Serialize attribution debug report body</a>
    <li><a href="#ref-for-list-is-empty②⑦">12.7. Get report request URL</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-d6aee31113a8335e0560f6c1220d91d0" class="dfn-panel" data-for="d6aee31113a8335e0560f6c1220d91d0" id="infopanel-for-d6aee31113a8335e0560f6c1220d91d0">
   <span id="infopaneltitle-for-d6aee31113a8335e0560f6c1220d91d0" style="display:none">Info about the 'is empty (for map)' external reference.</span><a href="https://infra.spec.whatwg.org/#map-is-empty">https://infra.spec.whatwg.org/#map-is-empty</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-map-is-empty">11.8. Obtaining debug data on trigger registration</a>
    <li><a href="#ref-for-map-is-empty①">11.10. Triggering aggregatable attribution</a>
    <li><a href="#ref-for-map-is-empty②">11.11. Triggering attribution</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-9fda9133089970d69ace9de8f46a334c" class="dfn-panel" data-for="9fda9133089970d69ace9de8f46a334c" id="infopanel-for-9fda9133089970d69ace9de8f46a334c">
   <span id="infopaneltitle-for-9fda9133089970d69ace9de8f46a334c" style="display:none">Info about the 'iterate (for list)' external reference.</span><a href="https://infra.spec.whatwg.org/#list-iterate">https://infra.spec.whatwg.org/#list-iterate</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-list-iterate">2.1. API for elements</a>
    <li><a href="#ref-for-list-iterate①">5. Clear Site Data integration</a> <a href="#ref-for-list-iterate②">(2)</a> <a href="#ref-for-list-iterate③">(3)</a>
    <li><a href="#ref-for-list-iterate④">9.2. Serialize attribution destinations</a>
    <li><a href="#ref-for-list-iterate⑤">9.3. Parsing filter data</a>
    <li><a href="#ref-for-list-iterate⑥">9.4. Parsing filters</a>
    <li><a href="#ref-for-list-iterate⑦">10.4. Parsing source-registration JSON</a>
    <li><a href="#ref-for-list-iterate⑧">10.5. Processing an attribution source</a> <a href="#ref-for-list-iterate⑨">(2)</a>
    <li><a href="#ref-for-list-iterate①⓪">11.1. Creating an attribution trigger</a> <a href="#ref-for-list-iterate①①">(2)</a> <a href="#ref-for-list-iterate①②">(3)</a> <a href="#ref-for-list-iterate①③">(4)</a>
    <li><a href="#ref-for-list-iterate①④">11.2. Does filter data match</a>
    <li><a href="#ref-for-list-iterate①⑤">11.4. Should processing be blocked by reporting-endpoint limit</a>
    <li><a href="#ref-for-list-iterate①⑥">11.6. Creating aggregatable contributions</a> <a href="#ref-for-list-iterate①⑦">(2)</a>
    <li><a href="#ref-for-list-iterate①⑧">11.9. Triggering event-level attribution</a>
    <li><a href="#ref-for-list-iterate①⑨">11.10. Triggering aggregatable attribution</a>
    <li><a href="#ref-for-list-iterate②⓪">11.11. Triggering attribution</a>
    <li><a href="#ref-for-list-iterate②①">11.12. Establishing report delivery time</a>
    <li><a href="#ref-for-list-iterate②②">12. Report delivery</a>
    <li><a href="#ref-for-list-iterate②③">12.4. Obtaining an aggregatable report’s aggregation service payloads</a>
    <li><a href="#ref-for-list-iterate②④">12.6. Serialize attribution debug report body</a>
    <li><a href="#ref-for-list-iterate②⑤">12.8. Creating a report request</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-7ed12c0c34d89a6d72eac5c2904dbf40" class="dfn-panel" data-for="7ed12c0c34d89a6d72eac5c2904dbf40" id="infopanel-for-7ed12c0c34d89a6d72eac5c2904dbf40">
   <span id="infopaneltitle-for-7ed12c0c34d89a6d72eac5c2904dbf40" style="display:none">Info about the 'iterate (for map)' external reference.</span><a href="https://infra.spec.whatwg.org/#map-iterate">https://infra.spec.whatwg.org/#map-iterate</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-map-iterate">9.3. Parsing filter data</a> <a href="#ref-for-map-iterate①">(2)</a>
    <li><a href="#ref-for-map-iterate②">10.4. Parsing source-registration JSON</a>
    <li><a href="#ref-for-map-iterate③">10.5. Processing an attribution source</a>
    <li><a href="#ref-for-map-iterate④">11.1. Creating an attribution trigger</a>
    <li><a href="#ref-for-map-iterate⑤">11.2. Does filter data match</a>
    <li><a href="#ref-for-map-iterate⑥">11.6. Creating aggregatable contributions</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-c38550431b74fa21f9dd8b8680f1105c" class="dfn-panel" data-for="c38550431b74fa21f9dd8b8680f1105c" id="infopanel-for-c38550431b74fa21f9dd8b8680f1105c">
   <span id="infopaneltitle-for-c38550431b74fa21f9dd8b8680f1105c" style="display:none">Info about the 'key' external reference.</span><a href="https://infra.spec.whatwg.org/#map-key">https://infra.spec.whatwg.org/#map-key</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-map-key">6.4. Attribution filtering</a>
    <li><a href="#ref-for-map-key①">6.7. Attribution source</a>
    <li><a href="#ref-for-map-key②">6.12. Attribution trigger</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-81b03c84949641fc3081227509aab38f" class="dfn-panel" data-for="81b03c84949641fc3081227509aab38f" id="infopanel-for-81b03c84949641fc3081227509aab38f">
   <span id="infopaneltitle-for-81b03c84949641fc3081227509aab38f" style="display:none">Info about the 'length' external reference.</span><a href="https://infra.spec.whatwg.org/#string-length">https://infra.spec.whatwg.org/#string-length</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-string-length">9.3. Parsing filter data</a>
    <li><a href="#ref-for-string-length①">10.4. Parsing source-registration JSON</a>
    <li><a href="#ref-for-string-length②">11.1. Creating an attribution trigger</a> <a href="#ref-for-string-length③">(2)</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-fafd38d2108e357bcc9a6fd7f3cd04a7" class="dfn-panel" data-for="fafd38d2108e357bcc9a6fd7f3cd04a7" id="infopanel-for-fafd38d2108e357bcc9a6fd7f3cd04a7">
   <span id="infopaneltitle-for-fafd38d2108e357bcc9a6fd7f3cd04a7" style="display:none">Info about the 'list' external reference.</span><a href="https://infra.spec.whatwg.org/#list">https://infra.spec.whatwg.org/#list</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-list">6.8. Aggregatable trigger data</a> <a href="#ref-for-list①">(2)</a>
    <li><a href="#ref-for-list②">6.10. Event-level trigger configuration</a> <a href="#ref-for-list③">(2)</a>
    <li><a href="#ref-for-list④">6.12. Attribution trigger</a> <a href="#ref-for-list⑤">(2)</a> <a href="#ref-for-list⑥">(3)</a> <a href="#ref-for-list⑦">(4)</a>
    <li><a href="#ref-for-list⑧">6.16. Aggregatable report</a>
    <li><a href="#ref-for-list⑨">6.19. Attribution debug report</a>
    <li><a href="#ref-for-list①⓪">9.2. Serialize attribution destinations</a>
    <li><a href="#ref-for-list①①">9.3. Parsing filter data</a>
    <li><a href="#ref-for-list①②">9.4. Parsing filters</a> <a href="#ref-for-list①③">(2)</a>
    <li><a href="#ref-for-list①④">9.9. Obtaining and delivering an attribution debug report</a>
    <li><a href="#ref-for-list①⑤">10.4. Parsing source-registration JSON</a>
    <li><a href="#ref-for-list①⑥">11.1. Creating an attribution trigger</a> <a href="#ref-for-list①⑦">(2)</a> <a href="#ref-for-list①⑧">(3)</a> <a href="#ref-for-list①⑨">(4)</a> <a href="#ref-for-list②⓪">(5)</a> <a href="#ref-for-list②①">(6)</a> <a href="#ref-for-list②②">(7)</a> <a href="#ref-for-list②③">(8)</a> <a href="#ref-for-list②④">(9)</a> <a href="#ref-for-list②⑤">(10)</a> <a href="#ref-for-list②⑥">(11)</a> <a href="#ref-for-list②⑦">(12)</a>
    <li><a href="#ref-for-list②⑧">11.2. Does filter data match</a> <a href="#ref-for-list②⑨">(2)</a> <a href="#ref-for-list③⓪">(3)</a>
    <li><a href="#ref-for-list③①">11.6. Creating aggregatable contributions</a>
    <li><a href="#ref-for-list③②">11.11. Triggering attribution</a> <a href="#ref-for-list③③">(2)</a>
    <li><a href="#ref-for-list③④">12.4. Obtaining an aggregatable report’s aggregation service payloads</a> <a href="#ref-for-list③⑤">(2)</a>
    <li><a href="#ref-for-list③⑥">12.6. Serialize attribution debug report body</a>
    <li><a href="#ref-for-list③⑦">12.7. Get report request URL</a> <a href="#ref-for-list③⑧">(2)</a>
    <li><a href="#ref-for-list③⑨">12.8. Creating a report request</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-4bf12d0cddf322a1e2a9fb52f4d85843" class="dfn-panel" data-for="4bf12d0cddf322a1e2a9fb52f4d85843" id="infopanel-for-4bf12d0cddf322a1e2a9fb52f4d85843">
   <span id="infopaneltitle-for-4bf12d0cddf322a1e2a9fb52f4d85843" style="display:none">Info about the 'map' external reference.</span><a href="https://infra.spec.whatwg.org/#ordered-map">https://infra.spec.whatwg.org/#ordered-map</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-ordered-map">6.4. Attribution filtering</a>
    <li><a href="#ref-for-ordered-map①">6.7. Attribution source</a>
    <li><a href="#ref-for-ordered-map②">6.12. Attribution trigger</a>
    <li><a href="#ref-for-ordered-map③">6.18. Attribution debug data</a>
    <li><a href="#ref-for-ordered-map④">9.3. Parsing filter data</a>
    <li><a href="#ref-for-ordered-map⑤">9.4. Parsing filters</a>
    <li><a href="#ref-for-ordered-map⑥">10.3. Obtaining an attribution source from window features</a>
    <li><a href="#ref-for-ordered-map⑦">10.4. Parsing source-registration JSON</a> <a href="#ref-for-ordered-map⑧">(2)</a> <a href="#ref-for-ordered-map⑨">(3)</a> <a href="#ref-for-ordered-map①⓪">(4)</a>
    <li><a href="#ref-for-ordered-map①①">10.5. Processing an attribution source</a>
    <li><a href="#ref-for-ordered-map①②">11.1. Creating an attribution trigger</a> <a href="#ref-for-ordered-map①③">(2)</a> <a href="#ref-for-ordered-map①④">(3)</a> <a href="#ref-for-ordered-map①⑤">(4)</a> <a href="#ref-for-ordered-map①⑥">(5)</a> <a href="#ref-for-ordered-map①⑦">(6)</a> <a href="#ref-for-ordered-map①⑧">(7)</a> <a href="#ref-for-ordered-map①⑨">(8)</a> <a href="#ref-for-ordered-map②⓪">(9)</a>
    <li><a href="#ref-for-ordered-map②①">11.8. Obtaining debug data on trigger registration</a>
    <li><a href="#ref-for-ordered-map②②">12.3. Obtaining an aggregatable report’s shared info</a>
    <li><a href="#ref-for-ordered-map②③">12.4. Obtaining an aggregatable report’s aggregation service payloads</a> <a href="#ref-for-ordered-map②④">(2)</a> <a href="#ref-for-ordered-map②⑤">(3)</a>
    <li><a href="#ref-for-ordered-map②⑥">12.5. Serialize attribution report body</a> <a href="#ref-for-ordered-map②⑦">(2)</a>
    <li><a href="#ref-for-ordered-map②⑧">12.6. Serialize attribution debug report body</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-6f2e2caca6e93162e900d159efe5b573" class="dfn-panel" data-for="6f2e2caca6e93162e900d159efe5b573" id="infopanel-for-6f2e2caca6e93162e900d159efe5b573">
   <span id="infopaneltitle-for-6f2e2caca6e93162e900d159efe5b573" style="display:none">Info about the 'ordered map' external reference.</span><a href="https://infra.spec.whatwg.org/#ordered-map">https://infra.spec.whatwg.org/#ordered-map</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-ordered-map">6.4. Attribution filtering</a>
    <li><a href="#ref-for-ordered-map①">6.7. Attribution source</a>
    <li><a href="#ref-for-ordered-map②">6.12. Attribution trigger</a>
    <li><a href="#ref-for-ordered-map③">6.18. Attribution debug data</a>
    <li><a href="#ref-for-ordered-map④">9.3. Parsing filter data</a>
    <li><a href="#ref-for-ordered-map⑤">9.4. Parsing filters</a>
    <li><a href="#ref-for-ordered-map⑥">10.3. Obtaining an attribution source from window features</a>
    <li><a href="#ref-for-ordered-map⑦">10.4. Parsing source-registration JSON</a> <a href="#ref-for-ordered-map⑧">(2)</a> <a href="#ref-for-ordered-map⑨">(3)</a> <a href="#ref-for-ordered-map①⓪">(4)</a>
    <li><a href="#ref-for-ordered-map①①">10.5. Processing an attribution source</a>
    <li><a href="#ref-for-ordered-map①②">11.1. Creating an attribution trigger</a> <a href="#ref-for-ordered-map①③">(2)</a> <a href="#ref-for-ordered-map①④">(3)</a> <a href="#ref-for-ordered-map①⑤">(4)</a> <a href="#ref-for-ordered-map①⑥">(5)</a> <a href="#ref-for-ordered-map①⑦">(6)</a> <a href="#ref-for-ordered-map①⑧">(7)</a> <a href="#ref-for-ordered-map①⑨">(8)</a> <a href="#ref-for-ordered-map②⓪">(9)</a>
    <li><a href="#ref-for-ordered-map②①">11.8. Obtaining debug data on trigger registration</a>
    <li><a href="#ref-for-ordered-map②②">12.3. Obtaining an aggregatable report’s shared info</a>
    <li><a href="#ref-for-ordered-map②③">12.4. Obtaining an aggregatable report’s aggregation service payloads</a> <a href="#ref-for-ordered-map②④">(2)</a> <a href="#ref-for-ordered-map②⑤">(3)</a>
    <li><a href="#ref-for-ordered-map②⑥">12.5. Serialize attribution report body</a> <a href="#ref-for-ordered-map②⑦">(2)</a>
    <li><a href="#ref-for-ordered-map②⑧">12.6. Serialize attribution debug report body</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-80524ea4c0063fe3cf0b6c49a40e31bf" class="dfn-panel" data-for="80524ea4c0063fe3cf0b6c49a40e31bf" id="infopanel-for-80524ea4c0063fe3cf0b6c49a40e31bf">
   <span id="infopaneltitle-for-80524ea4c0063fe3cf0b6c49a40e31bf" style="display:none">Info about the 'ordered set' external reference.</span><a href="https://infra.spec.whatwg.org/#ordered-set">https://infra.spec.whatwg.org/#ordered-set</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-ordered-set">6.3. Randomized source response</a>
    <li><a href="#ref-for-ordered-set①">6.4. Attribution filtering</a>
    <li><a href="#ref-for-ordered-set②">6.7. Attribution source</a> <a href="#ref-for-ordered-set③">(2)</a> <a href="#ref-for-ordered-set④">(3)</a>
    <li><a href="#ref-for-ordered-set⑤">6.8. Aggregatable trigger data</a>
    <li><a href="#ref-for-ordered-set⑥">6.11. Aggregation coordinator</a>
    <li><a href="#ref-for-ordered-set⑦">6.12. Attribution trigger</a>
    <li><a href="#ref-for-ordered-set⑧">6.14. Event-level report</a>
    <li><a href="#ref-for-ordered-set⑨">7. Storage</a> <a href="#ref-for-ordered-set①⓪">(2)</a> <a href="#ref-for-ordered-set①①">(3)</a> <a href="#ref-for-ordered-set①②">(4)</a>
    <li><a href="#ref-for-ordered-set①③">9.3. Parsing filter data</a>
    <li><a href="#ref-for-ordered-set①④">9.6. Obtaining a randomized response</a>
    <li><a href="#ref-for-ordered-set①⑤">10.1. Obtaining a randomized source response</a> <a href="#ref-for-ordered-set①⑥">(2)</a>
    <li><a href="#ref-for-ordered-set①⑦">10.4. Parsing source-registration JSON</a>
    <li><a href="#ref-for-ordered-set①⑧">10.5. Processing an attribution source</a> <a href="#ref-for-ordered-set①⑨">(2)</a> <a href="#ref-for-ordered-set②⓪">(3)</a>
    <li><a href="#ref-for-ordered-set②①">11.1. Creating an attribution trigger</a> <a href="#ref-for-ordered-set②②">(2)</a>
    <li><a href="#ref-for-ordered-set②③">11.4. Should processing be blocked by reporting-endpoint limit</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-6d6a1917020b804433381e1c662ee64f" class="dfn-panel" data-for="6d6a1917020b804433381e1c662ee64f" id="infopanel-for-6d6a1917020b804433381e1c662ee64f">
   <span id="infopaneltitle-for-6d6a1917020b804433381e1c662ee64f" style="display:none">Info about the 'parse json bytes to an infra value' external reference.</span><a href="https://infra.spec.whatwg.org/#parse-json-bytes-to-an-infra-value">https://infra.spec.whatwg.org/#parse-json-bytes-to-an-infra-value</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-parse-json-bytes-to-an-infra-value">10.4. Parsing source-registration JSON</a>
    <li><a href="#ref-for-parse-json-bytes-to-an-infra-value①">11.1. Creating an attribution trigger</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-fadc27e826887faf120674544589ae68" class="dfn-panel" data-for="fadc27e826887faf120674544589ae68" id="infopanel-for-fadc27e826887faf120674544589ae68">
   <span id="infopaneltitle-for-fadc27e826887faf120674544589ae68" style="display:none">Info about the 'remove' external reference.</span><a href="https://infra.spec.whatwg.org/#list-remove">https://infra.spec.whatwg.org/#list-remove</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-list-remove">5. Clear Site Data integration</a> <a href="#ref-for-list-remove①">(2)</a> <a href="#ref-for-list-remove②">(3)</a>
    <li><a href="#ref-for-list-remove③">10.5. Processing an attribution source</a> <a href="#ref-for-list-remove④">(2)</a>
    <li><a href="#ref-for-list-remove⑤">11.9. Triggering event-level attribution</a>
    <li><a href="#ref-for-list-remove⑥">11.11. Triggering attribution</a> <a href="#ref-for-list-remove⑦">(2)</a> <a href="#ref-for-list-remove⑧">(3)</a>
    <li><a href="#ref-for-list-remove⑨">12.10. Issuing a report request</a> <a href="#ref-for-list-remove①⓪">(2)</a>
    <li><a href="#ref-for-list-remove①①">15.1. Clearing attribution storage</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-45b0d481871a171d5773ec0478e0395f" class="dfn-panel" data-for="45b0d481871a171d5773ec0478e0395f" id="infopanel-for-45b0d481871a171d5773ec0478e0395f">
   <span id="infopaneltitle-for-45b0d481871a171d5773ec0478e0395f" style="display:none">Info about the 'serialize an infra value to a json string' external reference.</span><a href="https://infra.spec.whatwg.org/#serialize-an-infra-value-to-a-json-string">https://infra.spec.whatwg.org/#serialize-an-infra-value-to-a-json-string</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-serialize-an-infra-value-to-a-json-string">12.3. Obtaining an aggregatable report’s shared info</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-f9cb9eb74e1b5fe09fd983e8e16a4f35" class="dfn-panel" data-for="f9cb9eb74e1b5fe09fd983e8e16a4f35" id="infopanel-for-f9cb9eb74e1b5fe09fd983e8e16a4f35">
   <span id="infopaneltitle-for-f9cb9eb74e1b5fe09fd983e8e16a4f35" style="display:none">Info about the 'serialize an infra value to json bytes' external reference.</span><a href="https://infra.spec.whatwg.org/#serialize-an-infra-value-to-json-bytes">https://infra.spec.whatwg.org/#serialize-an-infra-value-to-json-bytes</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-serialize-an-infra-value-to-json-bytes">12.5. Serialize attribution report body</a> <a href="#ref-for-serialize-an-infra-value-to-json-bytes①">(2)</a>
    <li><a href="#ref-for-serialize-an-infra-value-to-json-bytes②">12.6. Serialize attribution debug report body</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-5aa6e24324342f15a3c253ca6a002759" class="dfn-panel" data-for="5aa6e24324342f15a3c253ca6a002759" id="infopanel-for-5aa6e24324342f15a3c253ca6a002759">
   <span id="infopaneltitle-for-5aa6e24324342f15a3c253ca6a002759" style="display:none">Info about the 'set' external reference.</span><a href="https://infra.spec.whatwg.org/#ordered-set">https://infra.spec.whatwg.org/#ordered-set</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-ordered-set">6.3. Randomized source response</a>
    <li><a href="#ref-for-ordered-set①">6.4. Attribution filtering</a>
    <li><a href="#ref-for-ordered-set②">6.7. Attribution source</a> <a href="#ref-for-ordered-set③">(2)</a> <a href="#ref-for-ordered-set④">(3)</a>
    <li><a href="#ref-for-ordered-set⑤">6.8. Aggregatable trigger data</a>
    <li><a href="#ref-for-ordered-set⑥">6.11. Aggregation coordinator</a>
    <li><a href="#ref-for-ordered-set⑦">6.12. Attribution trigger</a>
    <li><a href="#ref-for-ordered-set⑧">6.14. Event-level report</a>
    <li><a href="#ref-for-ordered-set⑨">7. Storage</a> <a href="#ref-for-ordered-set①⓪">(2)</a> <a href="#ref-for-ordered-set①①">(3)</a> <a href="#ref-for-ordered-set①②">(4)</a>
    <li><a href="#ref-for-ordered-set①③">9.3. Parsing filter data</a>
    <li><a href="#ref-for-ordered-set①④">9.6. Obtaining a randomized response</a>
    <li><a href="#ref-for-ordered-set①⑤">10.1. Obtaining a randomized source response</a> <a href="#ref-for-ordered-set①⑥">(2)</a>
    <li><a href="#ref-for-ordered-set①⑦">10.4. Parsing source-registration JSON</a>
    <li><a href="#ref-for-ordered-set①⑧">10.5. Processing an attribution source</a> <a href="#ref-for-ordered-set①⑨">(2)</a> <a href="#ref-for-ordered-set②⓪">(3)</a>
    <li><a href="#ref-for-ordered-set②①">11.1. Creating an attribution trigger</a> <a href="#ref-for-ordered-set②②">(2)</a>
    <li><a href="#ref-for-ordered-set②③">11.4. Should processing be blocked by reporting-endpoint limit</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-5c3d3462610d78bc92b91000cc511bc4" class="dfn-panel" data-for="5c3d3462610d78bc92b91000cc511bc4" id="infopanel-for-5c3d3462610d78bc92b91000cc511bc4">
   <span id="infopaneltitle-for-5c3d3462610d78bc92b91000cc511bc4" style="display:none">Info about the 'set (for map)' external reference.</span><a href="https://infra.spec.whatwg.org/#map-set">https://infra.spec.whatwg.org/#map-set</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-map-set">9.3. Parsing filter data</a>
    <li><a href="#ref-for-map-set①">10.4. Parsing source-registration JSON</a> <a href="#ref-for-map-set②">(2)</a>
    <li><a href="#ref-for-map-set③">10.5. Processing an attribution source</a> <a href="#ref-for-map-set④">(2)</a> <a href="#ref-for-map-set⑤">(3)</a>
    <li><a href="#ref-for-map-set⑥">11.8. Obtaining debug data on trigger registration</a> <a href="#ref-for-map-set⑦">(2)</a> <a href="#ref-for-map-set⑧">(3)</a> <a href="#ref-for-map-set⑨">(4)</a> <a href="#ref-for-map-set①⓪">(5)</a> <a href="#ref-for-map-set①①">(6)</a> <a href="#ref-for-map-set①②">(7)</a> <a href="#ref-for-map-set①③">(8)</a> <a href="#ref-for-map-set①④">(9)</a> <a href="#ref-for-map-set①⑤">(10)</a>
    <li><a href="#ref-for-map-set①⑥">12.5. Serialize attribution report body</a> <a href="#ref-for-map-set①⑦">(2)</a> <a href="#ref-for-map-set①⑧">(3)</a> <a href="#ref-for-map-set①⑨">(4)</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-bed8381510f5967f5d37a33de776e857" class="dfn-panel" data-for="bed8381510f5967f5d37a33de776e857" id="infopanel-for-bed8381510f5967f5d37a33de776e857">
   <span id="infopaneltitle-for-bed8381510f5967f5d37a33de776e857" style="display:none">Info about the 'size (for list)' external reference.</span><a href="https://infra.spec.whatwg.org/#list-size">https://infra.spec.whatwg.org/#list-size</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-list-size">8. Vendor-Specific Values</a> <a href="#ref-for-list-size①">(2)</a>
    <li><a href="#ref-for-list-size②">9.2. Serialize attribution destinations</a>
    <li><a href="#ref-for-list-size③">9.3. Parsing filter data</a>
    <li><a href="#ref-for-list-size④">10.1. Obtaining a randomized source response</a>
    <li><a href="#ref-for-list-size⑤">10.4. Parsing source-registration JSON</a>
    <li><a href="#ref-for-list-size⑥">10.5. Processing an attribution source</a> <a href="#ref-for-list-size⑦">(2)</a>
    <li><a href="#ref-for-list-size⑧">11.1. Creating an attribution trigger</a> <a href="#ref-for-list-size⑨">(2)</a>
    <li><a href="#ref-for-list-size①⓪">11.3. Should attribution be blocked by attribution rate limit</a>
    <li><a href="#ref-for-list-size①①">11.4. Should processing be blocked by reporting-endpoint limit</a>
    <li><a href="#ref-for-list-size①②">11.12. Establishing report delivery time</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-cb6090a4148c3b79aef250d4d6625e39" class="dfn-panel" data-for="cb6090a4148c3b79aef250d4d6625e39" id="infopanel-for-cb6090a4148c3b79aef250d4d6625e39">
   <span id="infopaneltitle-for-cb6090a4148c3b79aef250d4d6625e39" style="display:none">Info about the 'size (for map)' external reference.</span><a href="https://infra.spec.whatwg.org/#map-size">https://infra.spec.whatwg.org/#map-size</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-map-size">8. Vendor-Specific Values</a> <a href="#ref-for-map-size①">(2)</a> <a href="#ref-for-map-size②">(3)</a>
    <li><a href="#ref-for-map-size③">9.3. Parsing filter data</a>
    <li><a href="#ref-for-map-size④">10.4. Parsing source-registration JSON</a>
    <li><a href="#ref-for-map-size⑤">11.1. Creating an attribution trigger</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-282b495485475648840948f38adba5f7" class="dfn-panel" data-for="282b495485475648840948f38adba5f7" id="infopanel-for-282b495485475648840948f38adba5f7">
   <span id="infopaneltitle-for-282b495485475648840948f38adba5f7" style="display:none">Info about the 'sort in ascending order' external reference.</span><a href="https://infra.spec.whatwg.org/#list-sort-in-ascending-order">https://infra.spec.whatwg.org/#list-sort-in-ascending-order</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-list-sort-in-ascending-order">11.9. Triggering event-level attribution</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-c6f1d533f9ca4fee242d76491e3ce518" class="dfn-panel" data-for="c6f1d533f9ca4fee242d76491e3ce518" id="infopanel-for-c6f1d533f9ca4fee242d76491e3ce518">
   <span id="infopaneltitle-for-c6f1d533f9ca4fee242d76491e3ce518" style="display:none">Info about the 'sort in descending order' external reference.</span><a href="https://infra.spec.whatwg.org/#list-sort-in-descending-order">https://infra.spec.whatwg.org/#list-sort-in-descending-order</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-list-sort-in-descending-order">11.11. Triggering attribution</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-64436fbcf30f0567373344220b42ce37" class="dfn-panel" data-for="64436fbcf30f0567373344220b42ce37" id="infopanel-for-64436fbcf30f0567373344220b42ce37">
   <span id="infopaneltitle-for-64436fbcf30f0567373344220b42ce37" style="display:none">Info about the 'split a string on ascii whitespace' external reference.</span><a href="https://infra.spec.whatwg.org/#split-on-ascii-whitespace">https://infra.spec.whatwg.org/#split-on-ascii-whitespace</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-split-on-ascii-whitespace">2.1. API for elements</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-40b59bc325bd4d66701dfd8b7f1847c0" class="dfn-panel" data-for="40b59bc325bd4d66701dfd8b7f1847c0" id="infopanel-for-40b59bc325bd4d66701dfd8b7f1847c0">
   <span id="infopaneltitle-for-40b59bc325bd4d66701dfd8b7f1847c0" style="display:none">Info about the 'string' external reference.</span><a href="https://infra.spec.whatwg.org/#string">https://infra.spec.whatwg.org/#string</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-string">2.1. API for elements</a> <a href="#ref-for-string①">(2)</a> <a href="#ref-for-string②">(3)</a>
    <li><a href="#ref-for-string③">6.4. Attribution filtering</a> <a href="#ref-for-string④">(2)</a>
    <li><a href="#ref-for-string⑤">6.7. Attribution source</a> <a href="#ref-for-string⑥">(2)</a>
    <li><a href="#ref-for-string⑦">6.8. Aggregatable trigger data</a>
    <li><a href="#ref-for-string⑧">6.11. Aggregation coordinator</a>
    <li><a href="#ref-for-string⑨">6.12. Attribution trigger</a>
    <li><a href="#ref-for-string①⓪">6.13. Attribution report</a>
    <li><a href="#ref-for-string①①">9.3. Parsing filter data</a>
    <li><a href="#ref-for-string①②">9.7. Parsing aggregation key piece</a>
    <li><a href="#ref-for-string①③">10.4. Parsing source-registration JSON</a> <a href="#ref-for-string①④">(2)</a> <a href="#ref-for-string①⑤">(3)</a> <a href="#ref-for-string①⑥">(4)</a> <a href="#ref-for-string①⑦">(5)</a> <a href="#ref-for-string①⑧">(6)</a> <a href="#ref-for-string①⑨">(7)</a> <a href="#ref-for-string②⓪">(8)</a> <a href="#ref-for-string②①">(9)</a>
    <li><a href="#ref-for-string②②">11.1. Creating an attribution trigger</a> <a href="#ref-for-string②③">(2)</a> <a href="#ref-for-string②④">(3)</a> <a href="#ref-for-string②⑤">(4)</a> <a href="#ref-for-string②⑥">(5)</a> <a href="#ref-for-string②⑦">(6)</a> <a href="#ref-for-string②⑧">(7)</a> <a href="#ref-for-string②⑨">(8)</a> <a href="#ref-for-string③⓪">(9)</a> <a href="#ref-for-string③①">(10)</a>
    <li><a href="#ref-for-string③②">12.3. Obtaining an aggregatable report’s shared info</a> <a href="#ref-for-string③③">(2)</a>
    <li><a href="#ref-for-string③④">12.4. Obtaining an aggregatable report’s aggregation service payloads</a>
    <li><a href="#ref-for-string③⑤">12.7. Get report request URL</a>
    <li><a href="#ref-for-string③⑥">13. Cross App and Web Algorithms</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-3ee316b93eb2dbe81d01a666cce50f9b" class="dfn-panel" data-for="3ee316b93eb2dbe81d01a666cce50f9b" id="infopanel-for-3ee316b93eb2dbe81d01a666cce50f9b">
   <span id="infopaneltitle-for-3ee316b93eb2dbe81d01a666cce50f9b" style="display:none">Info about the 'struct' external reference.</span><a href="https://infra.spec.whatwg.org/#struct">https://infra.spec.whatwg.org/#struct</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-struct">6.1. Trigger state</a>
    <li><a href="#ref-for-struct①">6.2. Randomized response output configuration</a>
    <li><a href="#ref-for-struct②">6.7. Attribution source</a>
    <li><a href="#ref-for-struct③">6.8. Aggregatable trigger data</a>
    <li><a href="#ref-for-struct④">6.9. Aggregatable dedup key</a>
    <li><a href="#ref-for-struct⑤">6.10. Event-level trigger configuration</a>
    <li><a href="#ref-for-struct⑥">6.12. Attribution trigger</a>
    <li><a href="#ref-for-struct⑦">6.13. Attribution report</a>
    <li><a href="#ref-for-struct⑧">6.15. Aggregatable contribution</a>
    <li><a href="#ref-for-struct⑨">6.17. Attribution rate-limits</a>
    <li><a href="#ref-for-struct①⓪">6.18. Attribution debug data</a>
    <li><a href="#ref-for-struct①①">6.19. Attribution debug report</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-decbbd3ee5a73b54e8e8996ce1fddbbc" class="dfn-panel" data-for="decbbd3ee5a73b54e8e8996ce1fddbbc" id="infopanel-for-decbbd3ee5a73b54e8e8996ce1fddbbc">
   <span id="infopaneltitle-for-decbbd3ee5a73b54e8e8996ce1fddbbc" style="display:none">Info about the 'tuple' external reference.</span><a href="https://infra.spec.whatwg.org/#tuple">https://infra.spec.whatwg.org/#tuple</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-tuple">6.20. Triggering result</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-5df297783aea7c2ec5d5f643b81d86a0" class="dfn-panel" data-for="5df297783aea7c2ec5d5f643b81d86a0" id="infopanel-for-5df297783aea7c2ec5d5f643b81d86a0">
   <span id="infopaneltitle-for-5df297783aea7c2ec5d5f643b81d86a0" style="display:none">Info about the 'union' external reference.</span><a href="https://infra.spec.whatwg.org/#set-union">https://infra.spec.whatwg.org/#set-union</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-set-union">10.5. Processing an attribution source</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-6d364979f7040224431fe5246bf4024c" class="dfn-panel" data-for="6d364979f7040224431fe5246bf4024c" id="infopanel-for-6d364979f7040224431fe5246bf4024c">
   <span id="infopaneltitle-for-6d364979f7040224431fe5246bf4024c" style="display:none">Info about the 'value' external reference.</span><a href="https://infra.spec.whatwg.org/#map-value">https://infra.spec.whatwg.org/#map-value</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-map-value">6.4. Attribution filtering</a>
    <li><a href="#ref-for-map-value①">6.7. Attribution source</a>
    <li><a href="#ref-for-map-value②">6.12. Attribution trigger</a>
    <li><a href="#ref-for-map-value③">8. Vendor-Specific Values</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-db6783a2df63f7c1c646263858f254fa" class="dfn-panel" data-for="db6783a2df63f7c1c646263858f254fa" id="infopanel-for-db6783a2df63f7c1c646263858f254fa">
   <span id="infopaneltitle-for-db6783a2df63f7c1c646263858f254fa" style="display:none">Info about the 'source' external reference.</span><a href="https://w3c.github.io/mediacapture-main/#dfn-source">https://w3c.github.io/mediacapture-main/#dfn-source</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dfn-source">10.5. Processing an attribution source</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-23e803a7c7cace37e75c5045c4c7fff3" class="dfn-panel" data-for="23e803a7c7cace37e75c5045c4c7fff3" id="infopanel-for-23e803a7c7cace37e75c5045c4c7fff3">
   <span id="infopaneltitle-for-23e803a7c7cace37e75c5045c4c7fff3" style="display:none">Info about the 'default allowlist' external reference.</span><a href="https://w3c.github.io/webappsec-permissions-policy/#policy-controlled-feature-default-allowlist">https://w3c.github.io/webappsec-permissions-policy/#policy-controlled-feature-default-allowlist</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-policy-controlled-feature-default-allowlist">4. Permissions Policy integration</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-cbc4165961071efad91900c4c7b2fe8b" class="dfn-panel" data-for="cbc4165961071efad91900c4c7b2fe8b" id="infopanel-for-cbc4165961071efad91900c4c7b2fe8b">
   <span id="infopaneltitle-for-cbc4165961071efad91900c4c7b2fe8b" style="display:none">Info about the 'policy-controlled feature' external reference.</span><a href="https://w3c.github.io/webappsec-permissions-policy/#policy-controlled-feature">https://w3c.github.io/webappsec-permissions-policy/#policy-controlled-feature</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-policy-controlled-feature">4. Permissions Policy integration</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-7681ab11c75a55e6b34d4abc7604c144" class="dfn-panel" data-for="7681ab11c75a55e6b34d4abc7604c144" id="infopanel-for-7681ab11c75a55e6b34d4abc7604c144">
   <span id="infopaneltitle-for-7681ab11c75a55e6b34d4abc7604c144" style="display:none">Info about the 'potentially trustworthy origin' external reference.</span><a href="https://w3c.github.io/webappsec-secure-contexts/#potentially-trustworthy-origin">https://w3c.github.io/webappsec-secure-contexts/#potentially-trustworthy-origin</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-potentially-trustworthy-origin">9.2. Serialize attribution destinations</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-762beba33f3ad0dfbf19a9c82f4ec357" class="dfn-panel" data-for="762beba33f3ad0dfbf19a9c82f4ec357" id="infopanel-for-762beba33f3ad0dfbf19a9c82f4ec357">
   <span id="infopaneltitle-for-762beba33f3ad0dfbf19a9c82f4ec357" style="display:none">Info about the 'storage bottle' external reference.</span><a href="https://storage.spec.whatwg.org/#storage-bottle">https://storage.spec.whatwg.org/#storage-bottle</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-storage-bottle">7. Storage</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-8135e1bba65282312a7812610e7057a1" class="dfn-panel" data-for="8135e1bba65282312a7812610e7057a1" id="infopanel-for-8135e1bba65282312a7812610e7057a1">
   <span id="infopaneltitle-for-8135e1bba65282312a7812610e7057a1" style="display:none">Info about the 'host' external reference.</span><a href="https://url.spec.whatwg.org/#concept-url-host">https://url.spec.whatwg.org/#concept-url-host</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-concept-url-host">12.7. Get report request URL</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-eb0e1698348a5ae30cd3aa882b6dff01" class="dfn-panel" data-for="eb0e1698348a5ae30cd3aa882b6dff01" id="infopanel-for-eb0e1698348a5ae30cd3aa882b6dff01">
   <span id="infopaneltitle-for-eb0e1698348a5ae30cd3aa882b6dff01" style="display:none">Info about the 'origin' external reference.</span><a href="https://url.spec.whatwg.org/#concept-url-origin">https://url.spec.whatwg.org/#concept-url-origin</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-concept-url-origin">9.10. Making a background attributionsrc request</a> <a href="#ref-for-concept-url-origin①">(2)</a>
    <li><a href="#ref-for-concept-url-origin②">10.4. Parsing source-registration JSON</a> <a href="#ref-for-concept-url-origin③">(2)</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-75ccf7f4179f63dff9f682d9c35046bb" class="dfn-panel" data-for="75ccf7f4179f63dff9f682d9c35046bb" id="infopanel-for-75ccf7f4179f63dff9f682d9c35046bb">
   <span id="infopaneltitle-for-75ccf7f4179f63dff9f682d9c35046bb" style="display:none">Info about the 'path' external reference.</span><a href="https://url.spec.whatwg.org/#concept-url-path">https://url.spec.whatwg.org/#concept-url-path</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-concept-url-path">12.7. Get report request URL</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-3999a3b3593c7cb689ffd79b86bd5b34" class="dfn-panel" data-for="3999a3b3593c7cb689ffd79b86bd5b34" id="infopanel-for-3999a3b3593c7cb689ffd79b86bd5b34">
   <span id="infopaneltitle-for-3999a3b3593c7cb689ffd79b86bd5b34" style="display:none">Info about the 'percent-decode' external reference.</span><a href="https://url.spec.whatwg.org/#string-percent-decode">https://url.spec.whatwg.org/#string-percent-decode</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-string-percent-decode">10.3. Obtaining an attribution source from window features</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-c565e5d889e5b0afe19851d2428ee938" class="dfn-panel" data-for="c565e5d889e5b0afe19851d2428ee938" id="infopanel-for-c565e5d889e5b0afe19851d2428ee938">
   <span id="infopaneltitle-for-c565e5d889e5b0afe19851d2428ee938" style="display:none">Info about the 'port' external reference.</span><a href="https://url.spec.whatwg.org/#concept-url-port">https://url.spec.whatwg.org/#concept-url-port</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-concept-url-port">12.7. Get report request URL</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-67f83ca6d3c695660bfc2f054f534ffb" class="dfn-panel" data-for="67f83ca6d3c695660bfc2f054f534ffb" id="infopanel-for-67f83ca6d3c695660bfc2f054f534ffb">
   <span id="infopaneltitle-for-67f83ca6d3c695660bfc2f054f534ffb" style="display:none">Info about the 'scheme' external reference.</span><a href="https://url.spec.whatwg.org/#concept-url-scheme">https://url.spec.whatwg.org/#concept-url-scheme</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-concept-url-scheme">12.7. Get report request URL</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-fc05c76e016d3aec6a25a91c066500c8" class="dfn-panel" data-for="fc05c76e016d3aec6a25a91c066500c8" id="infopanel-for-fc05c76e016d3aec6a25a91c066500c8">
   <span id="infopaneltitle-for-fc05c76e016d3aec6a25a91c066500c8" style="display:none">Info about the 'url' external reference.</span><a href="https://url.spec.whatwg.org/#concept-url">https://url.spec.whatwg.org/#concept-url</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-concept-url">2.1. API for elements</a> <a href="#ref-for-concept-url①">(2)</a> <a href="#ref-for-concept-url②">(3)</a> <a href="#ref-for-concept-url③">(4)</a> <a href="#ref-for-concept-url④">(5)</a> <a href="#ref-for-concept-url⑤">(6)</a> <a href="#ref-for-concept-url⑥">(7)</a>
    <li><a href="#ref-for-concept-url⑦">9.10. Making a background attributionsrc request</a>
    <li><a href="#ref-for-concept-url⑧">12.7. Get report request URL</a>
    <li><a href="#ref-for-concept-url⑨">12.8. Creating a report request</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-07df417653faafb38ece7480f2c15a3e" class="dfn-panel" data-for="07df417653faafb38ece7480f2c15a3e" id="infopanel-for-07df417653faafb38ece7480f2c15a3e">
   <span id="infopaneltitle-for-07df417653faafb38ece7480f2c15a3e" style="display:none">Info about the 'url parser' external reference.</span><a href="https://url.spec.whatwg.org/#concept-url-parser">https://url.spec.whatwg.org/#concept-url-parser</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-concept-url-parser">10.4. Parsing source-registration JSON</a>
    <li><a href="#ref-for-concept-url-parser①">13. Cross App and Web Algorithms</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-d2e147380fb69adb69e29104be252de4" class="dfn-panel" data-for="d2e147380fb69adb69e29104be252de4" id="infopanel-for-d2e147380fb69adb69e29104be252de4">
   <span id="infopaneltitle-for-d2e147380fb69adb69e29104be252de4" style="display:none">Info about the 'url record' external reference.</span><a href="https://url.spec.whatwg.org/#concept-url">https://url.spec.whatwg.org/#concept-url</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-concept-url">2.1. API for elements</a> <a href="#ref-for-concept-url①">(2)</a> <a href="#ref-for-concept-url②">(3)</a> <a href="#ref-for-concept-url③">(4)</a> <a href="#ref-for-concept-url④">(5)</a> <a href="#ref-for-concept-url⑤">(6)</a> <a href="#ref-for-concept-url⑥">(7)</a>
    <li><a href="#ref-for-concept-url⑦">9.10. Making a background attributionsrc request</a>
    <li><a href="#ref-for-concept-url⑧">12.7. Get report request URL</a>
    <li><a href="#ref-for-concept-url⑨">12.8. Creating a report request</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-3ee481c84087d2fc253e43977a457c6c" class="dfn-panel" data-for="3ee481c84087d2fc253e43977a457c6c" id="infopanel-for-3ee481c84087d2fc253e43977a457c6c">
   <span id="infopaneltitle-for-3ee481c84087d2fc253e43977a457c6c" style="display:none">Info about the 'generate a random uuid' external reference.</span><a href="https://wicg.github.io/uuid/#dfn-generate-a-random-uuid">https://wicg.github.io/uuid/#dfn-generate-a-random-uuid</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dfn-generate-a-random-uuid">11.13. Obtaining an event-level report</a>
    <li><a href="#ref-for-dfn-generate-a-random-uuid①">11.15. Obtaining an aggregatable report</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-e270bcd7cdb4abe27bc3bb16a1975937" class="dfn-panel" data-for="e270bcd7cdb4abe27bc3bb16a1975937" id="infopanel-for-e270bcd7cdb4abe27bc3bb16a1975937">
   <span id="infopaneltitle-for-e270bcd7cdb4abe27bc3bb16a1975937" style="display:none">Info about the 'USVString' external reference.</span><a href="https://webidl.spec.whatwg.org/#idl-USVString">https://webidl.spec.whatwg.org/#idl-USVString</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-idl-USVString">2.1. API for elements</a>
   </ul>
  </aside>
  <h3 class="no-num no-ref heading settled" id="index-defined-elsewhere"><span class="content">Terms defined by reference</span><a class="self-link" href="#index-defined-elsewhere"></a></h3>
  <ul class="index">
   <li>
    <a data-link-type="biblio">[CLEAR-SITE-DATA]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="13114051a18a1212dfe8303817bad489">clear dom-accessible storage for origin</span>
    </ul>
   <li>
    <a data-link-type="biblio">[ENCODING]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="e877283e03bb3ea91d8d6071dd884479">utf-8 decode without bom</span>
     <li><span class="dfn-paneled" id="6d5d566e8253ef89d86c65cb0387a368">utf-8 encode</span>
    </ul>
   <li>
    <a data-link-type="biblio">[FETCH]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="3b2109649455d787c744fd83de9db4e0">append</span>
     <li><span class="dfn-paneled" id="a4ac39fb3d0e8d0272ab0e8f568335ee">body</span>
     <li><span class="dfn-paneled" id="0d3658c59eca7c4804cd6b0a59d27df3">body <small>(for request)</small></span>
     <li><span class="dfn-paneled" id="b0566d6d660c85a1c0a11fe593f9993d">cache mode</span>
     <li><span class="dfn-paneled" id="136f2700e84634abd2f3d42487ba7f41">client</span>
     <li><span class="dfn-paneled" id="28b697a3fde8f7519842ff0d1ae51f77">credentials mode</span>
     <li><span class="dfn-paneled" id="0bae0f8d0fc019614ef3bb69c15d5311">fetch</span>
     <li><span class="dfn-paneled" id="6ef0be99a5b17cb515c6816ad5548e89">get</span>
     <li><span class="dfn-paneled" id="7d20d86aab82c14f214b792b61bc7cb8">get a structured field value</span>
     <li><span class="dfn-paneled" id="ee7584061c2f45d6a827359cc7178423">header</span>
     <li><span class="dfn-paneled" id="5171067c910207c96b5420a19bae87a3">header list</span>
     <li><span class="dfn-paneled" id="4fd8d1762cd9c874700296c854598fda">header list <small>(for request)</small></span>
     <li><span class="dfn-paneled" id="d94cb5e6252c9158478ebbe8a624e99c">header list <small>(for response)</small></span>
     <li><span class="dfn-paneled" id="c6e05a4731ae2297e1992152e937e094">header name</span>
     <li><span class="dfn-paneled" id="fbcfa904ec1519986ad26d2b61d17047">initiator</span>
     <li><span class="dfn-paneled" id="d2faa58c81831141d41bf5a71e8a973a">keepalive</span>
     <li><span class="dfn-paneled" id="763381417a53db57db9cfbb40d3c552a">method</span>
     <li><span class="dfn-paneled" id="731849104592df0f69027b4122c950f6">mode</span>
     <li><span class="dfn-paneled" id="7d473ce403179af2f3175239eb1a3fa7">processresponse</span>
     <li><span class="dfn-paneled" id="4f358b1fbdaf345d2691f5744de6612b">referrer</span>
     <li><span class="dfn-paneled" id="491791562dd138987138e7051a96c07c">request</span>
     <li><span class="dfn-paneled" id="d203414c2b48c23fddab90ef753bb7cf">response</span>
     <li><span class="dfn-paneled" id="53448884e088e162bab57824ad9a7165">service-workers mode</span>
     <li><span class="dfn-paneled" id="c92a6a04d5edd0548c96b946dabec975">set</span>
     <li><span class="dfn-paneled" id="c196cbd8060929df106163762cfa48fe">source</span>
     <li><span class="dfn-paneled" id="1700cdddfa774dcfdae6e2d75f495dad">unsafe-request flag</span>
     <li><span class="dfn-paneled" id="6f4775873c70787775f9c70f0f110709">url <small>(for request)</small></span>
     <li><span class="dfn-paneled" id="3e7b167935ca300cf96cb89f946d5476">url <small>(for response)</small></span>
     <li><span class="dfn-paneled" id="d72233a2731c7f5b88c9c3da9700b26a">window</span>
    </ul>
   <li>
    <a data-link-type="biblio">[HR-TIME-3]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="1f78bca61233b6a6957119204c181632">current wall time</span>
     <li><span class="dfn-paneled" id="9213a3aff5ff1021ab4c2d780aa70cee">duration</span>
     <li><span class="dfn-paneled" id="a33f352de1a9eb5d29cfa3005d40d072">moment</span>
    </ul>
   <li>
    <a data-link-type="biblio">[HTML]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="62d5145a686fb21602c40aa7f2dc6dcb">CEReactions</span>
     <li><span class="dfn-paneled" id="3826bc181b5dc21a490d742e73720e7f">HTMLAnchorElement</span>
     <li><span class="dfn-paneled" id="8bd1567bfeee6a7f042b4739599829fd">HTMLImageElement</span>
     <li><span class="dfn-paneled" id="257c32b9f7676f6cdb079793771ec03b">HTMLScriptElement</span>
     <li><span class="dfn-paneled" id="7e9ab062057ea215d4b7afaf5ece71a6">a</span>
     <li><span class="dfn-paneled" id="56d977f87f79f0de3bb0c5ce53846293">content attributes</span>
     <li><span class="dfn-paneled" id="d815dc723d8b4fe4b1166e2013ec62b7">environment settings object</span>
     <li><span class="dfn-paneled" id="0a8d192cb885d336f16ead79b570c196">host</span>
     <li><span class="dfn-paneled" id="abfedd7f01779095e32057f505b061f5">img</span>
     <li><span class="dfn-paneled" id="3a2763fcaa6bc82693554cf36780c0dd">in parallel</span>
     <li><span class="dfn-paneled" id="27e69640e8fd1e1522b5ace8391212ba">obtain a site</span>
     <li><span class="dfn-paneled" id="23307d34220e7159f8e5d8c231db141f">opaque origin</span>
     <li><span class="dfn-paneled" id="e66f9f7d45934e77669cb907bd0c7636">origin</span>
     <li><span class="dfn-paneled" id="bd1763deaa469713685086503ce29be6">port</span>
     <li><span class="dfn-paneled" id="da7ed5f190c4eedd375552d6f7876301">queue a task</span>
     <li><span class="dfn-paneled" id="b49dc0806d8dbf1a04db8e3ade97d3f3">reflect</span>
     <li><span class="dfn-paneled" id="bfb9cb6617f81a424ab20212af73bae3">relevant settings object</span>
     <li><span class="dfn-paneled" id="e10120802cb96cae7ea1234e5c299d70">rules for parsing integers</span>
     <li><span class="dfn-paneled" id="837090196f059292f6eeb87cf444bbc1">rules for parsing non-negative integers</span>
     <li><span class="dfn-paneled" id="3bd07dd1ec2f367091cfd0df47c118a5">same origin</span>
     <li><span class="dfn-paneled" id="e462c9f2460203de987a597cf2944ef9">scheme</span>
     <li><span class="dfn-paneled" id="a2f36d7fac800a62429fab3384fbef28">script</span>
     <li><span class="dfn-paneled" id="2aeb953708ac6466a37697c533cf366f">serialization of an origin</span>
     <li><span class="dfn-paneled" id="f7e6800046257cc9fe726534da6b862b">site</span>
    </ul>
   <li>
    <a data-link-type="biblio">[INFRA]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="fcfc8b0ed220faa237969aed00e2586d">append <small>(for list)</small></span>
     <li><span class="dfn-paneled" id="53c2c70bc752d6cf2a1f7deddc029549">append <small>(for set)</small></span>
     <li><span class="dfn-paneled" id="448ac111a89ef58dc46220b5449e819f">ascii hex digit</span>
     <li><span class="dfn-paneled" id="7618b9a6d44febb7e784c8f39faac140">assert</span>
     <li><span class="dfn-paneled" id="0d4cc8e47c65b15b2be5e5e730a09d3c">boolean</span>
     <li><span class="dfn-paneled" id="2889fa868b02a31759864aaf77f851d6">break</span>
     <li><span class="dfn-paneled" id="6a3d87a2ff9ed36e37a82055f7e141de">byte sequence</span>
     <li><span class="dfn-paneled" id="2c864afa10a4917272ec9c1cbbc74a76">clone</span>
     <li><span class="dfn-paneled" id="0c5b8810162108ca42f42ac154072480">code point length</span>
     <li><span class="dfn-paneled" id="2899083b3ea37442fd36fad1ee1e70c8">code point substring</span>
     <li><span class="dfn-paneled" id="7605aa4703a0a6921736ddd5321cfc07">concatenate</span>
     <li><span class="dfn-paneled" id="eb75379b05abc264a531a791358e1eba">contain</span>
     <li><span class="dfn-paneled" id="ce9efec0e74a2cbfe986593eb861ade6">continue</span>
     <li><span class="dfn-paneled" id="d5f5f0c03c51cfd7211eeccd4918549b">exist <small>(for list)</small></span>
     <li><span class="dfn-paneled" id="0d3ee326a162c16997e7bb20e8b7133c">exist <small>(for map)</small></span>
     <li><span class="dfn-paneled" id="7c33d11f558de7a3f1cdea0460b5c2ec">forgiving-base64 decode</span>
     <li><span class="dfn-paneled" id="14cef2a3ae238198719d31cf925caeaa">forgiving-base64 encode</span>
     <li><span class="dfn-paneled" id="fd74d8159933c4a74d0b23390bed43e3">implementation-defined</span>
     <li><span class="dfn-paneled" id="c7e200e2f0405519993045c2fe3b034b">intersection</span>
     <li><span class="dfn-paneled" id="1c0dcca34b510ef7ac563ffd32610511">is</span>
     <li><span class="dfn-paneled" id="774d035c53e63931c91186473c19a838">is empty <small>(for list)</small></span>
     <li><span class="dfn-paneled" id="d6aee31113a8335e0560f6c1220d91d0">is empty <small>(for map)</small></span>
     <li><span class="dfn-paneled" id="9fda9133089970d69ace9de8f46a334c">iterate <small>(for list)</small></span>
     <li><span class="dfn-paneled" id="7ed12c0c34d89a6d72eac5c2904dbf40">iterate <small>(for map)</small></span>
     <li><span class="dfn-paneled" id="c38550431b74fa21f9dd8b8680f1105c">key</span>
     <li><span class="dfn-paneled" id="81b03c84949641fc3081227509aab38f">length</span>
     <li><span class="dfn-paneled" id="fafd38d2108e357bcc9a6fd7f3cd04a7">list</span>
     <li><span class="dfn-paneled" id="4bf12d0cddf322a1e2a9fb52f4d85843">map</span>
     <li><span class="dfn-paneled" id="6f2e2caca6e93162e900d159efe5b573">ordered map</span>
     <li><span class="dfn-paneled" id="80524ea4c0063fe3cf0b6c49a40e31bf">ordered set</span>
     <li><span class="dfn-paneled" id="6d6a1917020b804433381e1c662ee64f">parse json bytes to an infra value</span>
     <li><span class="dfn-paneled" id="fadc27e826887faf120674544589ae68">remove</span>
     <li><span class="dfn-paneled" id="45b0d481871a171d5773ec0478e0395f">serialize an infra value to a json string</span>
     <li><span class="dfn-paneled" id="f9cb9eb74e1b5fe09fd983e8e16a4f35">serialize an infra value to json bytes</span>
     <li><span class="dfn-paneled" id="5aa6e24324342f15a3c253ca6a002759">set</span>
     <li><span class="dfn-paneled" id="5c3d3462610d78bc92b91000cc511bc4">set <small>(for map)</small></span>
     <li><span class="dfn-paneled" id="bed8381510f5967f5d37a33de776e857">size <small>(for list)</small></span>
     <li><span class="dfn-paneled" id="cb6090a4148c3b79aef250d4d6625e39">size <small>(for map)</small></span>
     <li><span class="dfn-paneled" id="282b495485475648840948f38adba5f7">sort in ascending order</span>
     <li><span class="dfn-paneled" id="c6f1d533f9ca4fee242d76491e3ce518">sort in descending order</span>
     <li><span class="dfn-paneled" id="64436fbcf30f0567373344220b42ce37">split a string on ascii whitespace</span>
     <li><span class="dfn-paneled" id="40b59bc325bd4d66701dfd8b7f1847c0">string</span>
     <li><span class="dfn-paneled" id="3ee316b93eb2dbe81d01a666cce50f9b">struct</span>
     <li><span class="dfn-paneled" id="decbbd3ee5a73b54e8e8996ce1fddbbc">tuple</span>
     <li><span class="dfn-paneled" id="5df297783aea7c2ec5d5f643b81d86a0">union</span>
     <li><span class="dfn-paneled" id="6d364979f7040224431fe5246bf4024c">value</span>
    </ul>
   <li>
    <a data-link-type="biblio">[MEDIACAPTURE-STREAMS]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="db6783a2df63f7c1c646263858f254fa">source</span>
    </ul>
   <li>
    <a data-link-type="biblio">[PERMISSIONS-POLICY-1]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="23e803a7c7cace37e75c5045c4c7fff3">default allowlist</span>
     <li><span class="dfn-paneled" id="cbc4165961071efad91900c4c7b2fe8b">policy-controlled feature</span>
    </ul>
   <li>
    <a data-link-type="biblio">[SECURE-CONTEXTS]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="7681ab11c75a55e6b34d4abc7604c144">potentially trustworthy origin</span>
    </ul>
   <li>
    <a data-link-type="biblio">[STORAGE]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="762beba33f3ad0dfbf19a9c82f4ec357">storage bottle</span>
    </ul>
   <li>
    <a data-link-type="biblio">[URL]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="8135e1bba65282312a7812610e7057a1">host</span>
     <li><span class="dfn-paneled" id="eb0e1698348a5ae30cd3aa882b6dff01">origin</span>
     <li><span class="dfn-paneled" id="75ccf7f4179f63dff9f682d9c35046bb">path</span>
     <li><span class="dfn-paneled" id="3999a3b3593c7cb689ffd79b86bd5b34">percent-decode</span>
     <li><span class="dfn-paneled" id="c565e5d889e5b0afe19851d2428ee938">port</span>
     <li><span class="dfn-paneled" id="67f83ca6d3c695660bfc2f054f534ffb">scheme</span>
     <li><span class="dfn-paneled" id="fc05c76e016d3aec6a25a91c066500c8">url</span>
     <li><span class="dfn-paneled" id="07df417653faafb38ece7480f2c15a3e">url parser</span>
     <li><span class="dfn-paneled" id="d2e147380fb69adb69e29104be252de4">url record</span>
    </ul>
   <li>
    <a data-link-type="biblio">[UUID]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="3ee481c84087d2fc253e43977a457c6c">generate a random uuid</span>
    </ul>
   <li>
    <a data-link-type="biblio">[WEBIDL]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="e270bcd7cdb4abe27bc3bb16a1975937">USVString</span>
    </ul>
  </ul>
  <h2 class="no-num no-ref heading settled" id="references"><span class="content">References</span><a class="self-link" href="#references"></a></h2>
  <h3 class="no-num no-ref heading settled" id="normative"><span class="content">Normative References</span><a class="self-link" href="#normative"></a></h3>
  <dl>
   <dt id="biblio-clear-site-data">[CLEAR-SITE-DATA]
   <dd>Mike West. <a href="https://w3c.github.io/webappsec-clear-site-data/"><cite>Clear Site Data</cite></a>. URL: <a href="https://w3c.github.io/webappsec-clear-site-data/">https://w3c.github.io/webappsec-clear-site-data/</a>
   <dt id="biblio-encoding">[ENCODING]
   <dd>Anne van Kesteren. <a href="https://encoding.spec.whatwg.org/"><cite>Encoding Standard</cite></a>. Living Standard. URL: <a href="https://encoding.spec.whatwg.org/">https://encoding.spec.whatwg.org/</a>
   <dt id="biblio-fetch">[FETCH]
   <dd>Anne van Kesteren. <a href="https://fetch.spec.whatwg.org/"><cite>Fetch Standard</cite></a>. Living Standard. URL: <a href="https://fetch.spec.whatwg.org/">https://fetch.spec.whatwg.org/</a>
   <dt id="biblio-hr-time-3">[HR-TIME-3]
   <dd>Yoav Weiss. <a href="https://w3c.github.io/hr-time/"><cite>High Resolution Time</cite></a>. URL: <a href="https://w3c.github.io/hr-time/">https://w3c.github.io/hr-time/</a>
   <dt id="biblio-html">[HTML]
   <dd>Anne van Kesteren; et al. <a href="https://html.spec.whatwg.org/multipage/"><cite>HTML Standard</cite></a>. Living Standard. URL: <a href="https://html.spec.whatwg.org/multipage/">https://html.spec.whatwg.org/multipage/</a>
   <dt id="biblio-infra">[INFRA]
   <dd>Anne van Kesteren; Domenic Denicola. <a href="https://infra.spec.whatwg.org/"><cite>Infra Standard</cite></a>. Living Standard. URL: <a href="https://infra.spec.whatwg.org/">https://infra.spec.whatwg.org/</a>
   <dt id="biblio-mediacapture-streams">[MEDIACAPTURE-STREAMS]
   <dd>Cullen Jennings; et al. <a href="https://w3c.github.io/mediacapture-main/"><cite>Media Capture and Streams</cite></a>. URL: <a href="https://w3c.github.io/mediacapture-main/">https://w3c.github.io/mediacapture-main/</a>
   <dt id="biblio-permissions-policy-1">[PERMISSIONS-POLICY-1]
   <dd>Ian Clelland. <a href="https://w3c.github.io/webappsec-permissions-policy/"><cite>Permissions Policy</cite></a>. URL: <a href="https://w3c.github.io/webappsec-permissions-policy/">https://w3c.github.io/webappsec-permissions-policy/</a>
   <dt id="biblio-rfc2119">[RFC2119]
   <dd>S. Bradner. <a href="https://datatracker.ietf.org/doc/html/rfc2119"><cite>Key words for use in RFCs to Indicate Requirement Levels</cite></a>. March 1997. Best Current Practice. URL: <a href="https://datatracker.ietf.org/doc/html/rfc2119">https://datatracker.ietf.org/doc/html/rfc2119</a>
   <dt id="biblio-rfc8949">[RFC8949]
   <dd>C. Bormann; P. Hoffman. <a href="https://www.rfc-editor.org/rfc/rfc8949"><cite>Concise Binary Object Representation (CBOR)</cite></a>. December 2020. Internet Standard. URL: <a href="https://www.rfc-editor.org/rfc/rfc8949">https://www.rfc-editor.org/rfc/rfc8949</a>
   <dt id="biblio-rfc9180">[RFC9180]
   <dd>R. Barnes; et al. <a href="https://www.rfc-editor.org/rfc/rfc9180"><cite>Hybrid Public Key Encryption</cite></a>. February 2022. Informational. URL: <a href="https://www.rfc-editor.org/rfc/rfc9180">https://www.rfc-editor.org/rfc/rfc9180</a>
   <dt id="biblio-secure-contexts">[SECURE-CONTEXTS]
   <dd>Mike West. <a href="https://w3c.github.io/webappsec-secure-contexts/"><cite>Secure Contexts</cite></a>. URL: <a href="https://w3c.github.io/webappsec-secure-contexts/">https://w3c.github.io/webappsec-secure-contexts/</a>
   <dt id="biblio-url">[URL]
   <dd>Anne van Kesteren. <a href="https://url.spec.whatwg.org/"><cite>URL Standard</cite></a>. Living Standard. URL: <a href="https://url.spec.whatwg.org/">https://url.spec.whatwg.org/</a>
   <dt id="biblio-webidl">[WEBIDL]
   <dd>Edgar Chen; Timothy Gu. <a href="https://webidl.spec.whatwg.org/"><cite>Web IDL Standard</cite></a>. Living Standard. URL: <a href="https://webidl.spec.whatwg.org/">https://webidl.spec.whatwg.org/</a>
  </dl>
  <h3 class="no-num no-ref heading settled" id="informative"><span class="content">Informative References</span><a class="self-link" href="#informative"></a></h3>
  <dl>
   <dt id="biblio-storage">[STORAGE]
   <dd>Anne van Kesteren. <a href="https://storage.spec.whatwg.org/"><cite>Storage Standard</cite></a>. Living Standard. URL: <a href="https://storage.spec.whatwg.org/">https://storage.spec.whatwg.org/</a>
  </dl>
  <h2 class="no-num no-ref heading settled" id="idl-index"><span class="content">IDL Index</span><a class="self-link" href="#idl-index"></a></h2>
<pre class="idl highlight def"><c- b>interface</c-> <c- b>mixin</c-> <a href="#htmlattributionsrcelementutils"><code><c- g>HTMLAttributionSrcElementUtils</c-></code></a> {
    [<a class="idl-code" data-link-type="extended-attribute" href="https://html.spec.whatwg.org/multipage/custom-elements.html#cereactions"><c- g>CEReactions</c-></a>] <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString"><c- b>USVString</c-></a> <a data-type="USVString" href="#dom-htmlattributionsrcelementutils-attributionsrc"><code><c- g>attributionSrc</c-></code></a>;
};

<a data-link-type="idl-name" href="https://html.spec.whatwg.org/multipage/text-level-semantics.html#htmlanchorelement"><c- n>HTMLAnchorElement</c-></a> <c- b>includes</c-> <a data-link-type="idl-name" href="#htmlattributionsrcelementutils"><c- n>HTMLAttributionSrcElementUtils</c-></a>;
<a data-link-type="idl-name" href="https://html.spec.whatwg.org/multipage/embedded-content.html#htmlimageelement"><c- n>HTMLImageElement</c-></a> <c- b>includes</c-> <a data-link-type="idl-name" href="#htmlattributionsrcelementutils"><c- n>HTMLAttributionSrcElementUtils</c-></a>;
<a data-link-type="idl-name" href="https://html.spec.whatwg.org/multipage/scripting.html#htmlscriptelement"><c- n>HTMLScriptElement</c-></a> <c- b>includes</c-> <a data-link-type="idl-name" href="#htmlattributionsrcelementutils"><c- n>HTMLAttributionSrcElementUtils</c-></a>;

</pre>
  <h2 class="no-num no-ref heading settled" id="issues-index"><span class="content">Issues Index</span><a class="self-link" href="#issues-index"></a></h2>
  <div style="counter-reset:issue">
   <div class="issue"> Set <var>contextOrigin</var> properly. <a class="issue-return" href="#issue-0f6e3885" title="Jump to section">↵</a></div>
   <div class="issue"> Add links to "Parse" and "node document". <a class="issue-return" href="#issue-cdf1dda4" title="Jump to section">↵</a></div>
   <div class="issue"> Consider allowing the user agent to limit the size of <var>tokens</var>. <a class="issue-return" href="#issue-4cc8b8aa" title="Jump to section">↵</a></div>
   <div class="issue"> Specify when to make background attributionsrc requests for <code><a data-link-type="element" href="https://html.spec.whatwg.org/multipage/text-level-semantics.html#the-a-element">a</a></code>. <a class="issue-return" href="#issue-80ca5c3f" title="Jump to section">↵</a></div>
   <div class="issue"> Monkeypatch <code>window.open()</code>. <a class="issue-return" href="#issue-adb5eac2" title="Jump to section">↵</a></div>
   <div class="issue"> Specify monkeypatches for source/trigger registration. <a class="issue-return" href="#issue-963bda2b" title="Jump to section">↵</a></div>
   <div class="issue"> This would ideally be replaced by a more descriptive algorithm in Infra. See <a href="https://github.com/whatwg/infra/issues/201">infra/201</a> <a class="issue-return" href="#issue-ccb90c6c" title="Jump to section">↵</a></div>
   <div class="issue"> Determine whether to limit <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string-length">length</a> or <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string-code-point-length">code point length</a> for <var>filter</var> and <var>d</var> above. <a class="issue-return" href="#issue-5c232164" title="Jump to section">↵</a></div>
   <div class="issue"> Ideally this would use the <a href="https://datatracker.ietf.org/doc/html/draft-ietf-httpbis-rfc6265bis#name-retrieval-algorithm">cookie-retrieval algorithm</a>,
but it cannot: There is no way to consider <em>only</em> cookies whose http-only-flag
is true and whose same-site-flag is "<code>None</code>"; there is no way to prevent the
last-access-time from being modified; and the return value is a string that
would have to be further processed to check for the "<code>ar_debug</code>" cookie. <a class="issue-return" href="#issue-6b554b5d" title="Jump to section">↵</a></div>
   <div class="issue"> Check permission policy and document trustworthiness. <a class="issue-return" href="#issue-2cf4e1f8" title="Jump to section">↵</a></div>
   <div class="issue"> Audit other properties on <var>request</var> and set them properly. <a class="issue-return" href="#issue-add794c8" title="Jump to section">↵</a></div>
   <div class="issue"> Support header-processing on redirects. <a class="issue-return" href="#issue-af1a3982" title="Jump to section">↵</a></div>
   <div class="issue"> Handle OS-registration headers. <a class="issue-return" href="#issue-71aa6e1e" title="Jump to section">↵</a></div>
   <div class="issue"> Set <var>privateStateToken</var> properly. <a class="issue-return" href="#issue-b1ebe5a5" title="Jump to section">↵</a></div>
   <div class="issue"> Specify the steps for making attributionsrc request. <a class="issue-return" href="#issue-45c98580" title="Jump to section">↵</a></div>
   <div class="issue"> Check for transient activation. <a class="issue-return" href="#issue-fe51c245" title="Jump to section">↵</a></div>
   <div class="issue"> Specify the steps for making an attributionsrc request with <var>decodedSrc</var>. <a class="issue-return" href="#issue-1f7755b7" title="Jump to section">↵</a></div>
   <div class="issue"> Confirm that the maximum destinations size is workable. <a class="issue-return" href="#issue-60eea844" title="Jump to section">↵</a></div>
   <div class="issue"> Determine whether to limit <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string-length">length</a> or <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string-code-point-length">code point length</a> for <var>key</var> above. <a class="issue-return" href="#issue-f31c9d0c" title="Jump to section">↵</a></div>
   <div class="issue"> Determine proper charset-handling for the JSON header value. <a class="issue-return" href="#issue-e6d5a493" title="Jump to section">↵</a></div>
   <div class="issue"> Should fake reports respect the user agent’s <a data-link-type="dfn" href="#max-event-level-reports-per-attribution-destination">max event-level reports per attribution destination</a>? <a class="issue-return" href="#issue-75fbcf24" title="Jump to section">↵</a></div>
   <div class="issue"> Determine whether to limit <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string-length">length</a> or <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string-code-point-length">code point length</a> for <var>sourceKey</var> above. <a class="issue-return" href="#issue-a89384b8" title="Jump to section">↵</a></div>
   <div class="issue"> Determine whether to limit <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string-length">length</a> or <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string-code-point-length">code point length</a> for <var>key</var> above. <a class="issue-return" href="#issue-f31c9d0c①" title="Jump to section">↵</a></div>
   <div class="issue"> properly define the "finishing issuance" operation. <a class="issue-return" href="#issue-46826c27" title="Jump to section">↵</a></div>
   <div class="issue"> properly define "begin redemption" operation. Consider running the algorithm at report sending time. <a class="issue-return" href="#issue-182767d1" title="Jump to section">↵</a></div>
   <div class="issue"> Determine proper charset-handling for the JSON header value. <a class="issue-return" href="#issue-e6d5a493①" title="Jump to section">↵</a></div>
   <div class="issue"> This fetch should use a network partition key for an opaque origin. <a href="https://github.com/WICG/attribution-reporting-api/issues/220">[Issue #220]</a> <a class="issue-return" href="#issue-c8706ee1" title="Jump to section">↵</a></div>
   <div class="issue"> This fetch should use a network partition key for an opaque origin. <a href="https://github.com/WICG/attribution-reporting-api/issues/220">[Issue #220]</a> <a class="issue-return" href="#issue-c8706ee1①" title="Jump to section">↵</a></div>
   <div class="issue"> Consider replacing these string values with structured-field algorithms. <a class="issue-return" href="#issue-912a579f" title="Jump to section">↵</a></div>
  </div>
  <aside aria-labelledby="infopaneltitle-for-htmlattributionsrcelementutils" class="dfn-panel" data-for="htmlattributionsrcelementutils" id="infopanel-for-htmlattributionsrcelementutils">
   <span id="infopaneltitle-for-htmlattributionsrcelementutils" style="display:none">Info about the 'HTMLAttributionSrcElementUtils' definition.</span><b><a href="#htmlattributionsrcelementutils">#htmlattributionsrcelementutils</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-htmlattributionsrcelementutils">2.1. API for elements</a> <a href="#ref-for-htmlattributionsrcelementutils①">(2)</a> <a href="#ref-for-htmlattributionsrcelementutils②">(3)</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-dom-htmlattributionsrcelementutils-attributionsrc" class="dfn-panel" data-for="dom-htmlattributionsrcelementutils-attributionsrc" id="infopanel-for-dom-htmlattributionsrcelementutils-attributionsrc">
   <span id="infopaneltitle-for-dom-htmlattributionsrcelementutils-attributionsrc" style="display:none">Info about the 'attributionSrc' definition.</span><b><a href="#dom-htmlattributionsrcelementutils-attributionsrc">#dom-htmlattributionsrcelementutils-attributionsrc</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-htmlattributionsrcelementutils-attributionsrc">2.1. API for elements</a> <a href="#ref-for-dom-htmlattributionsrcelementutils-attributionsrc①">(2)</a> <a href="#ref-for-dom-htmlattributionsrcelementutils-attributionsrc②">(3)</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-element-attrdef-a-attributionsrc" class="dfn-panel" data-for="element-attrdef-a-attributionsrc" id="infopanel-for-element-attrdef-a-attributionsrc">
   <span id="infopaneltitle-for-element-attrdef-a-attributionsrc" style="display:none">Info about the 'attributionsrc' definition.</span><b><a href="#element-attrdef-a-attributionsrc">#element-attrdef-a-attributionsrc</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-element-attrdef-a-attributionsrc">10.2. Obtaining an attribution source from an a element</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-clear-site-data" class="dfn-panel" data-for="clear-site-data" id="infopanel-for-clear-site-data">
   <span id="infopaneltitle-for-clear-site-data" style="display:none">Info about the 'clear site data' definition.</span><b><a href="#clear-site-data">#clear-site-data</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-clear-site-data">5. Clear Site Data integration</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-trigger-state" class="dfn-panel" data-for="trigger-state" id="infopanel-for-trigger-state">
   <span id="infopaneltitle-for-trigger-state" style="display:none">Info about the '6.1. Trigger state' definition.</span><b><a href="#trigger-state">#trigger-state</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-trigger-state">6.1. Trigger state</a>
    <li><a href="#ref-for-trigger-state">6.3. Randomized source response</a>
    <li><a href="#ref-for-trigger-state①">10.1. Obtaining a randomized source response</a>
    <li><a href="#ref-for-trigger-state②">10.5. Processing an attribution source</a> <a href="#ref-for-trigger-state③">(2)</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-trigger-state-trigger-data" class="dfn-panel" data-for="trigger-state-trigger-data" id="infopanel-for-trigger-state-trigger-data">
   <span id="infopaneltitle-for-trigger-state-trigger-data" style="display:none">Info about the 'trigger data' definition.</span><b><a href="#trigger-state-trigger-data">#trigger-state-trigger-data</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-trigger-state-trigger-data">10.1. Obtaining a randomized source response</a>
    <li><a href="#ref-for-trigger-state-trigger-data①">10.5. Processing an attribution source</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-trigger-state-report-window" class="dfn-panel" data-for="trigger-state-report-window" id="infopanel-for-trigger-state-report-window">
   <span id="infopaneltitle-for-trigger-state-report-window" style="display:none">Info about the 'report window' definition.</span><b><a href="#trigger-state-report-window">#trigger-state-report-window</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-trigger-state-report-window">10.1. Obtaining a randomized source response</a>
    <li><a href="#ref-for-trigger-state-report-window①">10.5. Processing an attribution source</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-randomized-response-output-configuration" class="dfn-panel" data-for="randomized-response-output-configuration" id="infopanel-for-randomized-response-output-configuration">
   <span id="infopaneltitle-for-randomized-response-output-configuration" style="display:none">Info about the '6.2. Randomized response output configuration' definition.</span><b><a href="#randomized-response-output-configuration">#randomized-response-output-configuration</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-randomized-response-output-configuration">6.2. Randomized response output configuration</a>
    <li><a href="#ref-for-randomized-response-output-configuration">10.1. Obtaining a randomized source response</a> <a href="#ref-for-randomized-response-output-configuration①">(2)</a> <a href="#ref-for-randomized-response-output-configuration②">(3)</a>
    <li><a href="#ref-for-randomized-response-output-configuration③">10.4. Parsing source-registration JSON</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-randomized-response-output-configuration-max-attributions-per-source" class="dfn-panel" data-for="randomized-response-output-configuration-max-attributions-per-source" id="infopanel-for-randomized-response-output-configuration-max-attributions-per-source">
   <span id="infopaneltitle-for-randomized-response-output-configuration-max-attributions-per-source" style="display:none">Info about the 'max attributions per source' definition.</span><b><a href="#randomized-response-output-configuration-max-attributions-per-source">#randomized-response-output-configuration-max-attributions-per-source</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-randomized-response-output-configuration-max-attributions-per-source">10.1. Obtaining a randomized source response</a>
    <li><a href="#ref-for-randomized-response-output-configuration-max-attributions-per-source①">10.4. Parsing source-registration JSON</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-randomized-response-output-configuration-trigger-data-cardinality" class="dfn-panel" data-for="randomized-response-output-configuration-trigger-data-cardinality" id="infopanel-for-randomized-response-output-configuration-trigger-data-cardinality">
   <span id="infopaneltitle-for-randomized-response-output-configuration-trigger-data-cardinality" style="display:none">Info about the 'trigger data cardinality' definition.</span><b><a href="#randomized-response-output-configuration-trigger-data-cardinality">#randomized-response-output-configuration-trigger-data-cardinality</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-randomized-response-output-configuration-trigger-data-cardinality">10.1. Obtaining a randomized source response</a>
    <li><a href="#ref-for-randomized-response-output-configuration-trigger-data-cardinality①">10.4. Parsing source-registration JSON</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-randomized-response-output-configuration-num-report-windows" class="dfn-panel" data-for="randomized-response-output-configuration-num-report-windows" id="infopanel-for-randomized-response-output-configuration-num-report-windows">
   <span id="infopaneltitle-for-randomized-response-output-configuration-num-report-windows" style="display:none">Info about the 'num report windows' definition.</span><b><a href="#randomized-response-output-configuration-num-report-windows">#randomized-response-output-configuration-num-report-windows</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-randomized-response-output-configuration-num-report-windows">10.1. Obtaining a randomized source response</a>
    <li><a href="#ref-for-randomized-response-output-configuration-num-report-windows①">10.4. Parsing source-registration JSON</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-randomized-source-response" class="dfn-panel" data-for="randomized-source-response" id="infopanel-for-randomized-source-response">
   <span id="infopaneltitle-for-randomized-source-response" style="display:none">Info about the '6.3. Randomized source response' definition.</span><b><a href="#randomized-source-response">#randomized-source-response</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-randomized-source-response">6.3. Randomized source response</a>
    <li><a href="#ref-for-randomized-source-response">6.7. Attribution source</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-filter-value" class="dfn-panel" data-for="filter-value" id="infopanel-for-filter-value">
   <span id="infopaneltitle-for-filter-value" style="display:none">Info about the 'filter value' definition.</span><b><a href="#filter-value">#filter-value</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-filter-value">6.4. Attribution filtering</a>
    <li><a href="#ref-for-filter-value①">11.2. Does filter data match</a> <a href="#ref-for-filter-value②">(2)</a> <a href="#ref-for-filter-value③">(3)</a> <a href="#ref-for-filter-value④">(4)</a> <a href="#ref-for-filter-value⑤">(5)</a> <a href="#ref-for-filter-value⑥">(6)</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-filter-map" class="dfn-panel" data-for="filter-map" id="infopanel-for-filter-map">
   <span id="infopaneltitle-for-filter-map" style="display:none">Info about the 'filter map' definition.</span><b><a href="#filter-map">#filter-map</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-filter-map">6.7. Attribution source</a>
    <li><a href="#ref-for-filter-map①">6.8. Aggregatable trigger data</a> <a href="#ref-for-filter-map②">(2)</a>
    <li><a href="#ref-for-filter-map③">6.9. Aggregatable dedup key</a> <a href="#ref-for-filter-map④">(2)</a>
    <li><a href="#ref-for-filter-map⑤">6.10. Event-level trigger configuration</a> <a href="#ref-for-filter-map⑥">(2)</a>
    <li><a href="#ref-for-filter-map⑦">6.12. Attribution trigger</a> <a href="#ref-for-filter-map⑧">(2)</a>
    <li><a href="#ref-for-filter-map⑨">9.3. Parsing filter data</a>
    <li><a href="#ref-for-filter-map①⓪">10.4. Parsing source-registration JSON</a>
    <li><a href="#ref-for-filter-map①①">11.1. Creating an attribution trigger</a> <a href="#ref-for-filter-map①②">(2)</a> <a href="#ref-for-filter-map①③">(3)</a> <a href="#ref-for-filter-map①④">(4)</a> <a href="#ref-for-filter-map①⑤">(5)</a> <a href="#ref-for-filter-map①⑥">(6)</a> <a href="#ref-for-filter-map①⑦">(7)</a> <a href="#ref-for-filter-map①⑧">(8)</a>
    <li><a href="#ref-for-filter-map①⑨">11.2. Does filter data match</a> <a href="#ref-for-filter-map②⓪">(2)</a> <a href="#ref-for-filter-map②①">(3)</a> <a href="#ref-for-filter-map②②">(4)</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-suitable-origin" class="dfn-panel" data-for="suitable-origin" id="infopanel-for-suitable-origin">
   <span id="infopaneltitle-for-suitable-origin" style="display:none">Info about the '6.5. Suitable origin' definition.</span><b><a href="#suitable-origin">#suitable-origin</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-suitable-origin">6.5. Suitable origin</a>
    <li><a href="#ref-for-suitable-origin">6.7. Attribution source</a> <a href="#ref-for-suitable-origin①">(2)</a>
    <li><a href="#ref-for-suitable-origin②">6.12. Attribution trigger</a>
    <li><a href="#ref-for-suitable-origin③">6.13. Attribution report</a>
    <li><a href="#ref-for-suitable-origin④">6.17. Attribution rate-limits</a>
    <li><a href="#ref-for-suitable-origin⑤">6.19. Attribution debug report</a>
    <li><a href="#ref-for-suitable-origin⑥">9.5. Cookie-based debugging</a>
    <li><a href="#ref-for-suitable-origin⑦">9.9. Obtaining and delivering an attribution debug report</a>
    <li><a href="#ref-for-suitable-origin⑧">9.10. Making a background attributionsrc request</a> <a href="#ref-for-suitable-origin⑨">(2)</a>
    <li><a href="#ref-for-suitable-origin①⓪">10.4. Parsing source-registration JSON</a> <a href="#ref-for-suitable-origin①①">(2)</a>
    <li><a href="#ref-for-suitable-origin①②">10.5. Processing an attribution source</a>
    <li><a href="#ref-for-suitable-origin①③">11.1. Creating an attribution trigger</a>
    <li><a href="#ref-for-suitable-origin①④">12.7. Get report request URL</a>
    <li><a href="#ref-for-suitable-origin①⑤">12.10. Issuing a report request</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-source-type" class="dfn-panel" data-for="source-type" id="infopanel-for-source-type">
   <span id="infopaneltitle-for-source-type" style="display:none">Info about the 'source type' definition.</span><b><a href="#source-type">#source-type</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-source-type">6.7. Attribution source</a>
    <li><a href="#ref-for-source-type①">6.14. Event-level report</a>
    <li><a href="#ref-for-source-type②">10.4. Parsing source-registration JSON</a>
    <li><a href="#ref-for-source-type③">11.12. Establishing report delivery time</a> <a href="#ref-for-source-type④">(2)</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-source-type-navigation" class="dfn-panel" data-for="source-type-navigation" id="infopanel-for-source-type-navigation">
   <span id="infopaneltitle-for-source-type-navigation" style="display:none">Info about the 'navigation' definition.</span><b><a href="#source-type-navigation">#source-type-navigation</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-source-type-navigation">8. Vendor-Specific Values</a> <a href="#ref-for-source-type-navigation①">(2)</a>
    <li><a href="#ref-for-source-type-navigation②">9.10. Making a background attributionsrc request</a> <a href="#ref-for-source-type-navigation③">(2)</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-source-type-event" class="dfn-panel" data-for="source-type-event" id="infopanel-for-source-type-event">
   <span id="infopaneltitle-for-source-type-event" style="display:none">Info about the 'event' definition.</span><b><a href="#source-type-event">#source-type-event</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-source-type-event">8. Vendor-Specific Values</a> <a href="#ref-for-source-type-event①">(2)</a>
    <li><a href="#ref-for-source-type-event②">9.10. Making a background attributionsrc request</a> <a href="#ref-for-source-type-event③">(2)</a>
    <li><a href="#ref-for-source-type-event④">10.4. Parsing source-registration JSON</a>
    <li><a href="#ref-for-source-type-event⑤">11.9. Triggering event-level attribution</a>
    <li><a href="#ref-for-source-type-event⑥">11.12. Establishing report delivery time</a>
    <li><a href="#ref-for-source-type-event⑦">11.13. Obtaining an event-level report</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-attribution-source" class="dfn-panel" data-for="attribution-source" id="infopanel-for-attribution-source">
   <span id="infopaneltitle-for-attribution-source" style="display:none">Info about the '6.7. Attribution source' definition.</span><b><a href="#attribution-source">#attribution-source</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-attribution-source">1.1. Overview</a> <a href="#ref-for-attribution-source①">(2)</a>
    <li><a href="#ref-for-attribution-source②">2.1. API for elements</a> <a href="#ref-for-attribution-source③">(2)</a> <a href="#ref-for-attribution-source④">(3)</a>
    <li><a href="#ref-for-attribution-source⑤">5. Clear Site Data integration</a>
    <li><a href="#ref-for-attribution-source">6.7. Attribution source</a> <a href="#ref-for-attribution-source⑥">(2)</a> <a href="#ref-for-attribution-source⑦">(3)</a> <a href="#ref-for-attribution-source⑧">(4)</a> <a href="#ref-for-attribution-source⑨">(5)</a> <a href="#ref-for-attribution-source①⓪">(6)</a> <a href="#ref-for-attribution-source①①">(7)</a> <a href="#ref-for-attribution-source①②">(8)</a> <a href="#ref-for-attribution-source①③">(9)</a>
    <li><a href="#ref-for-attribution-source①④">7. Storage</a>
    <li><a href="#ref-for-attribution-source①⑤">8. Vendor-Specific Values</a> <a href="#ref-for-attribution-source①⑥">(2)</a> <a href="#ref-for-attribution-source①⑦">(3)</a> <a href="#ref-for-attribution-source①⑧">(4)</a> <a href="#ref-for-attribution-source①⑨">(5)</a> <a href="#ref-for-attribution-source②⓪">(6)</a> <a href="#ref-for-attribution-source②①">(7)</a> <a href="#ref-for-attribution-source②②">(8)</a> <a href="#ref-for-attribution-source②③">(9)</a> <a href="#ref-for-attribution-source②④">(10)</a> <a href="#ref-for-attribution-source②⑤">(11)</a> <a href="#ref-for-attribution-source②⑥">(12)</a>
    <li><a href="#ref-for-attribution-source②⑦">9.10. Making a background attributionsrc request</a> <a href="#ref-for-attribution-source②⑧">(2)</a>
    <li><a href="#ref-for-attribution-source②⑨">10.4. Parsing source-registration JSON</a>
    <li><a href="#ref-for-attribution-source③⓪">10.5. Processing an attribution source</a> <a href="#ref-for-attribution-source③①">(2)</a> <a href="#ref-for-attribution-source③②">(3)</a> <a href="#ref-for-attribution-source③③">(4)</a> <a href="#ref-for-attribution-source③④">(5)</a> <a href="#ref-for-attribution-source③⑤">(6)</a> <a href="#ref-for-attribution-source③⑥">(7)</a>
    <li><a href="#ref-for-attribution-source③⑦">11.2. Does filter data match</a> <a href="#ref-for-attribution-source③⑧">(2)</a> <a href="#ref-for-attribution-source③⑨">(3)</a>
    <li><a href="#ref-for-attribution-source④⓪">11.3. Should attribution be blocked by attribution rate limit</a>
    <li><a href="#ref-for-attribution-source④①">11.5. Should attribution be blocked by rate limits</a>
    <li><a href="#ref-for-attribution-source④②">11.6. Creating aggregatable contributions</a>
    <li><a href="#ref-for-attribution-source④③">11.7. Can source create aggregatable contributions</a> <a href="#ref-for-attribution-source④④">(2)</a>
    <li><a href="#ref-for-attribution-source④⑤">11.8. Obtaining debug data on trigger registration</a> <a href="#ref-for-attribution-source④⑥">(2)</a>
    <li><a href="#ref-for-attribution-source④⑦">11.9. Triggering event-level attribution</a>
    <li><a href="#ref-for-attribution-source④⑧">11.10. Triggering aggregatable attribution</a>
    <li><a href="#ref-for-attribution-source④⑨">11.11. Triggering attribution</a>
    <li><a href="#ref-for-attribution-source⑤⓪">11.12. Establishing report delivery time</a> <a href="#ref-for-attribution-source⑤①">(2)</a>
    <li><a href="#ref-for-attribution-source⑤②">11.13. Obtaining an event-level report</a>
    <li><a href="#ref-for-attribution-source⑤③">11.15. Obtaining an aggregatable report</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-attribution-source-source-identifier" class="dfn-panel" data-for="attribution-source-source-identifier" id="infopanel-for-attribution-source-source-identifier">
   <span id="infopaneltitle-for-attribution-source-source-identifier" style="display:none">Info about the 'source identifier' definition.</span><b><a href="#attribution-source-source-identifier">#attribution-source-source-identifier</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-attribution-source-source-identifier">10.4. Parsing source-registration JSON</a>
    <li><a href="#ref-for-attribution-source-source-identifier①">11.13. Obtaining an event-level report</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-attribution-source-source-origin" class="dfn-panel" data-for="attribution-source-source-origin" id="infopanel-for-attribution-source-source-origin">
   <span id="infopaneltitle-for-attribution-source-source-origin" style="display:none">Info about the 'source origin' definition.</span><b><a href="#attribution-source-source-origin">#attribution-source-source-origin</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-attribution-source-source-origin">6.7. Attribution source</a>
    <li><a href="#ref-for-attribution-source-source-origin①">8. Vendor-Specific Values</a>
    <li><a href="#ref-for-attribution-source-source-origin②">10.4. Parsing source-registration JSON</a>
    <li><a href="#ref-for-attribution-source-source-origin③">10.5. Processing an attribution source</a> <a href="#ref-for-attribution-source-source-origin④">(2)</a>
    <li><a href="#ref-for-attribution-source-source-origin⑤">12. Report delivery</a>
    <li><a href="#ref-for-attribution-source-source-origin⑥">15.1. Clearing attribution storage</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-attribution-source-event-id" class="dfn-panel" data-for="attribution-source-event-id" id="infopanel-for-attribution-source-event-id">
   <span id="infopaneltitle-for-attribution-source-event-id" style="display:none">Info about the 'event ID' definition.</span><b><a href="#attribution-source-event-id">#attribution-source-event-id</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-attribution-source-event-id">10.4. Parsing source-registration JSON</a>
    <li><a href="#ref-for-attribution-source-event-id①">10.5. Processing an attribution source</a>
    <li><a href="#ref-for-attribution-source-event-id②">11.8. Obtaining debug data on trigger registration</a>
    <li><a href="#ref-for-attribution-source-event-id③">11.13. Obtaining an event-level report</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-attribution-source-attribution-destinations" class="dfn-panel" data-for="attribution-source-attribution-destinations" id="infopanel-for-attribution-source-attribution-destinations">
   <span id="infopaneltitle-for-attribution-source-attribution-destinations" style="display:none">Info about the 'attribution destinations' definition.</span><b><a href="#attribution-source-attribution-destinations">#attribution-source-attribution-destinations</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-attribution-source-attribution-destinations">1.1. Overview</a>
    <li><a href="#ref-for-attribution-source-attribution-destinations①">8. Vendor-Specific Values</a>
    <li><a href="#ref-for-attribution-source-attribution-destinations②">10.4. Parsing source-registration JSON</a>
    <li><a href="#ref-for-attribution-source-attribution-destinations③">10.5. Processing an attribution source</a> <a href="#ref-for-attribution-source-attribution-destinations④">(2)</a> <a href="#ref-for-attribution-source-attribution-destinations⑤">(3)</a> <a href="#ref-for-attribution-source-attribution-destinations⑥">(4)</a> <a href="#ref-for-attribution-source-attribution-destinations⑦">(5)</a>
    <li><a href="#ref-for-attribution-source-attribution-destinations⑧">11.11. Triggering attribution</a>
    <li><a href="#ref-for-attribution-source-attribution-destinations⑨">11.13. Obtaining an event-level report</a>
    <li><a href="#ref-for-attribution-source-attribution-destinations①⓪">15.1. Clearing attribution storage</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-attribution-source-reporting-endpoint" class="dfn-panel" data-for="attribution-source-reporting-endpoint" id="infopanel-for-attribution-source-reporting-endpoint">
   <span id="infopaneltitle-for-attribution-source-reporting-endpoint" style="display:none">Info about the 'reporting endpoint' definition.</span><b><a href="#attribution-source-reporting-endpoint">#attribution-source-reporting-endpoint</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-attribution-source-reporting-endpoint">5. Clear Site Data integration</a>
    <li><a href="#ref-for-attribution-source-reporting-endpoint①">8. Vendor-Specific Values</a> <a href="#ref-for-attribution-source-reporting-endpoint②">(2)</a>
    <li><a href="#ref-for-attribution-source-reporting-endpoint③">10.4. Parsing source-registration JSON</a>
    <li><a href="#ref-for-attribution-source-reporting-endpoint④">10.5. Processing an attribution source</a> <a href="#ref-for-attribution-source-reporting-endpoint⑤">(2)</a> <a href="#ref-for-attribution-source-reporting-endpoint⑥">(3)</a> <a href="#ref-for-attribution-source-reporting-endpoint⑦">(4)</a> <a href="#ref-for-attribution-source-reporting-endpoint⑧">(5)</a> <a href="#ref-for-attribution-source-reporting-endpoint⑨">(6)</a>
    <li><a href="#ref-for-attribution-source-reporting-endpoint①⓪">11.11. Triggering attribution</a> <a href="#ref-for-attribution-source-reporting-endpoint①①">(2)</a>
    <li><a href="#ref-for-attribution-source-reporting-endpoint①②">11.13. Obtaining an event-level report</a>
    <li><a href="#ref-for-attribution-source-reporting-endpoint①③">11.15. Obtaining an aggregatable report</a>
    <li><a href="#ref-for-attribution-source-reporting-endpoint①④">15.1. Clearing attribution storage</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-attribution-source-source-type" class="dfn-panel" data-for="attribution-source-source-type" id="infopanel-for-attribution-source-source-type">
   <span id="infopaneltitle-for-attribution-source-source-type" style="display:none">Info about the 'source type' definition.</span><b><a href="#attribution-source-source-type">#attribution-source-source-type</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-attribution-source-source-type">8. Vendor-Specific Values</a> <a href="#ref-for-attribution-source-source-type①">(2)</a> <a href="#ref-for-attribution-source-source-type②">(3)</a> <a href="#ref-for-attribution-source-source-type③">(4)</a>
    <li><a href="#ref-for-attribution-source-source-type④">10.4. Parsing source-registration JSON</a>
    <li><a href="#ref-for-attribution-source-source-type⑤">10.5. Processing an attribution source</a>
    <li><a href="#ref-for-attribution-source-source-type⑥">11.9. Triggering event-level attribution</a>
    <li><a href="#ref-for-attribution-source-source-type⑦">11.12. Establishing report delivery time</a> <a href="#ref-for-attribution-source-source-type⑧">(2)</a>
    <li><a href="#ref-for-attribution-source-source-type⑨">11.13. Obtaining an event-level report</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-attribution-source-expiry" class="dfn-panel" data-for="attribution-source-expiry" id="infopanel-for-attribution-source-expiry">
   <span id="infopaneltitle-for-attribution-source-expiry" style="display:none">Info about the 'expiry' definition.</span><b><a href="#attribution-source-expiry">#attribution-source-expiry</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-attribution-source-expiry">6.7. Attribution source</a>
    <li><a href="#ref-for-attribution-source-expiry①">8. Vendor-Specific Values</a>
    <li><a href="#ref-for-attribution-source-expiry②">10.4. Parsing source-registration JSON</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-attribution-source-event-report-window" class="dfn-panel" data-for="attribution-source-event-report-window" id="infopanel-for-attribution-source-event-report-window">
   <span id="infopaneltitle-for-attribution-source-event-report-window" style="display:none">Info about the 'event report window' definition.</span><b><a href="#attribution-source-event-report-window">#attribution-source-event-report-window</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-attribution-source-event-report-window">6.7. Attribution source</a>
    <li><a href="#ref-for-attribution-source-event-report-window①">10.4. Parsing source-registration JSON</a>
    <li><a href="#ref-for-attribution-source-event-report-window②">11.12. Establishing report delivery time</a> <a href="#ref-for-attribution-source-event-report-window③">(2)</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-attribution-source-aggregatable-report-window" class="dfn-panel" data-for="attribution-source-aggregatable-report-window" id="infopanel-for-attribution-source-aggregatable-report-window">
   <span id="infopaneltitle-for-attribution-source-aggregatable-report-window" style="display:none">Info about the 'aggregatable report window' definition.</span><b><a href="#attribution-source-aggregatable-report-window">#attribution-source-aggregatable-report-window</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-attribution-source-aggregatable-report-window">6.7. Attribution source</a>
    <li><a href="#ref-for-attribution-source-aggregatable-report-window①">10.4. Parsing source-registration JSON</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-attribution-source-priority" class="dfn-panel" data-for="attribution-source-priority" id="infopanel-for-attribution-source-priority">
   <span id="infopaneltitle-for-attribution-source-priority" style="display:none">Info about the 'priority' definition.</span><b><a href="#attribution-source-priority">#attribution-source-priority</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-attribution-source-priority">10.4. Parsing source-registration JSON</a>
    <li><a href="#ref-for-attribution-source-priority①">11.11. Triggering attribution</a> <a href="#ref-for-attribution-source-priority②">(2)</a> <a href="#ref-for-attribution-source-priority③">(3)</a> <a href="#ref-for-attribution-source-priority④">(4)</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-attribution-source-source-time" class="dfn-panel" data-for="attribution-source-source-time" id="infopanel-for-attribution-source-source-time">
   <span id="infopaneltitle-for-attribution-source-source-time" style="display:none">Info about the 'source time' definition.</span><b><a href="#attribution-source-source-time">#attribution-source-source-time</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-attribution-source-source-time">6.7. Attribution source</a> <a href="#ref-for-attribution-source-source-time①">(2)</a> <a href="#ref-for-attribution-source-source-time②">(3)</a>
    <li><a href="#ref-for-attribution-source-source-time③">10.4. Parsing source-registration JSON</a>
    <li><a href="#ref-for-attribution-source-source-time④">10.5. Processing an attribution source</a> <a href="#ref-for-attribution-source-source-time⑤">(2)</a> <a href="#ref-for-attribution-source-source-time⑥">(3)</a> <a href="#ref-for-attribution-source-source-time⑦">(4)</a> <a href="#ref-for-attribution-source-source-time⑧">(5)</a> <a href="#ref-for-attribution-source-source-time⑨">(6)</a>
    <li><a href="#ref-for-attribution-source-source-time①⓪">11.11. Triggering attribution</a> <a href="#ref-for-attribution-source-source-time①①">(2)</a> <a href="#ref-for-attribution-source-source-time①②">(3)</a>
    <li><a href="#ref-for-attribution-source-source-time①③">11.12. Establishing report delivery time</a> <a href="#ref-for-attribution-source-source-time①④">(2)</a> <a href="#ref-for-attribution-source-source-time①⑤">(3)</a>
    <li><a href="#ref-for-attribution-source-source-time①⑥">11.15. Obtaining an aggregatable report</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-attribution-source-number-of-event-level-reports" class="dfn-panel" data-for="attribution-source-number-of-event-level-reports" id="infopanel-for-attribution-source-number-of-event-level-reports">
   <span id="infopaneltitle-for-attribution-source-number-of-event-level-reports" style="display:none">Info about the 'number of event-level reports' definition.</span><b><a href="#attribution-source-number-of-event-level-reports">#attribution-source-number-of-event-level-reports</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-attribution-source-number-of-event-level-reports">11.9. Triggering event-level attribution</a> <a href="#ref-for-attribution-source-number-of-event-level-reports①">(2)</a> <a href="#ref-for-attribution-source-number-of-event-level-reports②">(3)</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-attribution-source-event-level-attributable" class="dfn-panel" data-for="attribution-source-event-level-attributable" id="infopanel-for-attribution-source-event-level-attributable">
   <span id="infopaneltitle-for-attribution-source-event-level-attributable" style="display:none">Info about the 'event-level attributable' definition.</span><b><a href="#attribution-source-event-level-attributable">#attribution-source-event-level-attributable</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-attribution-source-event-level-attributable">10.5. Processing an attribution source</a>
    <li><a href="#ref-for-attribution-source-event-level-attributable①">11.9. Triggering event-level attribution</a> <a href="#ref-for-attribution-source-event-level-attributable②">(2)</a> <a href="#ref-for-attribution-source-event-level-attributable③">(3)</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-attribution-source-dedup-keys" class="dfn-panel" data-for="attribution-source-dedup-keys" id="infopanel-for-attribution-source-dedup-keys">
   <span id="infopaneltitle-for-attribution-source-dedup-keys" style="display:none">Info about the 'dedup keys' definition.</span><b><a href="#attribution-source-dedup-keys">#attribution-source-dedup-keys</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-attribution-source-dedup-keys">11.9. Triggering event-level attribution</a> <a href="#ref-for-attribution-source-dedup-keys①">(2)</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-attribution-source-randomized-response" class="dfn-panel" data-for="attribution-source-randomized-response" id="infopanel-for-attribution-source-randomized-response">
   <span id="infopaneltitle-for-attribution-source-randomized-response" style="display:none">Info about the 'randomized response' definition.</span><b><a href="#attribution-source-randomized-response">#attribution-source-randomized-response</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-attribution-source-randomized-response">10.4. Parsing source-registration JSON</a>
    <li><a href="#ref-for-attribution-source-randomized-response①">10.5. Processing an attribution source</a> <a href="#ref-for-attribution-source-randomized-response②">(2)</a> <a href="#ref-for-attribution-source-randomized-response③">(3)</a>
    <li><a href="#ref-for-attribution-source-randomized-response④">11.9. Triggering event-level attribution</a> <a href="#ref-for-attribution-source-randomized-response⑤">(2)</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-attribution-source-randomized-trigger-rate" class="dfn-panel" data-for="attribution-source-randomized-trigger-rate" id="infopanel-for-attribution-source-randomized-trigger-rate">
   <span id="infopaneltitle-for-attribution-source-randomized-trigger-rate" style="display:none">Info about the 'randomized trigger rate' definition.</span><b><a href="#attribution-source-randomized-trigger-rate">#attribution-source-randomized-trigger-rate</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-attribution-source-randomized-trigger-rate">10.4. Parsing source-registration JSON</a>
    <li><a href="#ref-for-attribution-source-randomized-trigger-rate①">11.13. Obtaining an event-level report</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-attribution-source-filter-data" class="dfn-panel" data-for="attribution-source-filter-data" id="infopanel-for-attribution-source-filter-data">
   <span id="infopaneltitle-for-attribution-source-filter-data" style="display:none">Info about the 'filter data' definition.</span><b><a href="#attribution-source-filter-data">#attribution-source-filter-data</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-attribution-source-filter-data">8. Vendor-Specific Values</a> <a href="#ref-for-attribution-source-filter-data①">(2)</a>
    <li><a href="#ref-for-attribution-source-filter-data②">10.4. Parsing source-registration JSON</a>
    <li><a href="#ref-for-attribution-source-filter-data③">11.2. Does filter data match</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-attribution-source-debug-key" class="dfn-panel" data-for="attribution-source-debug-key" id="infopanel-for-attribution-source-debug-key">
   <span id="infopaneltitle-for-attribution-source-debug-key" style="display:none">Info about the 'debug key' definition.</span><b><a href="#attribution-source-debug-key">#attribution-source-debug-key</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-attribution-source-debug-key">10.4. Parsing source-registration JSON</a>
    <li><a href="#ref-for-attribution-source-debug-key①">10.5. Processing an attribution source</a> <a href="#ref-for-attribution-source-debug-key②">(2)</a>
    <li><a href="#ref-for-attribution-source-debug-key③">11.8. Obtaining debug data on trigger registration</a> <a href="#ref-for-attribution-source-debug-key④">(2)</a>
    <li><a href="#ref-for-attribution-source-debug-key⑤">11.13. Obtaining an event-level report</a>
    <li><a href="#ref-for-attribution-source-debug-key⑥">11.15. Obtaining an aggregatable report</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-attribution-source-aggregation-keys" class="dfn-panel" data-for="attribution-source-aggregation-keys" id="infopanel-for-attribution-source-aggregation-keys">
   <span id="infopaneltitle-for-attribution-source-aggregation-keys" style="display:none">Info about the 'aggregation keys' definition.</span><b><a href="#attribution-source-aggregation-keys">#attribution-source-aggregation-keys</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-attribution-source-aggregation-keys">8. Vendor-Specific Values</a>
    <li><a href="#ref-for-attribution-source-aggregation-keys①">10.4. Parsing source-registration JSON</a>
    <li><a href="#ref-for-attribution-source-aggregation-keys②">11.6. Creating aggregatable contributions</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-attribution-source-aggregatable-budget-consumed" class="dfn-panel" data-for="attribution-source-aggregatable-budget-consumed" id="infopanel-for-attribution-source-aggregatable-budget-consumed">
   <span id="infopaneltitle-for-attribution-source-aggregatable-budget-consumed" style="display:none">Info about the 'aggregatable budget consumed' definition.</span><b><a href="#attribution-source-aggregatable-budget-consumed">#attribution-source-aggregatable-budget-consumed</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-attribution-source-aggregatable-budget-consumed">10.4. Parsing source-registration JSON</a>
    <li><a href="#ref-for-attribution-source-aggregatable-budget-consumed①">11.7. Can source create aggregatable contributions</a>
    <li><a href="#ref-for-attribution-source-aggregatable-budget-consumed②">11.10. Triggering aggregatable attribution</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-attribution-source-aggregatable-dedup-keys" class="dfn-panel" data-for="attribution-source-aggregatable-dedup-keys" id="infopanel-for-attribution-source-aggregatable-dedup-keys">
   <span id="infopaneltitle-for-attribution-source-aggregatable-dedup-keys" style="display:none">Info about the 'aggregatable dedup keys' definition.</span><b><a href="#attribution-source-aggregatable-dedup-keys">#attribution-source-aggregatable-dedup-keys</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-attribution-source-aggregatable-dedup-keys">11.10. Triggering aggregatable attribution</a> <a href="#ref-for-attribution-source-aggregatable-dedup-keys①">(2)</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-attribution-source-debug-reporting-enabled" class="dfn-panel" data-for="attribution-source-debug-reporting-enabled" id="infopanel-for-attribution-source-debug-reporting-enabled">
   <span id="infopaneltitle-for-attribution-source-debug-reporting-enabled" style="display:none">Info about the 'debug reporting enabled' definition.</span><b><a href="#attribution-source-debug-reporting-enabled">#attribution-source-debug-reporting-enabled</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-attribution-source-debug-reporting-enabled">10.4. Parsing source-registration JSON</a>
    <li><a href="#ref-for-attribution-source-debug-reporting-enabled①">10.5. Processing an attribution source</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-attribution-source-expiry-time" class="dfn-panel" data-for="attribution-source-expiry-time" id="infopanel-for-attribution-source-expiry-time">
   <span id="infopaneltitle-for-attribution-source-expiry-time" style="display:none">Info about the 'expiry time' definition.</span><b><a href="#attribution-source-expiry-time">#attribution-source-expiry-time</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-attribution-source-expiry-time">10.5. Processing an attribution source</a> <a href="#ref-for-attribution-source-expiry-time①">(2)</a>
    <li><a href="#ref-for-attribution-source-expiry-time②">11.11. Triggering attribution</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-attribution-source-event-report-window-time" class="dfn-panel" data-for="attribution-source-event-report-window-time" id="infopanel-for-attribution-source-event-report-window-time">
   <span id="infopaneltitle-for-attribution-source-event-report-window-time" style="display:none">Info about the 'event report window time' definition.</span><b><a href="#attribution-source-event-report-window-time">#attribution-source-event-report-window-time</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-attribution-source-event-report-window-time">11.9. Triggering event-level attribution</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-attribution-source-aggregatable-report-window-time" class="dfn-panel" data-for="attribution-source-aggregatable-report-window-time" id="infopanel-for-attribution-source-aggregatable-report-window-time">
   <span id="infopaneltitle-for-attribution-source-aggregatable-report-window-time" style="display:none">Info about the 'aggregatable report window time' definition.</span><b><a href="#attribution-source-aggregatable-report-window-time">#attribution-source-aggregatable-report-window-time</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-attribution-source-aggregatable-report-window-time">11.10. Triggering aggregatable attribution</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-attribution-source-source-site" class="dfn-panel" data-for="attribution-source-source-site" id="infopanel-for-attribution-source-source-site">
   <span id="infopaneltitle-for-attribution-source-source-site" style="display:none">Info about the 'source site' definition.</span><b><a href="#attribution-source-source-site">#attribution-source-source-site</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-attribution-source-source-site">8. Vendor-Specific Values</a>
    <li><a href="#ref-for-attribution-source-source-site①">10.5. Processing an attribution source</a> <a href="#ref-for-attribution-source-source-site②">(2)</a> <a href="#ref-for-attribution-source-source-site③">(3)</a> <a href="#ref-for-attribution-source-source-site④">(4)</a>
    <li><a href="#ref-for-attribution-source-source-site⑤">11.3. Should attribution be blocked by attribution rate limit</a>
    <li><a href="#ref-for-attribution-source-source-site⑥">11.8. Obtaining debug data on trigger registration</a>
    <li><a href="#ref-for-attribution-source-source-site⑦">11.11. Triggering attribution</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-aggregatable-trigger-data" class="dfn-panel" data-for="aggregatable-trigger-data" id="infopanel-for-aggregatable-trigger-data">
   <span id="infopaneltitle-for-aggregatable-trigger-data" style="display:none">Info about the '6.8. Aggregatable trigger data' definition.</span><b><a href="#aggregatable-trigger-data">#aggregatable-trigger-data</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-aggregatable-trigger-data">6.8. Aggregatable trigger data</a>
    <li><a href="#ref-for-aggregatable-trigger-data">6.12. Attribution trigger</a>
    <li><a href="#ref-for-aggregatable-trigger-data①">8. Vendor-Specific Values</a>
    <li><a href="#ref-for-aggregatable-trigger-data②">11.1. Creating an attribution trigger</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-aggregatable-trigger-data-key-piece" class="dfn-panel" data-for="aggregatable-trigger-data-key-piece" id="infopanel-for-aggregatable-trigger-data-key-piece">
   <span id="infopaneltitle-for-aggregatable-trigger-data-key-piece" style="display:none">Info about the 'key piece' definition.</span><b><a href="#aggregatable-trigger-data-key-piece">#aggregatable-trigger-data-key-piece</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-aggregatable-trigger-data-key-piece">11.1. Creating an attribution trigger</a>
    <li><a href="#ref-for-aggregatable-trigger-data-key-piece①">11.6. Creating aggregatable contributions</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-aggregatable-trigger-data-source-keys" class="dfn-panel" data-for="aggregatable-trigger-data-source-keys" id="infopanel-for-aggregatable-trigger-data-source-keys">
   <span id="infopaneltitle-for-aggregatable-trigger-data-source-keys" style="display:none">Info about the 'source keys' definition.</span><b><a href="#aggregatable-trigger-data-source-keys">#aggregatable-trigger-data-source-keys</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-aggregatable-trigger-data-source-keys">8. Vendor-Specific Values</a>
    <li><a href="#ref-for-aggregatable-trigger-data-source-keys①">11.1. Creating an attribution trigger</a>
    <li><a href="#ref-for-aggregatable-trigger-data-source-keys②">11.6. Creating aggregatable contributions</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-aggregatable-trigger-data-filters" class="dfn-panel" data-for="aggregatable-trigger-data-filters" id="infopanel-for-aggregatable-trigger-data-filters">
   <span id="infopaneltitle-for-aggregatable-trigger-data-filters" style="display:none">Info about the 'filters' definition.</span><b><a href="#aggregatable-trigger-data-filters">#aggregatable-trigger-data-filters</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-aggregatable-trigger-data-filters">11.1. Creating an attribution trigger</a>
    <li><a href="#ref-for-aggregatable-trigger-data-filters①">11.6. Creating aggregatable contributions</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-aggregatable-trigger-data-negated-filters" class="dfn-panel" data-for="aggregatable-trigger-data-negated-filters" id="infopanel-for-aggregatable-trigger-data-negated-filters">
   <span id="infopaneltitle-for-aggregatable-trigger-data-negated-filters" style="display:none">Info about the 'negated filters' definition.</span><b><a href="#aggregatable-trigger-data-negated-filters">#aggregatable-trigger-data-negated-filters</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-aggregatable-trigger-data-negated-filters">11.1. Creating an attribution trigger</a>
    <li><a href="#ref-for-aggregatable-trigger-data-negated-filters①">11.6. Creating aggregatable contributions</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-aggregatable-dedup-key" class="dfn-panel" data-for="aggregatable-dedup-key" id="infopanel-for-aggregatable-dedup-key">
   <span id="infopaneltitle-for-aggregatable-dedup-key" style="display:none">Info about the '6.9. Aggregatable dedup key' definition.</span><b><a href="#aggregatable-dedup-key">#aggregatable-dedup-key</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-aggregatable-dedup-key">6.9. Aggregatable dedup key</a>
    <li><a href="#ref-for-aggregatable-dedup-key">6.12. Attribution trigger</a>
    <li><a href="#ref-for-aggregatable-dedup-key①">11.1. Creating an attribution trigger</a>
    <li><a href="#ref-for-aggregatable-dedup-key②">11.10. Triggering aggregatable attribution</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-aggregatable-dedup-key-dedup-key" class="dfn-panel" data-for="aggregatable-dedup-key-dedup-key" id="infopanel-for-aggregatable-dedup-key-dedup-key">
   <span id="infopaneltitle-for-aggregatable-dedup-key-dedup-key" style="display:none">Info about the 'dedup key' definition.</span><b><a href="#aggregatable-dedup-key-dedup-key">#aggregatable-dedup-key-dedup-key</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-aggregatable-dedup-key-dedup-key">6.7. Attribution source</a>
    <li><a href="#ref-for-aggregatable-dedup-key-dedup-key①">11.1. Creating an attribution trigger</a>
    <li><a href="#ref-for-aggregatable-dedup-key-dedup-key②">11.10. Triggering aggregatable attribution</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-aggregatable-dedup-key-filters" class="dfn-panel" data-for="aggregatable-dedup-key-filters" id="infopanel-for-aggregatable-dedup-key-filters">
   <span id="infopaneltitle-for-aggregatable-dedup-key-filters" style="display:none">Info about the 'filters' definition.</span><b><a href="#aggregatable-dedup-key-filters">#aggregatable-dedup-key-filters</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-aggregatable-dedup-key-filters">11.1. Creating an attribution trigger</a>
    <li><a href="#ref-for-aggregatable-dedup-key-filters①">11.10. Triggering aggregatable attribution</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-aggregatable-dedup-key-negated-filters" class="dfn-panel" data-for="aggregatable-dedup-key-negated-filters" id="infopanel-for-aggregatable-dedup-key-negated-filters">
   <span id="infopaneltitle-for-aggregatable-dedup-key-negated-filters" style="display:none">Info about the 'negated filters' definition.</span><b><a href="#aggregatable-dedup-key-negated-filters">#aggregatable-dedup-key-negated-filters</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-aggregatable-dedup-key-negated-filters">11.1. Creating an attribution trigger</a>
    <li><a href="#ref-for-aggregatable-dedup-key-negated-filters①">11.10. Triggering aggregatable attribution</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-event-level-trigger-configuration" class="dfn-panel" data-for="event-level-trigger-configuration" id="infopanel-for-event-level-trigger-configuration">
   <span id="infopaneltitle-for-event-level-trigger-configuration" style="display:none">Info about the '6.10. Event-level trigger configuration' definition.</span><b><a href="#event-level-trigger-configuration">#event-level-trigger-configuration</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-event-level-trigger-configuration">6.10. Event-level trigger configuration</a>
    <li><a href="#ref-for-event-level-trigger-configuration">6.12. Attribution trigger</a>
    <li><a href="#ref-for-event-level-trigger-configuration①">10.5. Processing an attribution source</a>
    <li><a href="#ref-for-event-level-trigger-configuration②">11.1. Creating an attribution trigger</a>
    <li><a href="#ref-for-event-level-trigger-configuration③">11.9. Triggering event-level attribution</a>
    <li><a href="#ref-for-event-level-trigger-configuration④">11.13. Obtaining an event-level report</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-event-level-trigger-configuration-trigger-data" class="dfn-panel" data-for="event-level-trigger-configuration-trigger-data" id="infopanel-for-event-level-trigger-configuration-trigger-data">
   <span id="infopaneltitle-for-event-level-trigger-configuration-trigger-data" style="display:none">Info about the 'trigger data' definition.</span><b><a href="#event-level-trigger-configuration-trigger-data">#event-level-trigger-configuration-trigger-data</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-event-level-trigger-configuration-trigger-data">8. Vendor-Specific Values</a> <a href="#ref-for-event-level-trigger-configuration-trigger-data①">(2)</a> <a href="#ref-for-event-level-trigger-configuration-trigger-data②">(3)</a> <a href="#ref-for-event-level-trigger-configuration-trigger-data③">(4)</a>
    <li><a href="#ref-for-event-level-trigger-configuration-trigger-data④">10.5. Processing an attribution source</a>
    <li><a href="#ref-for-event-level-trigger-configuration-trigger-data⑤">11.1. Creating an attribution trigger</a>
    <li><a href="#ref-for-event-level-trigger-configuration-trigger-data⑥">11.13. Obtaining an event-level report</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-event-level-trigger-configuration-dedup-key" class="dfn-panel" data-for="event-level-trigger-configuration-dedup-key" id="infopanel-for-event-level-trigger-configuration-dedup-key">
   <span id="infopaneltitle-for-event-level-trigger-configuration-dedup-key" style="display:none">Info about the 'dedup key' definition.</span><b><a href="#event-level-trigger-configuration-dedup-key">#event-level-trigger-configuration-dedup-key</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-event-level-trigger-configuration-dedup-key">6.7. Attribution source</a>
    <li><a href="#ref-for-event-level-trigger-configuration-dedup-key①">10.5. Processing an attribution source</a>
    <li><a href="#ref-for-event-level-trigger-configuration-dedup-key②">11.1. Creating an attribution trigger</a>
    <li><a href="#ref-for-event-level-trigger-configuration-dedup-key③">11.9. Triggering event-level attribution</a> <a href="#ref-for-event-level-trigger-configuration-dedup-key④">(2)</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-event-level-trigger-configuration-priority" class="dfn-panel" data-for="event-level-trigger-configuration-priority" id="infopanel-for-event-level-trigger-configuration-priority">
   <span id="infopaneltitle-for-event-level-trigger-configuration-priority" style="display:none">Info about the 'priority' definition.</span><b><a href="#event-level-trigger-configuration-priority">#event-level-trigger-configuration-priority</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-event-level-trigger-configuration-priority">10.5. Processing an attribution source</a>
    <li><a href="#ref-for-event-level-trigger-configuration-priority①">11.1. Creating an attribution trigger</a>
    <li><a href="#ref-for-event-level-trigger-configuration-priority②">11.13. Obtaining an event-level report</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-event-level-trigger-configuration-filters" class="dfn-panel" data-for="event-level-trigger-configuration-filters" id="infopanel-for-event-level-trigger-configuration-filters">
   <span id="infopaneltitle-for-event-level-trigger-configuration-filters" style="display:none">Info about the 'filters' definition.</span><b><a href="#event-level-trigger-configuration-filters">#event-level-trigger-configuration-filters</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-event-level-trigger-configuration-filters">10.5. Processing an attribution source</a>
    <li><a href="#ref-for-event-level-trigger-configuration-filters①">11.1. Creating an attribution trigger</a>
    <li><a href="#ref-for-event-level-trigger-configuration-filters②">11.9. Triggering event-level attribution</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-event-level-trigger-configuration-negated-filters" class="dfn-panel" data-for="event-level-trigger-configuration-negated-filters" id="infopanel-for-event-level-trigger-configuration-negated-filters">
   <span id="infopaneltitle-for-event-level-trigger-configuration-negated-filters" style="display:none">Info about the 'negated filters' definition.</span><b><a href="#event-level-trigger-configuration-negated-filters">#event-level-trigger-configuration-negated-filters</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-event-level-trigger-configuration-negated-filters">11.1. Creating an attribution trigger</a>
    <li><a href="#ref-for-event-level-trigger-configuration-negated-filters①">11.9. Triggering event-level attribution</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-aggregation-coordinator" class="dfn-panel" data-for="aggregation-coordinator" id="infopanel-for-aggregation-coordinator">
   <span id="infopaneltitle-for-aggregation-coordinator" style="display:none">Info about the 'aggregation coordinator' definition.</span><b><a href="#aggregation-coordinator">#aggregation-coordinator</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-aggregation-coordinator">6.12. Attribution trigger</a>
    <li><a href="#ref-for-aggregation-coordinator①">6.16. Aggregatable report</a>
    <li><a href="#ref-for-aggregation-coordinator②">8. Vendor-Specific Values</a>
    <li><a href="#ref-for-aggregation-coordinator③">11.1. Creating an attribution trigger</a>
    <li><a href="#ref-for-aggregation-coordinator④">12.4. Obtaining an aggregatable report’s aggregation service payloads</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-attribution-trigger" class="dfn-panel" data-for="attribution-trigger" id="infopanel-for-attribution-trigger">
   <span id="infopaneltitle-for-attribution-trigger" style="display:none">Info about the '6.12. Attribution trigger' definition.</span><b><a href="#attribution-trigger">#attribution-trigger</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-attribution-trigger">1.1. Overview</a> <a href="#ref-for-attribution-trigger①">(2)</a>
    <li><a href="#ref-for-attribution-trigger②">2.1. API for elements</a> <a href="#ref-for-attribution-trigger③">(2)</a>
    <li><a href="#ref-for-attribution-trigger">6.12. Attribution trigger</a>
    <li><a href="#ref-for-attribution-trigger④">8. Vendor-Specific Values</a>
    <li><a href="#ref-for-attribution-trigger⑤">9.10. Making a background attributionsrc request</a>
    <li><a href="#ref-for-attribution-trigger⑥">10.5. Processing an attribution source</a>
    <li><a href="#ref-for-attribution-trigger⑦">11.1. Creating an attribution trigger</a>
    <li><a href="#ref-for-attribution-trigger⑧">11.3. Should attribution be blocked by attribution rate limit</a>
    <li><a href="#ref-for-attribution-trigger⑨">11.5. Should attribution be blocked by rate limits</a>
    <li><a href="#ref-for-attribution-trigger①⓪">11.6. Creating aggregatable contributions</a>
    <li><a href="#ref-for-attribution-trigger①①">11.8. Obtaining debug data on trigger registration</a> <a href="#ref-for-attribution-trigger①②">(2)</a>
    <li><a href="#ref-for-attribution-trigger①③">11.9. Triggering event-level attribution</a>
    <li><a href="#ref-for-attribution-trigger①④">11.10. Triggering aggregatable attribution</a>
    <li><a href="#ref-for-attribution-trigger①⑤">11.11. Triggering attribution</a> <a href="#ref-for-attribution-trigger①⑥">(2)</a> <a href="#ref-for-attribution-trigger①⑦">(3)</a>
    <li><a href="#ref-for-attribution-trigger①⑧">11.13. Obtaining an event-level report</a>
    <li><a href="#ref-for-attribution-trigger①⑨">11.15. Obtaining an aggregatable report</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-attribution-trigger-attribution-destination" class="dfn-panel" data-for="attribution-trigger-attribution-destination" id="infopanel-for-attribution-trigger-attribution-destination">
   <span id="infopaneltitle-for-attribution-trigger-attribution-destination" style="display:none">Info about the 'attribution destination' definition.</span><b><a href="#attribution-trigger-attribution-destination">#attribution-trigger-attribution-destination</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-attribution-trigger-attribution-destination">10.5. Processing an attribution source</a>
    <li><a href="#ref-for-attribution-trigger-attribution-destination①">11.1. Creating an attribution trigger</a>
    <li><a href="#ref-for-attribution-trigger-attribution-destination②">11.3. Should attribution be blocked by attribution rate limit</a>
    <li><a href="#ref-for-attribution-trigger-attribution-destination③">11.8. Obtaining debug data on trigger registration</a>
    <li><a href="#ref-for-attribution-trigger-attribution-destination④">11.9. Triggering event-level attribution</a>
    <li><a href="#ref-for-attribution-trigger-attribution-destination⑤">11.10. Triggering aggregatable attribution</a>
    <li><a href="#ref-for-attribution-trigger-attribution-destination⑥">11.11. Triggering attribution</a> <a href="#ref-for-attribution-trigger-attribution-destination⑦">(2)</a>
    <li><a href="#ref-for-attribution-trigger-attribution-destination⑧">11.15. Obtaining an aggregatable report</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-attribution-trigger-trigger-time" class="dfn-panel" data-for="attribution-trigger-trigger-time" id="infopanel-for-attribution-trigger-trigger-time">
   <span id="infopaneltitle-for-attribution-trigger-trigger-time" style="display:none">Info about the 'trigger time' definition.</span><b><a href="#attribution-trigger-trigger-time">#attribution-trigger-trigger-time</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-attribution-trigger-trigger-time">10.5. Processing an attribution source</a>
    <li><a href="#ref-for-attribution-trigger-trigger-time①">11.1. Creating an attribution trigger</a>
    <li><a href="#ref-for-attribution-trigger-trigger-time②">11.3. Should attribution be blocked by attribution rate limit</a>
    <li><a href="#ref-for-attribution-trigger-trigger-time③">11.9. Triggering event-level attribution</a>
    <li><a href="#ref-for-attribution-trigger-trigger-time④">11.10. Triggering aggregatable attribution</a>
    <li><a href="#ref-for-attribution-trigger-trigger-time⑤">11.11. Triggering attribution</a> <a href="#ref-for-attribution-trigger-trigger-time⑥">(2)</a>
    <li><a href="#ref-for-attribution-trigger-trigger-time⑦">11.13. Obtaining an event-level report</a> <a href="#ref-for-attribution-trigger-trigger-time⑧">(2)</a>
    <li><a href="#ref-for-attribution-trigger-trigger-time⑨">11.15. Obtaining an aggregatable report</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-attribution-trigger-reporting-endpoint" class="dfn-panel" data-for="attribution-trigger-reporting-endpoint" id="infopanel-for-attribution-trigger-reporting-endpoint">
   <span id="infopaneltitle-for-attribution-trigger-reporting-endpoint" style="display:none">Info about the 'reporting endpoint' definition.</span><b><a href="#attribution-trigger-reporting-endpoint">#attribution-trigger-reporting-endpoint</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-attribution-trigger-reporting-endpoint">8. Vendor-Specific Values</a>
    <li><a href="#ref-for-attribution-trigger-reporting-endpoint①">10.5. Processing an attribution source</a>
    <li><a href="#ref-for-attribution-trigger-reporting-endpoint②">11.1. Creating an attribution trigger</a>
    <li><a href="#ref-for-attribution-trigger-reporting-endpoint③">11.3. Should attribution be blocked by attribution rate limit</a>
    <li><a href="#ref-for-attribution-trigger-reporting-endpoint④">11.8. Obtaining debug data on trigger registration</a>
    <li><a href="#ref-for-attribution-trigger-reporting-endpoint⑤">11.11. Triggering attribution</a> <a href="#ref-for-attribution-trigger-reporting-endpoint⑥">(2)</a> <a href="#ref-for-attribution-trigger-reporting-endpoint⑦">(3)</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-attribution-trigger-filters" class="dfn-panel" data-for="attribution-trigger-filters" id="infopanel-for-attribution-trigger-filters">
   <span id="infopaneltitle-for-attribution-trigger-filters" style="display:none">Info about the 'filters' definition.</span><b><a href="#attribution-trigger-filters">#attribution-trigger-filters</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-attribution-trigger-filters">10.5. Processing an attribution source</a>
    <li><a href="#ref-for-attribution-trigger-filters①">11.1. Creating an attribution trigger</a>
    <li><a href="#ref-for-attribution-trigger-filters②">11.11. Triggering attribution</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-attribution-trigger-negated-filters" class="dfn-panel" data-for="attribution-trigger-negated-filters" id="infopanel-for-attribution-trigger-negated-filters">
   <span id="infopaneltitle-for-attribution-trigger-negated-filters" style="display:none">Info about the 'negated filters' definition.</span><b><a href="#attribution-trigger-negated-filters">#attribution-trigger-negated-filters</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-attribution-trigger-negated-filters">11.1. Creating an attribution trigger</a>
    <li><a href="#ref-for-attribution-trigger-negated-filters①">11.11. Triggering attribution</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-attribution-trigger-debug-key" class="dfn-panel" data-for="attribution-trigger-debug-key" id="infopanel-for-attribution-trigger-debug-key">
   <span id="infopaneltitle-for-attribution-trigger-debug-key" style="display:none">Info about the 'debug key' definition.</span><b><a href="#attribution-trigger-debug-key">#attribution-trigger-debug-key</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-attribution-trigger-debug-key">10.5. Processing an attribution source</a>
    <li><a href="#ref-for-attribution-trigger-debug-key①">11.1. Creating an attribution trigger</a>
    <li><a href="#ref-for-attribution-trigger-debug-key②">11.8. Obtaining debug data on trigger registration</a> <a href="#ref-for-attribution-trigger-debug-key③">(2)</a>
    <li><a href="#ref-for-attribution-trigger-debug-key④">11.13. Obtaining an event-level report</a>
    <li><a href="#ref-for-attribution-trigger-debug-key⑤">11.15. Obtaining an aggregatable report</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-attribution-trigger-event-level-trigger-configurations" class="dfn-panel" data-for="attribution-trigger-event-level-trigger-configurations" id="infopanel-for-attribution-trigger-event-level-trigger-configurations">
   <span id="infopaneltitle-for-attribution-trigger-event-level-trigger-configurations" style="display:none">Info about the 'event-level trigger configurations' definition.</span><b><a href="#attribution-trigger-event-level-trigger-configurations">#attribution-trigger-event-level-trigger-configurations</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-attribution-trigger-event-level-trigger-configurations">10.5. Processing an attribution source</a>
    <li><a href="#ref-for-attribution-trigger-event-level-trigger-configurations①">11.1. Creating an attribution trigger</a>
    <li><a href="#ref-for-attribution-trigger-event-level-trigger-configurations②">11.9. Triggering event-level attribution</a> <a href="#ref-for-attribution-trigger-event-level-trigger-configurations③">(2)</a>
    <li><a href="#ref-for-attribution-trigger-event-level-trigger-configurations④">11.11. Triggering attribution</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-attribution-trigger-aggregatable-trigger-data" class="dfn-panel" data-for="attribution-trigger-aggregatable-trigger-data" id="infopanel-for-attribution-trigger-aggregatable-trigger-data">
   <span id="infopaneltitle-for-attribution-trigger-aggregatable-trigger-data" style="display:none">Info about the 'aggregatable trigger data' definition.</span><b><a href="#attribution-trigger-aggregatable-trigger-data">#attribution-trigger-aggregatable-trigger-data</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-attribution-trigger-aggregatable-trigger-data">10.5. Processing an attribution source</a>
    <li><a href="#ref-for-attribution-trigger-aggregatable-trigger-data①">11.1. Creating an attribution trigger</a>
    <li><a href="#ref-for-attribution-trigger-aggregatable-trigger-data②">11.6. Creating aggregatable contributions</a>
    <li><a href="#ref-for-attribution-trigger-aggregatable-trigger-data③">11.10. Triggering aggregatable attribution</a>
    <li><a href="#ref-for-attribution-trigger-aggregatable-trigger-data④">11.11. Triggering attribution</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-attribution-trigger-aggregatable-values" class="dfn-panel" data-for="attribution-trigger-aggregatable-values" id="infopanel-for-attribution-trigger-aggregatable-values">
   <span id="infopaneltitle-for-attribution-trigger-aggregatable-values" style="display:none">Info about the 'aggregatable values' definition.</span><b><a href="#attribution-trigger-aggregatable-values">#attribution-trigger-aggregatable-values</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-attribution-trigger-aggregatable-values">8. Vendor-Specific Values</a>
    <li><a href="#ref-for-attribution-trigger-aggregatable-values①">10.5. Processing an attribution source</a>
    <li><a href="#ref-for-attribution-trigger-aggregatable-values②">11.1. Creating an attribution trigger</a>
    <li><a href="#ref-for-attribution-trigger-aggregatable-values③">11.6. Creating aggregatable contributions</a>
    <li><a href="#ref-for-attribution-trigger-aggregatable-values④">11.10. Triggering aggregatable attribution</a>
    <li><a href="#ref-for-attribution-trigger-aggregatable-values⑤">11.11. Triggering attribution</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-attribution-trigger-aggregatable-dedup-keys" class="dfn-panel" data-for="attribution-trigger-aggregatable-dedup-keys" id="infopanel-for-attribution-trigger-aggregatable-dedup-keys">
   <span id="infopaneltitle-for-attribution-trigger-aggregatable-dedup-keys" style="display:none">Info about the 'aggregatable dedup keys' definition.</span><b><a href="#attribution-trigger-aggregatable-dedup-keys">#attribution-trigger-aggregatable-dedup-keys</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-attribution-trigger-aggregatable-dedup-keys">10.5. Processing an attribution source</a>
    <li><a href="#ref-for-attribution-trigger-aggregatable-dedup-keys①">11.1. Creating an attribution trigger</a>
    <li><a href="#ref-for-attribution-trigger-aggregatable-dedup-keys②">11.10. Triggering aggregatable attribution</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-attribution-trigger-serialized-private-state-token" class="dfn-panel" data-for="attribution-trigger-serialized-private-state-token" id="infopanel-for-attribution-trigger-serialized-private-state-token">
   <span id="infopaneltitle-for-attribution-trigger-serialized-private-state-token" style="display:none">Info about the 'serialized private state token' definition.</span><b><a href="#attribution-trigger-serialized-private-state-token">#attribution-trigger-serialized-private-state-token</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-attribution-trigger-serialized-private-state-token">11.1. Creating an attribution trigger</a>
    <li><a href="#ref-for-attribution-trigger-serialized-private-state-token①">11.15. Obtaining an aggregatable report</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-attribution-trigger-debug-reporting-enabled" class="dfn-panel" data-for="attribution-trigger-debug-reporting-enabled" id="infopanel-for-attribution-trigger-debug-reporting-enabled">
   <span id="infopaneltitle-for-attribution-trigger-debug-reporting-enabled" style="display:none">Info about the 'debug reporting enabled' definition.</span><b><a href="#attribution-trigger-debug-reporting-enabled">#attribution-trigger-debug-reporting-enabled</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-attribution-trigger-debug-reporting-enabled">10.5. Processing an attribution source</a>
    <li><a href="#ref-for-attribution-trigger-debug-reporting-enabled①">11.1. Creating an attribution trigger</a>
    <li><a href="#ref-for-attribution-trigger-debug-reporting-enabled②">11.8. Obtaining debug data on trigger registration</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-attribution-trigger-aggregation-coordinator" class="dfn-panel" data-for="attribution-trigger-aggregation-coordinator" id="infopanel-for-attribution-trigger-aggregation-coordinator">
   <span id="infopaneltitle-for-attribution-trigger-aggregation-coordinator" style="display:none">Info about the 'aggregation coordinator' definition.</span><b><a href="#attribution-trigger-aggregation-coordinator">#attribution-trigger-aggregation-coordinator</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-attribution-trigger-aggregation-coordinator">10.5. Processing an attribution source</a>
    <li><a href="#ref-for-attribution-trigger-aggregation-coordinator①">11.1. Creating an attribution trigger</a>
    <li><a href="#ref-for-attribution-trigger-aggregation-coordinator②">11.15. Obtaining an aggregatable report</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-attribution-report" class="dfn-panel" data-for="attribution-report" id="infopanel-for-attribution-report">
   <span id="infopaneltitle-for-attribution-report" style="display:none">Info about the '6.13. Attribution report' definition.</span><b><a href="#attribution-report">#attribution-report</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-attribution-report">1.1. Overview</a> <a href="#ref-for-attribution-report①">(2)</a>
    <li><a href="#ref-for-attribution-report">6.13. Attribution report</a>
    <li><a href="#ref-for-attribution-report②">6.14. Event-level report</a>
    <li><a href="#ref-for-attribution-report③">6.16. Aggregatable report</a>
    <li><a href="#ref-for-attribution-report④">11.8. Obtaining debug data on trigger registration</a> <a href="#ref-for-attribution-report⑤">(2)</a>
    <li><a href="#ref-for-attribution-report⑥">12. Report delivery</a>
    <li><a href="#ref-for-attribution-report⑦">12.5. Serialize attribution report body</a> <a href="#ref-for-attribution-report⑧">(2)</a>
    <li><a href="#ref-for-attribution-report⑨">12.7. Get report request URL</a>
    <li><a href="#ref-for-attribution-report①⓪">12.9. Get report request headers</a>
    <li><a href="#ref-for-attribution-report①①">12.10. Issuing a report request</a> <a href="#ref-for-attribution-report①②">(2)</a>
    <li><a href="#ref-for-attribution-report①③">12.11. Issuing a debug report request</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-attribution-report-reporting-endpoint" class="dfn-panel" data-for="attribution-report-reporting-endpoint" id="infopanel-for-attribution-report-reporting-endpoint">
   <span id="infopaneltitle-for-attribution-report-reporting-endpoint" style="display:none">Info about the 'reporting endpoint' definition.</span><b><a href="#attribution-report-reporting-endpoint">#attribution-report-reporting-endpoint</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-attribution-report-reporting-endpoint">5. Clear Site Data integration</a> <a href="#ref-for-attribution-report-reporting-endpoint①">(2)</a>
    <li><a href="#ref-for-attribution-report-reporting-endpoint②">11.13. Obtaining an event-level report</a>
    <li><a href="#ref-for-attribution-report-reporting-endpoint③">11.15. Obtaining an aggregatable report</a>
    <li><a href="#ref-for-attribution-report-reporting-endpoint④">12.3. Obtaining an aggregatable report’s shared info</a>
    <li><a href="#ref-for-attribution-report-reporting-endpoint⑤">12.7. Get report request URL</a>
    <li><a href="#ref-for-attribution-report-reporting-endpoint⑥">15.1. Clearing attribution storage</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-attribution-report-report-time" class="dfn-panel" data-for="attribution-report-report-time" id="infopanel-for-attribution-report-report-time">
   <span id="infopaneltitle-for-attribution-report-report-time" style="display:none">Info about the 'report time' definition.</span><b><a href="#attribution-report-report-time">#attribution-report-report-time</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-attribution-report-report-time">10.5. Processing an attribution source</a>
    <li><a href="#ref-for-attribution-report-report-time①">11.9. Triggering event-level attribution</a> <a href="#ref-for-attribution-report-report-time②">(2)</a>
    <li><a href="#ref-for-attribution-report-report-time③">11.13. Obtaining an event-level report</a>
    <li><a href="#ref-for-attribution-report-report-time④">11.15. Obtaining an aggregatable report</a>
    <li><a href="#ref-for-attribution-report-report-time⑤">12. Report delivery</a> <a href="#ref-for-attribution-report-report-time⑥">(2)</a> <a href="#ref-for-attribution-report-report-time⑦">(3)</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-attribution-report-original-report-time" class="dfn-panel" data-for="attribution-report-original-report-time" id="infopanel-for-attribution-report-original-report-time">
   <span id="infopaneltitle-for-attribution-report-original-report-time" style="display:none">Info about the 'original report time' definition.</span><b><a href="#attribution-report-original-report-time">#attribution-report-original-report-time</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-attribution-report-original-report-time">11.13. Obtaining an event-level report</a>
    <li><a href="#ref-for-attribution-report-original-report-time①">11.15. Obtaining an aggregatable report</a>
    <li><a href="#ref-for-attribution-report-original-report-time②">12.3. Obtaining an aggregatable report’s shared info</a>
    <li><a href="#ref-for-attribution-report-original-report-time③">12.5. Serialize attribution report body</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-attribution-report-delivered" class="dfn-panel" data-for="attribution-report-delivered" id="infopanel-for-attribution-report-delivered">
   <span id="infopaneltitle-for-attribution-report-delivered" style="display:none">Info about the 'delivered' definition.</span><b><a href="#attribution-report-delivered">#attribution-report-delivered</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-attribution-report-delivered">12. Report delivery</a> <a href="#ref-for-attribution-report-delivered①">(2)</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-attribution-report-report-id" class="dfn-panel" data-for="attribution-report-report-id" id="infopanel-for-attribution-report-report-id">
   <span id="infopaneltitle-for-attribution-report-report-id" style="display:none">Info about the 'report ID' definition.</span><b><a href="#attribution-report-report-id">#attribution-report-report-id</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-attribution-report-report-id">11.13. Obtaining an event-level report</a>
    <li><a href="#ref-for-attribution-report-report-id①">11.15. Obtaining an aggregatable report</a>
    <li><a href="#ref-for-attribution-report-report-id②">12.3. Obtaining an aggregatable report’s shared info</a>
    <li><a href="#ref-for-attribution-report-report-id③">12.5. Serialize attribution report body</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-attribution-report-source-debug-key" class="dfn-panel" data-for="attribution-report-source-debug-key" id="infopanel-for-attribution-report-source-debug-key">
   <span id="infopaneltitle-for-attribution-report-source-debug-key" style="display:none">Info about the 'source debug key' definition.</span><b><a href="#attribution-report-source-debug-key">#attribution-report-source-debug-key</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-attribution-report-source-debug-key">11.9. Triggering event-level attribution</a>
    <li><a href="#ref-for-attribution-report-source-debug-key①">11.10. Triggering aggregatable attribution</a>
    <li><a href="#ref-for-attribution-report-source-debug-key②">11.13. Obtaining an event-level report</a>
    <li><a href="#ref-for-attribution-report-source-debug-key③">11.15. Obtaining an aggregatable report</a>
    <li><a href="#ref-for-attribution-report-source-debug-key④">12.2. Obtaining an aggregatable report’s debug mode</a>
    <li><a href="#ref-for-attribution-report-source-debug-key⑤">12.5. Serialize attribution report body</a> <a href="#ref-for-attribution-report-source-debug-key⑥">(2)</a> <a href="#ref-for-attribution-report-source-debug-key⑦">(3)</a> <a href="#ref-for-attribution-report-source-debug-key⑧">(4)</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-attribution-report-trigger-debug-key" class="dfn-panel" data-for="attribution-report-trigger-debug-key" id="infopanel-for-attribution-report-trigger-debug-key">
   <span id="infopaneltitle-for-attribution-report-trigger-debug-key" style="display:none">Info about the 'trigger debug key' definition.</span><b><a href="#attribution-report-trigger-debug-key">#attribution-report-trigger-debug-key</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-attribution-report-trigger-debug-key">11.9. Triggering event-level attribution</a>
    <li><a href="#ref-for-attribution-report-trigger-debug-key①">11.10. Triggering aggregatable attribution</a>
    <li><a href="#ref-for-attribution-report-trigger-debug-key②">11.13. Obtaining an event-level report</a>
    <li><a href="#ref-for-attribution-report-trigger-debug-key③">11.15. Obtaining an aggregatable report</a>
    <li><a href="#ref-for-attribution-report-trigger-debug-key④">12.2. Obtaining an aggregatable report’s debug mode</a>
    <li><a href="#ref-for-attribution-report-trigger-debug-key⑤">12.5. Serialize attribution report body</a> <a href="#ref-for-attribution-report-trigger-debug-key⑥">(2)</a> <a href="#ref-for-attribution-report-trigger-debug-key⑦">(3)</a> <a href="#ref-for-attribution-report-trigger-debug-key⑧">(4)</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-event-level-report" class="dfn-panel" data-for="event-level-report" id="infopanel-for-event-level-report">
   <span id="infopaneltitle-for-event-level-report" style="display:none">Info about the '6.14. Event-level report' definition.</span><b><a href="#event-level-report">#event-level-report</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-event-level-report">5. Clear Site Data integration</a>
    <li><a href="#ref-for-event-level-report①">6.7. Attribution source</a>
    <li><a href="#ref-for-event-level-report">6.14. Event-level report</a>
    <li><a href="#ref-for-event-level-report②">7. Storage</a>
    <li><a href="#ref-for-event-level-report③">8. Vendor-Specific Values</a> <a href="#ref-for-event-level-report④">(2)</a> <a href="#ref-for-event-level-report⑤">(3)</a> <a href="#ref-for-event-level-report⑥">(4)</a>
    <li><a href="#ref-for-event-level-report⑦">11.8. Obtaining debug data on trigger registration</a>
    <li><a href="#ref-for-event-level-report⑧">11.13. Obtaining an event-level report</a>
    <li><a href="#ref-for-event-level-report⑨">12.5. Serialize attribution report body</a> <a href="#ref-for-event-level-report①⓪">(2)</a>
    <li><a href="#ref-for-event-level-report①①">12.7. Get report request URL</a>
    <li><a href="#ref-for-event-level-report①②">12.10. Issuing a report request</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-event-level-report-event-id" class="dfn-panel" data-for="event-level-report-event-id" id="infopanel-for-event-level-report-event-id">
   <span id="infopaneltitle-for-event-level-report-event-id" style="display:none">Info about the 'event ID' definition.</span><b><a href="#event-level-report-event-id">#event-level-report-event-id</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-event-level-report-event-id">11.13. Obtaining an event-level report</a>
    <li><a href="#ref-for-event-level-report-event-id①">12.5. Serialize attribution report body</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-event-level-report-source-type" class="dfn-panel" data-for="event-level-report-source-type" id="infopanel-for-event-level-report-source-type">
   <span id="infopaneltitle-for-event-level-report-source-type" style="display:none">Info about the 'source type' definition.</span><b><a href="#event-level-report-source-type">#event-level-report-source-type</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-event-level-report-source-type">12.5. Serialize attribution report body</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-event-level-report-trigger-data" class="dfn-panel" data-for="event-level-report-trigger-data" id="infopanel-for-event-level-report-trigger-data">
   <span id="infopaneltitle-for-event-level-report-trigger-data" style="display:none">Info about the 'trigger data' definition.</span><b><a href="#event-level-report-trigger-data">#event-level-report-trigger-data</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-event-level-report-trigger-data">11.13. Obtaining an event-level report</a>
    <li><a href="#ref-for-event-level-report-trigger-data①">12.5. Serialize attribution report body</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-event-level-report-randomized-trigger-rate" class="dfn-panel" data-for="event-level-report-randomized-trigger-rate" id="infopanel-for-event-level-report-randomized-trigger-rate">
   <span id="infopaneltitle-for-event-level-report-randomized-trigger-rate" style="display:none">Info about the 'randomized trigger rate' definition.</span><b><a href="#event-level-report-randomized-trigger-rate">#event-level-report-randomized-trigger-rate</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-event-level-report-randomized-trigger-rate">11.13. Obtaining an event-level report</a>
    <li><a href="#ref-for-event-level-report-randomized-trigger-rate①">12.5. Serialize attribution report body</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-event-level-report-trigger-priority" class="dfn-panel" data-for="event-level-report-trigger-priority" id="infopanel-for-event-level-report-trigger-priority">
   <span id="infopaneltitle-for-event-level-report-trigger-priority" style="display:none">Info about the 'trigger priority' definition.</span><b><a href="#event-level-report-trigger-priority">#event-level-report-trigger-priority</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-event-level-report-trigger-priority">11.9. Triggering event-level attribution</a> <a href="#ref-for-event-level-report-trigger-priority①">(2)</a> <a href="#ref-for-event-level-report-trigger-priority②">(3)</a> <a href="#ref-for-event-level-report-trigger-priority③">(4)</a> <a href="#ref-for-event-level-report-trigger-priority④">(5)</a> <a href="#ref-for-event-level-report-trigger-priority⑤">(6)</a>
    <li><a href="#ref-for-event-level-report-trigger-priority⑥">11.13. Obtaining an event-level report</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-event-level-report-trigger-time" class="dfn-panel" data-for="event-level-report-trigger-time" id="infopanel-for-event-level-report-trigger-time">
   <span id="infopaneltitle-for-event-level-report-trigger-time" style="display:none">Info about the 'trigger time' definition.</span><b><a href="#event-level-report-trigger-time">#event-level-report-trigger-time</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-event-level-report-trigger-time">11.9. Triggering event-level attribution</a> <a href="#ref-for-event-level-report-trigger-time①">(2)</a>
    <li><a href="#ref-for-event-level-report-trigger-time②">11.13. Obtaining an event-level report</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-event-level-report-source-identifier" class="dfn-panel" data-for="event-level-report-source-identifier" id="infopanel-for-event-level-report-source-identifier">
   <span id="infopaneltitle-for-event-level-report-source-identifier" style="display:none">Info about the 'source identifier' definition.</span><b><a href="#event-level-report-source-identifier">#event-level-report-source-identifier</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-event-level-report-source-identifier">11.9. Triggering event-level attribution</a> <a href="#ref-for-event-level-report-source-identifier①">(2)</a>
    <li><a href="#ref-for-event-level-report-source-identifier②">11.13. Obtaining an event-level report</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-event-level-report-attribution-destinations" class="dfn-panel" data-for="event-level-report-attribution-destinations" id="infopanel-for-event-level-report-attribution-destinations">
   <span id="infopaneltitle-for-event-level-report-attribution-destinations" style="display:none">Info about the 'attribution destinations' definition.</span><b><a href="#event-level-report-attribution-destinations">#event-level-report-attribution-destinations</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-event-level-report-attribution-destinations">8. Vendor-Specific Values</a>
    <li><a href="#ref-for-event-level-report-attribution-destinations①">9.2. Serialize attribution destinations</a>
    <li><a href="#ref-for-event-level-report-attribution-destinations②">11.9. Triggering event-level attribution</a>
    <li><a href="#ref-for-event-level-report-attribution-destinations③">11.13. Obtaining an event-level report</a>
    <li><a href="#ref-for-event-level-report-attribution-destinations④">12.5. Serialize attribution report body</a>
    <li><a href="#ref-for-event-level-report-attribution-destinations⑤">15.1. Clearing attribution storage</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-aggregatable-contribution" class="dfn-panel" data-for="aggregatable-contribution" id="infopanel-for-aggregatable-contribution">
   <span id="infopaneltitle-for-aggregatable-contribution" style="display:none">Info about the '6.15. Aggregatable contribution' definition.</span><b><a href="#aggregatable-contribution">#aggregatable-contribution</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-aggregatable-contribution">6.7. Attribution source</a>
    <li><a href="#ref-for-aggregatable-contribution">6.15. Aggregatable contribution</a>
    <li><a href="#ref-for-aggregatable-contribution①">6.16. Aggregatable report</a>
    <li><a href="#ref-for-aggregatable-contribution②">11.6. Creating aggregatable contributions</a> <a href="#ref-for-aggregatable-contribution③">(2)</a>
    <li><a href="#ref-for-aggregatable-contribution④">11.7. Can source create aggregatable contributions</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-aggregatable-contribution-key" class="dfn-panel" data-for="aggregatable-contribution-key" id="infopanel-for-aggregatable-contribution-key">
   <span id="infopaneltitle-for-aggregatable-contribution-key" style="display:none">Info about the 'key' definition.</span><b><a href="#aggregatable-contribution-key">#aggregatable-contribution-key</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-aggregatable-contribution-key">11.6. Creating aggregatable contributions</a>
    <li><a href="#ref-for-aggregatable-contribution-key①">12.4. Obtaining an aggregatable report’s aggregation service payloads</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-aggregatable-contribution-value" class="dfn-panel" data-for="aggregatable-contribution-value" id="infopanel-for-aggregatable-contribution-value">
   <span id="infopaneltitle-for-aggregatable-contribution-value" style="display:none">Info about the 'value' definition.</span><b><a href="#aggregatable-contribution-value">#aggregatable-contribution-value</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-aggregatable-contribution-value">6.7. Attribution source</a>
    <li><a href="#ref-for-aggregatable-contribution-value①">11.6. Creating aggregatable contributions</a>
    <li><a href="#ref-for-aggregatable-contribution-value②">11.14. Obtaining an aggregatable report’s required budget</a>
    <li><a href="#ref-for-aggregatable-contribution-value③">12.4. Obtaining an aggregatable report’s aggregation service payloads</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-aggregatable-report" class="dfn-panel" data-for="aggregatable-report" id="infopanel-for-aggregatable-report">
   <span id="infopaneltitle-for-aggregatable-report" style="display:none">Info about the '6.16. Aggregatable report' definition.</span><b><a href="#aggregatable-report">#aggregatable-report</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-aggregatable-report">5. Clear Site Data integration</a>
    <li><a href="#ref-for-aggregatable-report">6.16. Aggregatable report</a>
    <li><a href="#ref-for-aggregatable-report①">7. Storage</a>
    <li><a href="#ref-for-aggregatable-report②">8. Vendor-Specific Values</a> <a href="#ref-for-aggregatable-report③">(2)</a> <a href="#ref-for-aggregatable-report④">(3)</a> <a href="#ref-for-aggregatable-report⑤">(4)</a> <a href="#ref-for-aggregatable-report⑥">(5)</a>
    <li><a href="#ref-for-aggregatable-report⑦">11.7. Can source create aggregatable contributions</a>
    <li><a href="#ref-for-aggregatable-report⑧">11.14. Obtaining an aggregatable report’s required budget</a>
    <li><a href="#ref-for-aggregatable-report⑨">11.15. Obtaining an aggregatable report</a>
    <li><a href="#ref-for-aggregatable-report①⓪">12.2. Obtaining an aggregatable report’s debug mode</a>
    <li><a href="#ref-for-aggregatable-report①①">12.3. Obtaining an aggregatable report’s shared info</a>
    <li><a href="#ref-for-aggregatable-report①②">12.4. Obtaining an aggregatable report’s aggregation service payloads</a> <a href="#ref-for-aggregatable-report①③">(2)</a> <a href="#ref-for-aggregatable-report①④">(3)</a>
    <li><a href="#ref-for-aggregatable-report①⑤">12.5. Serialize attribution report body</a> <a href="#ref-for-aggregatable-report①⑥">(2)</a>
    <li><a href="#ref-for-aggregatable-report①⑦">12.7. Get report request URL</a>
    <li><a href="#ref-for-aggregatable-report①⑧">12.9. Get report request headers</a>
    <li><a href="#ref-for-aggregatable-report①⑨">12.10. Issuing a report request</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-aggregatable-report-source-time" class="dfn-panel" data-for="aggregatable-report-source-time" id="infopanel-for-aggregatable-report-source-time">
   <span id="infopaneltitle-for-aggregatable-report-source-time" style="display:none">Info about the 'source time' definition.</span><b><a href="#aggregatable-report-source-time">#aggregatable-report-source-time</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-aggregatable-report-source-time">11.15. Obtaining an aggregatable report</a>
    <li><a href="#ref-for-aggregatable-report-source-time①">12.3. Obtaining an aggregatable report’s shared info</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-aggregatable-report-contributions" class="dfn-panel" data-for="aggregatable-report-contributions" id="infopanel-for-aggregatable-report-contributions">
   <span id="infopaneltitle-for-aggregatable-report-contributions" style="display:none">Info about the 'contributions' definition.</span><b><a href="#aggregatable-report-contributions">#aggregatable-report-contributions</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-aggregatable-report-contributions">11.10. Triggering aggregatable attribution</a>
    <li><a href="#ref-for-aggregatable-report-contributions①">11.14. Obtaining an aggregatable report’s required budget</a>
    <li><a href="#ref-for-aggregatable-report-contributions②">11.15. Obtaining an aggregatable report</a>
    <li><a href="#ref-for-aggregatable-report-contributions③">12.4. Obtaining an aggregatable report’s aggregation service payloads</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-aggregatable-report-effective-attribution-destination" class="dfn-panel" data-for="aggregatable-report-effective-attribution-destination" id="infopanel-for-aggregatable-report-effective-attribution-destination">
   <span id="infopaneltitle-for-aggregatable-report-effective-attribution-destination" style="display:none">Info about the 'effective attribution destination' definition.</span><b><a href="#aggregatable-report-effective-attribution-destination">#aggregatable-report-effective-attribution-destination</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-aggregatable-report-effective-attribution-destination">8. Vendor-Specific Values</a>
    <li><a href="#ref-for-aggregatable-report-effective-attribution-destination①">11.10. Triggering aggregatable attribution</a>
    <li><a href="#ref-for-aggregatable-report-effective-attribution-destination②">11.15. Obtaining an aggregatable report</a>
    <li><a href="#ref-for-aggregatable-report-effective-attribution-destination③">12.3. Obtaining an aggregatable report’s shared info</a>
    <li><a href="#ref-for-aggregatable-report-effective-attribution-destination④">12.5. Serialize attribution report body</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-aggregatable-report-serialized-private-state-token" class="dfn-panel" data-for="aggregatable-report-serialized-private-state-token" id="infopanel-for-aggregatable-report-serialized-private-state-token">
   <span id="infopaneltitle-for-aggregatable-report-serialized-private-state-token" style="display:none">Info about the 'serialized private state token' definition.</span><b><a href="#aggregatable-report-serialized-private-state-token">#aggregatable-report-serialized-private-state-token</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-aggregatable-report-serialized-private-state-token">11.15. Obtaining an aggregatable report</a>
    <li><a href="#ref-for-aggregatable-report-serialized-private-state-token①">12.9. Get report request headers</a> <a href="#ref-for-aggregatable-report-serialized-private-state-token②">(2)</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-aggregatable-report-aggregation-coordinator" class="dfn-panel" data-for="aggregatable-report-aggregation-coordinator" id="infopanel-for-aggregatable-report-aggregation-coordinator">
   <span id="infopaneltitle-for-aggregatable-report-aggregation-coordinator" style="display:none">Info about the 'aggregation coordinator' definition.</span><b><a href="#aggregatable-report-aggregation-coordinator">#aggregatable-report-aggregation-coordinator</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-aggregatable-report-aggregation-coordinator">11.15. Obtaining an aggregatable report</a>
    <li><a href="#ref-for-aggregatable-report-aggregation-coordinator①">12.4. Obtaining an aggregatable report’s aggregation service payloads</a>
    <li><a href="#ref-for-aggregatable-report-aggregation-coordinator②">12.5. Serialize attribution report body</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-rate-limit-scope" class="dfn-panel" data-for="rate-limit-scope" id="infopanel-for-rate-limit-scope">
   <span id="infopaneltitle-for-rate-limit-scope" style="display:none">Info about the 'rate-limit scope' definition.</span><b><a href="#rate-limit-scope">#rate-limit-scope</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-rate-limit-scope">6.17. Attribution rate-limits</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-rate-limit-scope-source" class="dfn-panel" data-for="rate-limit-scope-source" id="infopanel-for-rate-limit-scope-source">
   <span id="infopaneltitle-for-rate-limit-scope-source" style="display:none">Info about the 'source' definition.</span><b><a href="#rate-limit-scope-source">#rate-limit-scope-source</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-rate-limit-scope-source">10.5. Processing an attribution source</a> <a href="#ref-for-rate-limit-scope-source①">(2)</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-rate-limit-scope-attribution" class="dfn-panel" data-for="rate-limit-scope-attribution" id="infopanel-for-rate-limit-scope-attribution">
   <span id="infopaneltitle-for-rate-limit-scope-attribution" style="display:none">Info about the 'attribution' definition.</span><b><a href="#rate-limit-scope-attribution">#rate-limit-scope-attribution</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-rate-limit-scope-attribution">9.8. Can attribution rate-limit record be removed</a>
    <li><a href="#ref-for-rate-limit-scope-attribution①">10.5. Processing an attribution source</a>
    <li><a href="#ref-for-rate-limit-scope-attribution②">11.3. Should attribution be blocked by attribution rate limit</a>
    <li><a href="#ref-for-rate-limit-scope-attribution③">11.4. Should processing be blocked by reporting-endpoint limit</a>
    <li><a href="#ref-for-rate-limit-scope-attribution④">11.11. Triggering attribution</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-attribution-rate-limit-record" class="dfn-panel" data-for="attribution-rate-limit-record" id="infopanel-for-attribution-rate-limit-record">
   <span id="infopaneltitle-for-attribution-rate-limit-record" style="display:none">Info about the 'attribution rate-limit record' definition.</span><b><a href="#attribution-rate-limit-record">#attribution-rate-limit-record</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-attribution-rate-limit-record">7. Storage</a>
    <li><a href="#ref-for-attribution-rate-limit-record①">9.8. Can attribution rate-limit record be removed</a> <a href="#ref-for-attribution-rate-limit-record②">(2)</a>
    <li><a href="#ref-for-attribution-rate-limit-record③">10.5. Processing an attribution source</a> <a href="#ref-for-attribution-rate-limit-record④">(2)</a> <a href="#ref-for-attribution-rate-limit-record⑤">(3)</a> <a href="#ref-for-attribution-rate-limit-record⑥">(4)</a> <a href="#ref-for-attribution-rate-limit-record⑦">(5)</a>
    <li><a href="#ref-for-attribution-rate-limit-record⑧">11.3. Should attribution be blocked by attribution rate limit</a>
    <li><a href="#ref-for-attribution-rate-limit-record⑨">11.4. Should processing be blocked by reporting-endpoint limit</a> <a href="#ref-for-attribution-rate-limit-record①⓪">(2)</a>
    <li><a href="#ref-for-attribution-rate-limit-record①①">11.5. Should attribution be blocked by rate limits</a>
    <li><a href="#ref-for-attribution-rate-limit-record①②">11.9. Triggering event-level attribution</a>
    <li><a href="#ref-for-attribution-rate-limit-record①③">11.10. Triggering aggregatable attribution</a>
    <li><a href="#ref-for-attribution-rate-limit-record①④">11.11. Triggering attribution</a> <a href="#ref-for-attribution-rate-limit-record①⑤">(2)</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-attribution-rate-limit-record-scope" class="dfn-panel" data-for="attribution-rate-limit-record-scope" id="infopanel-for-attribution-rate-limit-record-scope">
   <span id="infopaneltitle-for-attribution-rate-limit-record-scope" style="display:none">Info about the 'scope' definition.</span><b><a href="#attribution-rate-limit-record-scope">#attribution-rate-limit-record-scope</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-attribution-rate-limit-record-scope">9.8. Can attribution rate-limit record be removed</a>
    <li><a href="#ref-for-attribution-rate-limit-record-scope①">10.5. Processing an attribution source</a> <a href="#ref-for-attribution-rate-limit-record-scope②">(2)</a> <a href="#ref-for-attribution-rate-limit-record-scope③">(3)</a>
    <li><a href="#ref-for-attribution-rate-limit-record-scope④">11.3. Should attribution be blocked by attribution rate limit</a>
    <li><a href="#ref-for-attribution-rate-limit-record-scope⑤">11.4. Should processing be blocked by reporting-endpoint limit</a> <a href="#ref-for-attribution-rate-limit-record-scope⑥">(2)</a> <a href="#ref-for-attribution-rate-limit-record-scope⑦">(3)</a>
    <li><a href="#ref-for-attribution-rate-limit-record-scope⑧">11.11. Triggering attribution</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-attribution-rate-limit-record-source-site" class="dfn-panel" data-for="attribution-rate-limit-record-source-site" id="infopanel-for-attribution-rate-limit-record-source-site">
   <span id="infopaneltitle-for-attribution-rate-limit-record-source-site" style="display:none">Info about the 'source site' definition.</span><b><a href="#attribution-rate-limit-record-source-site">#attribution-rate-limit-record-source-site</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-attribution-rate-limit-record-source-site">8. Vendor-Specific Values</a> <a href="#ref-for-attribution-rate-limit-record-source-site①">(2)</a> <a href="#ref-for-attribution-rate-limit-record-source-site②">(3)</a>
    <li><a href="#ref-for-attribution-rate-limit-record-source-site③">10.5. Processing an attribution source</a> <a href="#ref-for-attribution-rate-limit-record-source-site④">(2)</a> <a href="#ref-for-attribution-rate-limit-record-source-site⑤">(3)</a>
    <li><a href="#ref-for-attribution-rate-limit-record-source-site⑥">11.3. Should attribution be blocked by attribution rate limit</a>
    <li><a href="#ref-for-attribution-rate-limit-record-source-site⑦">11.4. Should processing be blocked by reporting-endpoint limit</a> <a href="#ref-for-attribution-rate-limit-record-source-site⑧">(2)</a>
    <li><a href="#ref-for-attribution-rate-limit-record-source-site⑨">11.11. Triggering attribution</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-attribution-rate-limit-record-attribution-destination" class="dfn-panel" data-for="attribution-rate-limit-record-attribution-destination" id="infopanel-for-attribution-rate-limit-record-attribution-destination">
   <span id="infopaneltitle-for-attribution-rate-limit-record-attribution-destination" style="display:none">Info about the 'attribution destination' definition.</span><b><a href="#attribution-rate-limit-record-attribution-destination">#attribution-rate-limit-record-attribution-destination</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-attribution-rate-limit-record-attribution-destination">8. Vendor-Specific Values</a> <a href="#ref-for-attribution-rate-limit-record-attribution-destination①">(2)</a> <a href="#ref-for-attribution-rate-limit-record-attribution-destination②">(3)</a>
    <li><a href="#ref-for-attribution-rate-limit-record-attribution-destination③">10.5. Processing an attribution source</a> <a href="#ref-for-attribution-rate-limit-record-attribution-destination④">(2)</a> <a href="#ref-for-attribution-rate-limit-record-attribution-destination⑤">(3)</a>
    <li><a href="#ref-for-attribution-rate-limit-record-attribution-destination⑥">11.3. Should attribution be blocked by attribution rate limit</a>
    <li><a href="#ref-for-attribution-rate-limit-record-attribution-destination⑦">11.4. Should processing be blocked by reporting-endpoint limit</a> <a href="#ref-for-attribution-rate-limit-record-attribution-destination⑧">(2)</a>
    <li><a href="#ref-for-attribution-rate-limit-record-attribution-destination⑨">11.11. Triggering attribution</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-attribution-rate-limit-record-reporting-endpoint" class="dfn-panel" data-for="attribution-rate-limit-record-reporting-endpoint" id="infopanel-for-attribution-rate-limit-record-reporting-endpoint">
   <span id="infopaneltitle-for-attribution-rate-limit-record-reporting-endpoint" style="display:none">Info about the 'reporting endpoint' definition.</span><b><a href="#attribution-rate-limit-record-reporting-endpoint">#attribution-rate-limit-record-reporting-endpoint</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-attribution-rate-limit-record-reporting-endpoint">8. Vendor-Specific Values</a>
    <li><a href="#ref-for-attribution-rate-limit-record-reporting-endpoint①">10.5. Processing an attribution source</a> <a href="#ref-for-attribution-rate-limit-record-reporting-endpoint②">(2)</a> <a href="#ref-for-attribution-rate-limit-record-reporting-endpoint③">(3)</a>
    <li><a href="#ref-for-attribution-rate-limit-record-reporting-endpoint④">11.3. Should attribution be blocked by attribution rate limit</a>
    <li><a href="#ref-for-attribution-rate-limit-record-reporting-endpoint⑤">11.4. Should processing be blocked by reporting-endpoint limit</a> <a href="#ref-for-attribution-rate-limit-record-reporting-endpoint⑥">(2)</a>
    <li><a href="#ref-for-attribution-rate-limit-record-reporting-endpoint⑦">11.11. Triggering attribution</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-attribution-rate-limit-record-time" class="dfn-panel" data-for="attribution-rate-limit-record-time" id="infopanel-for-attribution-rate-limit-record-time">
   <span id="infopaneltitle-for-attribution-rate-limit-record-time" style="display:none">Info about the 'time' definition.</span><b><a href="#attribution-rate-limit-record-time">#attribution-rate-limit-record-time</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-attribution-rate-limit-record-time">10.5. Processing an attribution source</a> <a href="#ref-for-attribution-rate-limit-record-time①">(2)</a>
    <li><a href="#ref-for-attribution-rate-limit-record-time②">11.3. Should attribution be blocked by attribution rate limit</a>
    <li><a href="#ref-for-attribution-rate-limit-record-time③">11.4. Should processing be blocked by reporting-endpoint limit</a> <a href="#ref-for-attribution-rate-limit-record-time④">(2)</a>
    <li><a href="#ref-for-attribution-rate-limit-record-time⑤">11.11. Triggering attribution</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-attribution-rate-limit-record-expiry-time" class="dfn-panel" data-for="attribution-rate-limit-record-expiry-time" id="infopanel-for-attribution-rate-limit-record-expiry-time">
   <span id="infopaneltitle-for-attribution-rate-limit-record-expiry-time" style="display:none">Info about the 'expiry time' definition.</span><b><a href="#attribution-rate-limit-record-expiry-time">#attribution-rate-limit-record-expiry-time</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-attribution-rate-limit-record-expiry-time">9.8. Can attribution rate-limit record be removed</a>
    <li><a href="#ref-for-attribution-rate-limit-record-expiry-time①">10.5. Processing an attribution source</a> <a href="#ref-for-attribution-rate-limit-record-expiry-time②">(2)</a> <a href="#ref-for-attribution-rate-limit-record-expiry-time③">(3)</a>
    <li><a href="#ref-for-attribution-rate-limit-record-expiry-time④">11.11. Triggering attribution</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-attribution-debug-data" class="dfn-panel" data-for="attribution-debug-data" id="infopanel-for-attribution-debug-data">
   <span id="infopaneltitle-for-attribution-debug-data" style="display:none">Info about the '6.18. Attribution debug data' definition.</span><b><a href="#attribution-debug-data">#attribution-debug-data</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-attribution-debug-data">6.18. Attribution debug data</a> <a href="#ref-for-attribution-debug-data">(2)</a>
    <li><a href="#ref-for-attribution-debug-data①">6.19. Attribution debug report</a>
    <li><a href="#ref-for-attribution-debug-data②">6.20. Triggering result</a>
    <li><a href="#ref-for-attribution-debug-data③">9.9. Obtaining and delivering an attribution debug report</a>
    <li><a href="#ref-for-attribution-debug-data④">10.5. Processing an attribution source</a>
    <li><a href="#ref-for-attribution-debug-data⑤">11.8. Obtaining debug data on trigger registration</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-debug-data-type" class="dfn-panel" data-for="debug-data-type" id="infopanel-for-debug-data-type">
   <span id="infopaneltitle-for-debug-data-type" style="display:none">Info about the 'debug data type' definition.</span><b><a href="#debug-data-type">#debug-data-type</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-debug-data-type">6.18. Attribution debug data</a> <a href="#ref-for-debug-data-type①">(2)</a> <a href="#ref-for-debug-data-type②">(3)</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-source-debug-data-type" class="dfn-panel" data-for="source-debug-data-type" id="infopanel-for-source-debug-data-type">
   <span id="infopaneltitle-for-source-debug-data-type" style="display:none">Info about the 'source debug data type' definition.</span><b><a href="#source-debug-data-type">#source-debug-data-type</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-source-debug-data-type">10.5. Processing an attribution source</a> <a href="#ref-for-source-debug-data-type①">(2)</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-source-debug-data-type-source-destination-limit" class="dfn-panel" data-for="source-debug-data-type-source-destination-limit" id="infopanel-for-source-debug-data-type-source-destination-limit">
   <span id="infopaneltitle-for-source-debug-data-type-source-destination-limit" style="display:none">Info about the 'source-destination-limit' definition.</span><b><a href="#source-debug-data-type-source-destination-limit">#source-debug-data-type-source-destination-limit</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-source-debug-data-type-source-destination-limit">10.5. Processing an attribution source</a> <a href="#ref-for-source-debug-data-type-source-destination-limit①">(2)</a> <a href="#ref-for-source-debug-data-type-source-destination-limit②">(3)</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-source-debug-data-type-source-noised" class="dfn-panel" data-for="source-debug-data-type-source-noised" id="infopanel-for-source-debug-data-type-source-noised">
   <span id="infopaneltitle-for-source-debug-data-type-source-noised" style="display:none">Info about the 'source-noised' definition.</span><b><a href="#source-debug-data-type-source-noised">#source-debug-data-type-source-noised</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-source-debug-data-type-source-noised">10.5. Processing an attribution source</a> <a href="#ref-for-source-debug-data-type-source-noised①">(2)</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-source-debug-data-type-source-storage-limit" class="dfn-panel" data-for="source-debug-data-type-source-storage-limit" id="infopanel-for-source-debug-data-type-source-storage-limit">
   <span id="infopaneltitle-for-source-debug-data-type-source-storage-limit" style="display:none">Info about the 'source-storage-limit' definition.</span><b><a href="#source-debug-data-type-source-storage-limit">#source-debug-data-type-source-storage-limit</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-source-debug-data-type-source-storage-limit">10.5. Processing an attribution source</a> <a href="#ref-for-source-debug-data-type-source-storage-limit①">(2)</a> <a href="#ref-for-source-debug-data-type-source-storage-limit②">(3)</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-source-debug-data-type-source-success" class="dfn-panel" data-for="source-debug-data-type-source-success" id="infopanel-for-source-debug-data-type-source-success">
   <span id="infopaneltitle-for-source-debug-data-type-source-success" style="display:none">Info about the 'source-success' definition.</span><b><a href="#source-debug-data-type-source-success">#source-debug-data-type-source-success</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-source-debug-data-type-source-success">10.5. Processing an attribution source</a> <a href="#ref-for-source-debug-data-type-source-success①">(2)</a> <a href="#ref-for-source-debug-data-type-source-success②">(3)</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-source-debug-data-type-source-unknown-error" class="dfn-panel" data-for="source-debug-data-type-source-unknown-error" id="infopanel-for-source-debug-data-type-source-unknown-error">
   <span id="infopaneltitle-for-source-debug-data-type-source-unknown-error" style="display:none">Info about the 'source-unknown-error' definition.</span><b><a href="#source-debug-data-type-source-unknown-error">#source-debug-data-type-source-unknown-error</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-source-debug-data-type-source-unknown-error">10.5. Processing an attribution source</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-trigger-debug-data-type" class="dfn-panel" data-for="trigger-debug-data-type" id="infopanel-for-trigger-debug-data-type">
   <span id="infopaneltitle-for-trigger-debug-data-type" style="display:none">Info about the 'trigger debug data type' definition.</span><b><a href="#trigger-debug-data-type">#trigger-debug-data-type</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-trigger-debug-data-type">11.8. Obtaining debug data on trigger registration</a> <a href="#ref-for-trigger-debug-data-type①">(2)</a>
    <li><a href="#ref-for-trigger-debug-data-type②">11.11. Triggering attribution</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-trigger-debug-data-type-trigger-aggregate-deduplicated" class="dfn-panel" data-for="trigger-debug-data-type-trigger-aggregate-deduplicated" id="infopanel-for-trigger-debug-data-type-trigger-aggregate-deduplicated">
   <span id="infopaneltitle-for-trigger-debug-data-type-trigger-aggregate-deduplicated" style="display:none">Info about the 'trigger-aggregate-deduplicated' definition.</span><b><a href="#trigger-debug-data-type-trigger-aggregate-deduplicated">#trigger-debug-data-type-trigger-aggregate-deduplicated</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-trigger-debug-data-type-trigger-aggregate-deduplicated">11.10. Triggering aggregatable attribution</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-trigger-debug-data-type-trigger-aggregate-no-contributions" class="dfn-panel" data-for="trigger-debug-data-type-trigger-aggregate-no-contributions" id="infopanel-for-trigger-debug-data-type-trigger-aggregate-no-contributions">
   <span id="infopaneltitle-for-trigger-debug-data-type-trigger-aggregate-no-contributions" style="display:none">Info about the 'trigger-aggregate-no-contributions' definition.</span><b><a href="#trigger-debug-data-type-trigger-aggregate-no-contributions">#trigger-debug-data-type-trigger-aggregate-no-contributions</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-trigger-debug-data-type-trigger-aggregate-no-contributions">11.10. Triggering aggregatable attribution</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-trigger-debug-data-type-trigger-aggregate-insufficient-budget" class="dfn-panel" data-for="trigger-debug-data-type-trigger-aggregate-insufficient-budget" id="infopanel-for-trigger-debug-data-type-trigger-aggregate-insufficient-budget">
   <span id="infopaneltitle-for-trigger-debug-data-type-trigger-aggregate-insufficient-budget" style="display:none">Info about the 'trigger-aggregate-insufficient-budget' definition.</span><b><a href="#trigger-debug-data-type-trigger-aggregate-insufficient-budget">#trigger-debug-data-type-trigger-aggregate-insufficient-budget</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-trigger-debug-data-type-trigger-aggregate-insufficient-budget">11.8. Obtaining debug data on trigger registration</a>
    <li><a href="#ref-for-trigger-debug-data-type-trigger-aggregate-insufficient-budget①">11.10. Triggering aggregatable attribution</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-trigger-debug-data-type-trigger-aggregate-storage-limit" class="dfn-panel" data-for="trigger-debug-data-type-trigger-aggregate-storage-limit" id="infopanel-for-trigger-debug-data-type-trigger-aggregate-storage-limit">
   <span id="infopaneltitle-for-trigger-debug-data-type-trigger-aggregate-storage-limit" style="display:none">Info about the 'trigger-aggregate-storage-limit' definition.</span><b><a href="#trigger-debug-data-type-trigger-aggregate-storage-limit">#trigger-debug-data-type-trigger-aggregate-storage-limit</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-trigger-debug-data-type-trigger-aggregate-storage-limit">11.8. Obtaining debug data on trigger registration</a>
    <li><a href="#ref-for-trigger-debug-data-type-trigger-aggregate-storage-limit①">11.10. Triggering aggregatable attribution</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-trigger-debug-data-type-trigger-aggregate-report-window-passed" class="dfn-panel" data-for="trigger-debug-data-type-trigger-aggregate-report-window-passed" id="infopanel-for-trigger-debug-data-type-trigger-aggregate-report-window-passed">
   <span id="infopaneltitle-for-trigger-debug-data-type-trigger-aggregate-report-window-passed" style="display:none">Info about the 'trigger-aggregate-report-window-passed' definition.</span><b><a href="#trigger-debug-data-type-trigger-aggregate-report-window-passed">#trigger-debug-data-type-trigger-aggregate-report-window-passed</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-trigger-debug-data-type-trigger-aggregate-report-window-passed">11.10. Triggering aggregatable attribution</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-trigger-debug-data-type-trigger-attributions-per-source-destination-limit" class="dfn-panel" data-for="trigger-debug-data-type-trigger-attributions-per-source-destination-limit" id="infopanel-for-trigger-debug-data-type-trigger-attributions-per-source-destination-limit">
   <span id="infopaneltitle-for-trigger-debug-data-type-trigger-attributions-per-source-destination-limit" style="display:none">Info about the 'trigger-attributions-per-source-destination-limit' definition.</span><b><a href="#trigger-debug-data-type-trigger-attributions-per-source-destination-limit">#trigger-debug-data-type-trigger-attributions-per-source-destination-limit</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-trigger-debug-data-type-trigger-attributions-per-source-destination-limit">11.5. Should attribution be blocked by rate limits</a>
    <li><a href="#ref-for-trigger-debug-data-type-trigger-attributions-per-source-destination-limit①">11.8. Obtaining debug data on trigger registration</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-trigger-debug-data-type-trigger-event-deduplicated" class="dfn-panel" data-for="trigger-debug-data-type-trigger-event-deduplicated" id="infopanel-for-trigger-debug-data-type-trigger-event-deduplicated">
   <span id="infopaneltitle-for-trigger-debug-data-type-trigger-event-deduplicated" style="display:none">Info about the 'trigger-event-deduplicated' definition.</span><b><a href="#trigger-debug-data-type-trigger-event-deduplicated">#trigger-debug-data-type-trigger-event-deduplicated</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-trigger-debug-data-type-trigger-event-deduplicated">11.9. Triggering event-level attribution</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-trigger-debug-data-type-trigger-event-excessive-reports" class="dfn-panel" data-for="trigger-debug-data-type-trigger-event-excessive-reports" id="infopanel-for-trigger-debug-data-type-trigger-event-excessive-reports">
   <span id="infopaneltitle-for-trigger-debug-data-type-trigger-event-excessive-reports" style="display:none">Info about the 'trigger-event-excessive-reports' definition.</span><b><a href="#trigger-debug-data-type-trigger-event-excessive-reports">#trigger-debug-data-type-trigger-event-excessive-reports</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-trigger-debug-data-type-trigger-event-excessive-reports">11.8. Obtaining debug data on trigger registration</a>
    <li><a href="#ref-for-trigger-debug-data-type-trigger-event-excessive-reports①">11.9. Triggering event-level attribution</a> <a href="#ref-for-trigger-debug-data-type-trigger-event-excessive-reports②">(2)</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-trigger-debug-data-type-trigger-event-low-priority" class="dfn-panel" data-for="trigger-debug-data-type-trigger-event-low-priority" id="infopanel-for-trigger-debug-data-type-trigger-event-low-priority">
   <span id="infopaneltitle-for-trigger-debug-data-type-trigger-event-low-priority" style="display:none">Info about the 'trigger-event-low-priority' definition.</span><b><a href="#trigger-debug-data-type-trigger-event-low-priority">#trigger-debug-data-type-trigger-event-low-priority</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-trigger-debug-data-type-trigger-event-low-priority">11.8. Obtaining debug data on trigger registration</a>
    <li><a href="#ref-for-trigger-debug-data-type-trigger-event-low-priority①">11.9. Triggering event-level attribution</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-trigger-debug-data-type-trigger-event-no-matching-configurations" class="dfn-panel" data-for="trigger-debug-data-type-trigger-event-no-matching-configurations" id="infopanel-for-trigger-debug-data-type-trigger-event-no-matching-configurations">
   <span id="infopaneltitle-for-trigger-debug-data-type-trigger-event-no-matching-configurations" style="display:none">Info about the 'trigger-event-no-matching-configurations' definition.</span><b><a href="#trigger-debug-data-type-trigger-event-no-matching-configurations">#trigger-debug-data-type-trigger-event-no-matching-configurations</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-trigger-debug-data-type-trigger-event-no-matching-configurations">11.9. Triggering event-level attribution</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-trigger-debug-data-type-trigger-event-noise" class="dfn-panel" data-for="trigger-debug-data-type-trigger-event-noise" id="infopanel-for-trigger-debug-data-type-trigger-event-noise">
   <span id="infopaneltitle-for-trigger-debug-data-type-trigger-event-noise" style="display:none">Info about the 'trigger-event-noise' definition.</span><b><a href="#trigger-debug-data-type-trigger-event-noise">#trigger-debug-data-type-trigger-event-noise</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-trigger-debug-data-type-trigger-event-noise">11.9. Triggering event-level attribution</a> <a href="#ref-for-trigger-debug-data-type-trigger-event-noise①">(2)</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-trigger-debug-data-type-trigger-event-report-window-passed" class="dfn-panel" data-for="trigger-debug-data-type-trigger-event-report-window-passed" id="infopanel-for-trigger-debug-data-type-trigger-event-report-window-passed">
   <span id="infopaneltitle-for-trigger-debug-data-type-trigger-event-report-window-passed" style="display:none">Info about the 'trigger-event-report-window-passed' definition.</span><b><a href="#trigger-debug-data-type-trigger-event-report-window-passed">#trigger-debug-data-type-trigger-event-report-window-passed</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-trigger-debug-data-type-trigger-event-report-window-passed">11.9. Triggering event-level attribution</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-trigger-debug-data-type-trigger-event-storage-limit" class="dfn-panel" data-for="trigger-debug-data-type-trigger-event-storage-limit" id="infopanel-for-trigger-debug-data-type-trigger-event-storage-limit">
   <span id="infopaneltitle-for-trigger-debug-data-type-trigger-event-storage-limit" style="display:none">Info about the 'trigger-event-storage-limit' definition.</span><b><a href="#trigger-debug-data-type-trigger-event-storage-limit">#trigger-debug-data-type-trigger-event-storage-limit</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-trigger-debug-data-type-trigger-event-storage-limit">11.8. Obtaining debug data on trigger registration</a>
    <li><a href="#ref-for-trigger-debug-data-type-trigger-event-storage-limit①">11.9. Triggering event-level attribution</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-trigger-debug-data-type-trigger-no-matching-source" class="dfn-panel" data-for="trigger-debug-data-type-trigger-no-matching-source" id="infopanel-for-trigger-debug-data-type-trigger-no-matching-source">
   <span id="infopaneltitle-for-trigger-debug-data-type-trigger-no-matching-source" style="display:none">Info about the 'trigger-no-matching-source' definition.</span><b><a href="#trigger-debug-data-type-trigger-no-matching-source">#trigger-debug-data-type-trigger-no-matching-source</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-trigger-debug-data-type-trigger-no-matching-source">11.11. Triggering attribution</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-trigger-debug-data-type-trigger-no-matching-filter-data" class="dfn-panel" data-for="trigger-debug-data-type-trigger-no-matching-filter-data" id="infopanel-for-trigger-debug-data-type-trigger-no-matching-filter-data">
   <span id="infopaneltitle-for-trigger-debug-data-type-trigger-no-matching-filter-data" style="display:none">Info about the 'trigger-no-matching-filter-data' definition.</span><b><a href="#trigger-debug-data-type-trigger-no-matching-filter-data">#trigger-debug-data-type-trigger-no-matching-filter-data</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-trigger-debug-data-type-trigger-no-matching-filter-data">11.11. Triggering attribution</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-trigger-debug-data-type-trigger-reporting-origin-limit" class="dfn-panel" data-for="trigger-debug-data-type-trigger-reporting-origin-limit" id="infopanel-for-trigger-debug-data-type-trigger-reporting-origin-limit">
   <span id="infopaneltitle-for-trigger-debug-data-type-trigger-reporting-origin-limit" style="display:none">Info about the 'trigger-reporting-origin-limit' definition.</span><b><a href="#trigger-debug-data-type-trigger-reporting-origin-limit">#trigger-debug-data-type-trigger-reporting-origin-limit</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-trigger-debug-data-type-trigger-reporting-origin-limit">11.5. Should attribution be blocked by rate limits</a>
    <li><a href="#ref-for-trigger-debug-data-type-trigger-reporting-origin-limit①">11.8. Obtaining debug data on trigger registration</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-attribution-debug-data-data-type" class="dfn-panel" data-for="attribution-debug-data-data-type" id="infopanel-for-attribution-debug-data-data-type">
   <span id="infopaneltitle-for-attribution-debug-data-data-type" style="display:none">Info about the 'data type' definition.</span><b><a href="#attribution-debug-data-data-type">#attribution-debug-data-data-type</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-attribution-debug-data-data-type">6.18. Attribution debug data</a>
    <li><a href="#ref-for-attribution-debug-data-data-type①">10.5. Processing an attribution source</a>
    <li><a href="#ref-for-attribution-debug-data-data-type②">11.8. Obtaining debug data on trigger registration</a>
    <li><a href="#ref-for-attribution-debug-data-data-type③">11.11. Triggering attribution</a> <a href="#ref-for-attribution-debug-data-data-type④">(2)</a>
    <li><a href="#ref-for-attribution-debug-data-data-type⑤">12.6. Serialize attribution debug report body</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-attribution-debug-data-body" class="dfn-panel" data-for="attribution-debug-data-body" id="infopanel-for-attribution-debug-data-body">
   <span id="infopaneltitle-for-attribution-debug-data-body" style="display:none">Info about the 'body' definition.</span><b><a href="#attribution-debug-data-body">#attribution-debug-data-body</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-attribution-debug-data-body">6.18. Attribution debug data</a>
    <li><a href="#ref-for-attribution-debug-data-body①">10.5. Processing an attribution source</a>
    <li><a href="#ref-for-attribution-debug-data-body②">11.8. Obtaining debug data on trigger registration</a>
    <li><a href="#ref-for-attribution-debug-data-body③">12.6. Serialize attribution debug report body</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-attribution-debug-report" class="dfn-panel" data-for="attribution-debug-report" id="infopanel-for-attribution-debug-report">
   <span id="infopaneltitle-for-attribution-debug-report" style="display:none">Info about the '6.19. Attribution debug report' definition.</span><b><a href="#attribution-debug-report">#attribution-debug-report</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-attribution-debug-report">6.19. Attribution debug report</a>
    <li><a href="#ref-for-attribution-debug-report">9.9. Obtaining and delivering an attribution debug report</a>
    <li><a href="#ref-for-attribution-debug-report①">12.6. Serialize attribution debug report body</a>
    <li><a href="#ref-for-attribution-debug-report②">12.7. Get report request URL</a>
    <li><a href="#ref-for-attribution-debug-report③">12.12. Issuing a verbose debug request</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-attribution-debug-report-data" class="dfn-panel" data-for="attribution-debug-report-data" id="infopanel-for-attribution-debug-report-data">
   <span id="infopaneltitle-for-attribution-debug-report-data" style="display:none">Info about the 'data' definition.</span><b><a href="#attribution-debug-report-data">#attribution-debug-report-data</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-attribution-debug-report-data">9.9. Obtaining and delivering an attribution debug report</a>
    <li><a href="#ref-for-attribution-debug-report-data①">12.6. Serialize attribution debug report body</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-attribution-debug-report-reporting-endpoint" class="dfn-panel" data-for="attribution-debug-report-reporting-endpoint" id="infopanel-for-attribution-debug-report-reporting-endpoint">
   <span id="infopaneltitle-for-attribution-debug-report-reporting-endpoint" style="display:none">Info about the 'reporting endpoint' definition.</span><b><a href="#attribution-debug-report-reporting-endpoint">#attribution-debug-report-reporting-endpoint</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-attribution-debug-report-reporting-endpoint">9.9. Obtaining and delivering an attribution debug report</a>
    <li><a href="#ref-for-attribution-debug-report-reporting-endpoint①">12.7. Get report request URL</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-triggering-result" class="dfn-panel" data-for="triggering-result" id="infopanel-for-triggering-result">
   <span id="infopaneltitle-for-triggering-result" style="display:none">Info about the '6.20. Triggering result' definition.</span><b><a href="#triggering-result">#triggering-result</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-triggering-result">6.20. Triggering result</a>
    <li><a href="#ref-for-triggering-result">11.5. Should attribution be blocked by rate limits</a> <a href="#ref-for-triggering-result①">(2)</a>
    <li><a href="#ref-for-triggering-result②">11.9. Triggering event-level attribution</a> <a href="#ref-for-triggering-result③">(2)</a> <a href="#ref-for-triggering-result④">(3)</a> <a href="#ref-for-triggering-result⑤">(4)</a> <a href="#ref-for-triggering-result⑥">(5)</a> <a href="#ref-for-triggering-result⑦">(6)</a> <a href="#ref-for-triggering-result⑧">(7)</a> <a href="#ref-for-triggering-result⑨">(8)</a> <a href="#ref-for-triggering-result①⓪">(9)</a> <a href="#ref-for-triggering-result①①">(10)</a>
    <li><a href="#ref-for-triggering-result①②">11.10. Triggering aggregatable attribution</a> <a href="#ref-for-triggering-result①③">(2)</a> <a href="#ref-for-triggering-result①④">(3)</a> <a href="#ref-for-triggering-result①⑤">(4)</a> <a href="#ref-for-triggering-result①⑥">(5)</a> <a href="#ref-for-triggering-result①⑦">(6)</a> <a href="#ref-for-triggering-result①⑧">(7)</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-triggering-status" class="dfn-panel" data-for="triggering-status" id="infopanel-for-triggering-status">
   <span id="infopaneltitle-for-triggering-status" style="display:none">Info about the 'triggering status' definition.</span><b><a href="#triggering-status">#triggering-status</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-triggering-status">6.20. Triggering result</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-triggering-status-dropped" class="dfn-panel" data-for="triggering-status-dropped" id="infopanel-for-triggering-status-dropped">
   <span id="infopaneltitle-for-triggering-status-dropped" style="display:none">Info about the 'dropped' definition.</span><b><a href="#triggering-status-dropped">#triggering-status-dropped</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-triggering-status-dropped">11.5. Should attribution be blocked by rate limits</a> <a href="#ref-for-triggering-status-dropped①">(2)</a>
    <li><a href="#ref-for-triggering-status-dropped②">11.9. Triggering event-level attribution</a> <a href="#ref-for-triggering-status-dropped③">(2)</a> <a href="#ref-for-triggering-status-dropped④">(3)</a> <a href="#ref-for-triggering-status-dropped⑤">(4)</a> <a href="#ref-for-triggering-status-dropped⑥">(5)</a> <a href="#ref-for-triggering-status-dropped⑦">(6)</a> <a href="#ref-for-triggering-status-dropped⑧">(7)</a> <a href="#ref-for-triggering-status-dropped⑨">(8)</a> <a href="#ref-for-triggering-status-dropped①⓪">(9)</a>
    <li><a href="#ref-for-triggering-status-dropped①①">11.10. Triggering aggregatable attribution</a> <a href="#ref-for-triggering-status-dropped①②">(2)</a> <a href="#ref-for-triggering-status-dropped①③">(3)</a> <a href="#ref-for-triggering-status-dropped①④">(4)</a> <a href="#ref-for-triggering-status-dropped①⑤">(5)</a> <a href="#ref-for-triggering-status-dropped①⑥">(6)</a>
    <li><a href="#ref-for-triggering-status-dropped①⑦">11.11. Triggering attribution</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-triggering-status-noised" class="dfn-panel" data-for="triggering-status-noised" id="infopanel-for-triggering-status-noised">
   <span id="infopaneltitle-for-triggering-status-noised" style="display:none">Info about the 'noised' definition.</span><b><a href="#triggering-status-noised">#triggering-status-noised</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-triggering-status-noised">6.20. Triggering result</a>
    <li><a href="#ref-for-triggering-status-noised①">11.9. Triggering event-level attribution</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-triggering-status-attributed" class="dfn-panel" data-for="triggering-status-attributed" id="infopanel-for-triggering-status-attributed">
   <span id="infopaneltitle-for-triggering-status-attributed" style="display:none">Info about the 'attributed' definition.</span><b><a href="#triggering-status-attributed">#triggering-status-attributed</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-triggering-status-attributed">11.9. Triggering event-level attribution</a>
    <li><a href="#ref-for-triggering-status-attributed①">11.10. Triggering aggregatable attribution</a>
    <li><a href="#ref-for-triggering-status-attributed②">11.11. Triggering attribution</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-triggering-result-status" class="dfn-panel" data-for="triggering-result-status" id="infopanel-for-triggering-result-status">
   <span id="infopaneltitle-for-triggering-result-status" style="display:none">Info about the 'status' definition.</span><b><a href="#triggering-result-status">#triggering-result-status</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-triggering-result-status">11.11. Triggering attribution</a> <a href="#ref-for-triggering-result-status①">(2)</a> <a href="#ref-for-triggering-result-status②">(3)</a> <a href="#ref-for-triggering-result-status③">(4)</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-triggering-result-debug-data" class="dfn-panel" data-for="triggering-result-debug-data" id="infopanel-for-triggering-result-debug-data">
   <span id="infopaneltitle-for-triggering-result-debug-data" style="display:none">Info about the 'debug data' definition.</span><b><a href="#triggering-result-debug-data">#triggering-result-debug-data</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-triggering-result-debug-data">11.11. Triggering attribution</a> <a href="#ref-for-triggering-result-debug-data①">(2)</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-attribution-source-cache" class="dfn-panel" data-for="attribution-source-cache" id="infopanel-for-attribution-source-cache">
   <span id="infopaneltitle-for-attribution-source-cache" style="display:none">Info about the 'attribution source cache' definition.</span><b><a href="#attribution-source-cache">#attribution-source-cache</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-attribution-source-cache">5. Clear Site Data integration</a> <a href="#ref-for-attribution-source-cache①">(2)</a>
    <li><a href="#ref-for-attribution-source-cache②">8. Vendor-Specific Values</a>
    <li><a href="#ref-for-attribution-source-cache③">10.5. Processing an attribution source</a>
    <li><a href="#ref-for-attribution-source-cache④">11.11. Triggering attribution</a> <a href="#ref-for-attribution-source-cache⑤">(2)</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-event-level-report-cache" class="dfn-panel" data-for="event-level-report-cache" id="infopanel-for-event-level-report-cache">
   <span id="infopaneltitle-for-event-level-report-cache" style="display:none">Info about the 'event-level report cache' definition.</span><b><a href="#event-level-report-cache">#event-level-report-cache</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-event-level-report-cache">5. Clear Site Data integration</a> <a href="#ref-for-event-level-report-cache①">(2)</a>
    <li><a href="#ref-for-event-level-report-cache②">8. Vendor-Specific Values</a>
    <li><a href="#ref-for-event-level-report-cache③">10.5. Processing an attribution source</a>
    <li><a href="#ref-for-event-level-report-cache④">11.9. Triggering event-level attribution</a> <a href="#ref-for-event-level-report-cache⑤">(2)</a> <a href="#ref-for-event-level-report-cache⑥">(3)</a> <a href="#ref-for-event-level-report-cache⑦">(4)</a>
    <li><a href="#ref-for-event-level-report-cache⑧">12. Report delivery</a>
    <li><a href="#ref-for-event-level-report-cache⑨">12.10. Issuing a report request</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-aggregatable-report-cache" class="dfn-panel" data-for="aggregatable-report-cache" id="infopanel-for-aggregatable-report-cache">
   <span id="infopaneltitle-for-aggregatable-report-cache" style="display:none">Info about the 'aggregatable report cache' definition.</span><b><a href="#aggregatable-report-cache">#aggregatable-report-cache</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-aggregatable-report-cache">5. Clear Site Data integration</a> <a href="#ref-for-aggregatable-report-cache①">(2)</a>
    <li><a href="#ref-for-aggregatable-report-cache②">8. Vendor-Specific Values</a>
    <li><a href="#ref-for-aggregatable-report-cache③">11.10. Triggering aggregatable attribution</a> <a href="#ref-for-aggregatable-report-cache④">(2)</a>
    <li><a href="#ref-for-aggregatable-report-cache⑤">12. Report delivery</a>
    <li><a href="#ref-for-aggregatable-report-cache⑥">12.10. Issuing a report request</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-attribution-rate-limit-cache" class="dfn-panel" data-for="attribution-rate-limit-cache" id="infopanel-for-attribution-rate-limit-cache">
   <span id="infopaneltitle-for-attribution-rate-limit-cache" style="display:none">Info about the 'attribution rate-limit cache' definition.</span><b><a href="#attribution-rate-limit-cache">#attribution-rate-limit-cache</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-attribution-rate-limit-cache">5. Clear Site Data integration</a>
    <li><a href="#ref-for-attribution-rate-limit-cache①">10.5. Processing an attribution source</a> <a href="#ref-for-attribution-rate-limit-cache②">(2)</a> <a href="#ref-for-attribution-rate-limit-cache③">(3)</a> <a href="#ref-for-attribution-rate-limit-cache④">(4)</a>
    <li><a href="#ref-for-attribution-rate-limit-cache⑤">11.3. Should attribution be blocked by attribution rate limit</a>
    <li><a href="#ref-for-attribution-rate-limit-cache⑥">11.4. Should processing be blocked by reporting-endpoint limit</a>
    <li><a href="#ref-for-attribution-rate-limit-cache⑦">11.11. Triggering attribution</a> <a href="#ref-for-attribution-rate-limit-cache⑧">(2)</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-attribution-caches" class="dfn-panel" data-for="attribution-caches" id="infopanel-for-attribution-caches">
   <span id="infopaneltitle-for-attribution-caches" style="display:none">Info about the 'attribution caches' definition.</span><b><a href="#attribution-caches">#attribution-caches</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-attribution-caches">7. Storage</a>
    <li><a href="#ref-for-attribution-caches①">15.1. Clearing attribution storage</a> <a href="#ref-for-attribution-caches②">(2)</a> <a href="#ref-for-attribution-caches③">(3)</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-max-source-expiry" class="dfn-panel" data-for="max-source-expiry" id="infopanel-for-max-source-expiry">
   <span id="infopaneltitle-for-max-source-expiry" style="display:none">Info about the 'Max source expiry' definition.</span><b><a href="#max-source-expiry">#max-source-expiry</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-max-source-expiry">10.4. Parsing source-registration JSON</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-max-entries-per-filter-data" class="dfn-panel" data-for="max-entries-per-filter-data" id="infopanel-for-max-entries-per-filter-data">
   <span id="infopaneltitle-for-max-entries-per-filter-data" style="display:none">Info about the 'Max entries per filter data' definition.</span><b><a href="#max-entries-per-filter-data">#max-entries-per-filter-data</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-max-entries-per-filter-data">9.3. Parsing filter data</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-max-values-per-filter-data-entry" class="dfn-panel" data-for="max-values-per-filter-data-entry" id="infopanel-for-max-values-per-filter-data-entry">
   <span id="infopaneltitle-for-max-values-per-filter-data-entry" style="display:none">Info about the 'Max values per filter data entry' definition.</span><b><a href="#max-values-per-filter-data-entry">#max-values-per-filter-data-entry</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-max-values-per-filter-data-entry">9.3. Parsing filter data</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-max-aggregation-keys-per-attribution" class="dfn-panel" data-for="max-aggregation-keys-per-attribution" id="infopanel-for-max-aggregation-keys-per-attribution">
   <span id="infopaneltitle-for-max-aggregation-keys-per-attribution" style="display:none">Info about the 'Max aggregation keys per attribution' definition.</span><b><a href="#max-aggregation-keys-per-attribution">#max-aggregation-keys-per-attribution</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-max-aggregation-keys-per-attribution">10.4. Parsing source-registration JSON</a>
    <li><a href="#ref-for-max-aggregation-keys-per-attribution①">11.1. Creating an attribution trigger</a> <a href="#ref-for-max-aggregation-keys-per-attribution②">(2)</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-max-pending-sources-per-source-origin" class="dfn-panel" data-for="max-pending-sources-per-source-origin" id="infopanel-for-max-pending-sources-per-source-origin">
   <span id="infopaneltitle-for-max-pending-sources-per-source-origin" style="display:none">Info about the 'Max pending sources per source origin' definition.</span><b><a href="#max-pending-sources-per-source-origin">#max-pending-sources-per-source-origin</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-max-pending-sources-per-source-origin">10.5. Processing an attribution source</a> <a href="#ref-for-max-pending-sources-per-source-origin①">(2)</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-navigation-source-trigger-data-cardinality" class="dfn-panel" data-for="navigation-source-trigger-data-cardinality" id="infopanel-for-navigation-source-trigger-data-cardinality">
   <span id="infopaneltitle-for-navigation-source-trigger-data-cardinality" style="display:none">Info about the 'Navigation-source trigger data cardinality' definition.</span><b><a href="#navigation-source-trigger-data-cardinality">#navigation-source-trigger-data-cardinality</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-navigation-source-trigger-data-cardinality">8. Vendor-Specific Values</a>
    <li><a href="#ref-for-navigation-source-trigger-data-cardinality①">10.4. Parsing source-registration JSON</a>
    <li><a href="#ref-for-navigation-source-trigger-data-cardinality②">11.13. Obtaining an event-level report</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-event-source-trigger-data-cardinality" class="dfn-panel" data-for="event-source-trigger-data-cardinality" id="infopanel-for-event-source-trigger-data-cardinality">
   <span id="infopaneltitle-for-event-source-trigger-data-cardinality" style="display:none">Info about the 'Event-source trigger data cardinality' definition.</span><b><a href="#event-source-trigger-data-cardinality">#event-source-trigger-data-cardinality</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-event-source-trigger-data-cardinality">8. Vendor-Specific Values</a>
    <li><a href="#ref-for-event-source-trigger-data-cardinality①">10.4. Parsing source-registration JSON</a>
    <li><a href="#ref-for-event-source-trigger-data-cardinality②">11.13. Obtaining an event-level report</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-randomized-response-epsilon" class="dfn-panel" data-for="randomized-response-epsilon" id="infopanel-for-randomized-response-epsilon">
   <span id="infopaneltitle-for-randomized-response-epsilon" style="display:none">Info about the 'Randomized response epsilon' definition.</span><b><a href="#randomized-response-epsilon">#randomized-response-epsilon</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-randomized-response-epsilon">10.4. Parsing source-registration JSON</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-max-event-level-reports-per-attribution-destination" class="dfn-panel" data-for="max-event-level-reports-per-attribution-destination" id="infopanel-for-max-event-level-reports-per-attribution-destination">
   <span id="infopaneltitle-for-max-event-level-reports-per-attribution-destination" style="display:none">Info about the 'Max event-level reports per attribution destination' definition.</span><b><a href="#max-event-level-reports-per-attribution-destination">#max-event-level-reports-per-attribution-destination</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-max-event-level-reports-per-attribution-destination">10.5. Processing an attribution source</a>
    <li><a href="#ref-for-max-event-level-reports-per-attribution-destination①">11.8. Obtaining debug data on trigger registration</a>
    <li><a href="#ref-for-max-event-level-reports-per-attribution-destination②">11.9. Triggering event-level attribution</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-max-aggregatable-reports-per-attribution-destination" class="dfn-panel" data-for="max-aggregatable-reports-per-attribution-destination" id="infopanel-for-max-aggregatable-reports-per-attribution-destination">
   <span id="infopaneltitle-for-max-aggregatable-reports-per-attribution-destination" style="display:none">Info about the 'Max aggregatable reports per attribution destination' definition.</span><b><a href="#max-aggregatable-reports-per-attribution-destination">#max-aggregatable-reports-per-attribution-destination</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-max-aggregatable-reports-per-attribution-destination">11.8. Obtaining debug data on trigger registration</a>
    <li><a href="#ref-for-max-aggregatable-reports-per-attribution-destination①">11.10. Triggering aggregatable attribution</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-max-attributions-per-navigation-source" class="dfn-panel" data-for="max-attributions-per-navigation-source" id="infopanel-for-max-attributions-per-navigation-source">
   <span id="infopaneltitle-for-max-attributions-per-navigation-source" style="display:none">Info about the 'Max attributions per navigation source' definition.</span><b><a href="#max-attributions-per-navigation-source">#max-attributions-per-navigation-source</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-max-attributions-per-navigation-source">10.4. Parsing source-registration JSON</a>
    <li><a href="#ref-for-max-attributions-per-navigation-source①">11.9. Triggering event-level attribution</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-max-attributions-per-event-source" class="dfn-panel" data-for="max-attributions-per-event-source" id="infopanel-for-max-attributions-per-event-source">
   <span id="infopaneltitle-for-max-attributions-per-event-source" style="display:none">Info about the 'Max attributions per event source' definition.</span><b><a href="#max-attributions-per-event-source">#max-attributions-per-event-source</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-max-attributions-per-event-source">10.4. Parsing source-registration JSON</a>
    <li><a href="#ref-for-max-attributions-per-event-source①">11.9. Triggering event-level attribution</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-max-destinations-covered-by-unexpired-sources" class="dfn-panel" data-for="max-destinations-covered-by-unexpired-sources" id="infopanel-for-max-destinations-covered-by-unexpired-sources">
   <span id="infopaneltitle-for-max-destinations-covered-by-unexpired-sources" style="display:none">Info about the 'Max destinations covered by unexpired sources' definition.</span><b><a href="#max-destinations-covered-by-unexpired-sources">#max-destinations-covered-by-unexpired-sources</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-max-destinations-covered-by-unexpired-sources">10.5. Processing an attribution source</a> <a href="#ref-for-max-destinations-covered-by-unexpired-sources①">(2)</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-attribution-rate-limit-window" class="dfn-panel" data-for="attribution-rate-limit-window" id="infopanel-for-attribution-rate-limit-window">
   <span id="infopaneltitle-for-attribution-rate-limit-window" style="display:none">Info about the 'Attribution rate-limit window' definition.</span><b><a href="#attribution-rate-limit-window">#attribution-rate-limit-window</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-attribution-rate-limit-window">8. Vendor-Specific Values</a> <a href="#ref-for-attribution-rate-limit-window①">(2)</a> <a href="#ref-for-attribution-rate-limit-window②">(3)</a>
    <li><a href="#ref-for-attribution-rate-limit-window③">11.3. Should attribution be blocked by attribution rate limit</a>
    <li><a href="#ref-for-attribution-rate-limit-window④">11.4. Should processing be blocked by reporting-endpoint limit</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-max-source-reporting-endpoints-per-rate-limit-window" class="dfn-panel" data-for="max-source-reporting-endpoints-per-rate-limit-window" id="infopanel-for-max-source-reporting-endpoints-per-rate-limit-window">
   <span id="infopaneltitle-for-max-source-reporting-endpoints-per-rate-limit-window" style="display:none">Info about the 'Max source reporting endpoints per rate-limit window' definition.</span><b><a href="#max-source-reporting-endpoints-per-rate-limit-window">#max-source-reporting-endpoints-per-rate-limit-window</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-max-source-reporting-endpoints-per-rate-limit-window">11.4. Should processing be blocked by reporting-endpoint limit</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-max-attribution-reporting-endpoints-per-rate-limit-window" class="dfn-panel" data-for="max-attribution-reporting-endpoints-per-rate-limit-window" id="infopanel-for-max-attribution-reporting-endpoints-per-rate-limit-window">
   <span id="infopaneltitle-for-max-attribution-reporting-endpoints-per-rate-limit-window" style="display:none">Info about the 'Max attribution reporting endpoints per rate-limit window' definition.</span><b><a href="#max-attribution-reporting-endpoints-per-rate-limit-window">#max-attribution-reporting-endpoints-per-rate-limit-window</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-max-attribution-reporting-endpoints-per-rate-limit-window">11.4. Should processing be blocked by reporting-endpoint limit</a>
    <li><a href="#ref-for-max-attribution-reporting-endpoints-per-rate-limit-window①">11.8. Obtaining debug data on trigger registration</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-max-attributions-per-rate-limit-window" class="dfn-panel" data-for="max-attributions-per-rate-limit-window" id="infopanel-for-max-attributions-per-rate-limit-window">
   <span id="infopaneltitle-for-max-attributions-per-rate-limit-window" style="display:none">Info about the 'Max attributions per rate-limit window' definition.</span><b><a href="#max-attributions-per-rate-limit-window">#max-attributions-per-rate-limit-window</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-max-attributions-per-rate-limit-window">11.3. Should attribution be blocked by attribution rate limit</a>
    <li><a href="#ref-for-max-attributions-per-rate-limit-window①">11.8. Obtaining debug data on trigger registration</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-allowed-aggregatable-budget-per-source" class="dfn-panel" data-for="allowed-aggregatable-budget-per-source" id="infopanel-for-allowed-aggregatable-budget-per-source">
   <span id="infopaneltitle-for-allowed-aggregatable-budget-per-source" style="display:none">Info about the 'Allowed aggregatable budget per source' definition.</span><b><a href="#allowed-aggregatable-budget-per-source">#allowed-aggregatable-budget-per-source</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-allowed-aggregatable-budget-per-source">11.7. Can source create aggregatable contributions</a>
    <li><a href="#ref-for-allowed-aggregatable-budget-per-source①">11.8. Obtaining debug data on trigger registration</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-min-aggregatable-report-delay" class="dfn-panel" data-for="min-aggregatable-report-delay" id="infopanel-for-min-aggregatable-report-delay">
   <span id="infopaneltitle-for-min-aggregatable-report-delay" style="display:none">Info about the 'Min aggregatable report delay' definition.</span><b><a href="#min-aggregatable-report-delay">#min-aggregatable-report-delay</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-min-aggregatable-report-delay">11.12. Establishing report delivery time</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-randomized-aggregatable-report-delay" class="dfn-panel" data-for="randomized-aggregatable-report-delay" id="infopanel-for-randomized-aggregatable-report-delay">
   <span id="infopaneltitle-for-randomized-aggregatable-report-delay" style="display:none">Info about the 'Randomized aggregatable report delay' definition.</span><b><a href="#randomized-aggregatable-report-delay">#randomized-aggregatable-report-delay</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-randomized-aggregatable-report-delay">11.12. Establishing report delivery time</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-default-aggregation-coordinator" class="dfn-panel" data-for="default-aggregation-coordinator" id="infopanel-for-default-aggregation-coordinator">
   <span id="infopaneltitle-for-default-aggregation-coordinator" style="display:none">Info about the 'Default aggregation coordinator' definition.</span><b><a href="#default-aggregation-coordinator">#default-aggregation-coordinator</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-default-aggregation-coordinator">10.5. Processing an attribution source</a>
    <li><a href="#ref-for-default-aggregation-coordinator①">11.1. Creating an attribution trigger</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-serialize-an-integer" class="dfn-panel" data-for="serialize-an-integer" id="infopanel-for-serialize-an-integer">
   <span id="infopaneltitle-for-serialize-an-integer" style="display:none">Info about the 'serialize an integer' definition.</span><b><a href="#serialize-an-integer">#serialize-an-integer</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-serialize-an-integer">10.5. Processing an attribution source</a> <a href="#ref-for-serialize-an-integer①">(2)</a> <a href="#ref-for-serialize-an-integer②">(3)</a> <a href="#ref-for-serialize-an-integer③">(4)</a>
    <li><a href="#ref-for-serialize-an-integer④">11.8. Obtaining debug data on trigger registration</a> <a href="#ref-for-serialize-an-integer⑤">(2)</a> <a href="#ref-for-serialize-an-integer⑥">(3)</a> <a href="#ref-for-serialize-an-integer⑦">(4)</a> <a href="#ref-for-serialize-an-integer⑧">(5)</a> <a href="#ref-for-serialize-an-integer⑨">(6)</a> <a href="#ref-for-serialize-an-integer①⓪">(7)</a> <a href="#ref-for-serialize-an-integer①①">(8)</a>
    <li><a href="#ref-for-serialize-an-integer①②">12.3. Obtaining an aggregatable report’s shared info</a> <a href="#ref-for-serialize-an-integer①③">(2)</a>
    <li><a href="#ref-for-serialize-an-integer①④">12.5. Serialize attribution report body</a> <a href="#ref-for-serialize-an-integer①⑤">(2)</a> <a href="#ref-for-serialize-an-integer①⑥">(3)</a> <a href="#ref-for-serialize-an-integer①⑦">(4)</a> <a href="#ref-for-serialize-an-integer①⑧">(5)</a> <a href="#ref-for-serialize-an-integer①⑨">(6)</a> <a href="#ref-for-serialize-an-integer②⓪">(7)</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-serialize-attribution-destinations" class="dfn-panel" data-for="serialize-attribution-destinations" id="infopanel-for-serialize-attribution-destinations">
   <span id="infopaneltitle-for-serialize-attribution-destinations" style="display:none">Info about the 'serialize attribution destinations' definition.</span><b><a href="#serialize-attribution-destinations">#serialize-attribution-destinations</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-serialize-attribution-destinations">10.5. Processing an attribution source</a>
    <li><a href="#ref-for-serialize-attribution-destinations①">12.5. Serialize attribution report body</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-check-if-an-origin-is-suitable" class="dfn-panel" data-for="check-if-an-origin-is-suitable" id="infopanel-for-check-if-an-origin-is-suitable">
   <span id="infopaneltitle-for-check-if-an-origin-is-suitable" style="display:none">Info about the 'check if an origin is suitable' definition.</span><b><a href="#check-if-an-origin-is-suitable">#check-if-an-origin-is-suitable</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-check-if-an-origin-is-suitable">6.5. Suitable origin</a>
    <li><a href="#ref-for-check-if-an-origin-is-suitable①">9.10. Making a background attributionsrc request</a> <a href="#ref-for-check-if-an-origin-is-suitable②">(2)</a>
    <li><a href="#ref-for-check-if-an-origin-is-suitable③">10.4. Parsing source-registration JSON</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-parse-filter-values" class="dfn-panel" data-for="parse-filter-values" id="infopanel-for-parse-filter-values">
   <span id="infopaneltitle-for-parse-filter-values" style="display:none">Info about the 'parse filter values' definition.</span><b><a href="#parse-filter-values">#parse-filter-values</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-parse-filter-values">9.3. Parsing filter data</a>
    <li><a href="#ref-for-parse-filter-values①">9.4. Parsing filters</a> <a href="#ref-for-parse-filter-values②">(2)</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-parse-filter-data" class="dfn-panel" data-for="parse-filter-data" id="infopanel-for-parse-filter-data">
   <span id="infopaneltitle-for-parse-filter-data" style="display:none">Info about the 'parse filter data' definition.</span><b><a href="#parse-filter-data">#parse-filter-data</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-parse-filter-data">10.4. Parsing source-registration JSON</a>
    <li><a href="#ref-for-parse-filter-data①">11.1. Creating an attribution trigger</a> <a href="#ref-for-parse-filter-data②">(2)</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-parse-filters" class="dfn-panel" data-for="parse-filters" id="infopanel-for-parse-filters">
   <span id="infopaneltitle-for-parse-filters" style="display:none">Info about the 'parse filters' definition.</span><b><a href="#parse-filters">#parse-filters</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-parse-filters">11.1. Creating an attribution trigger</a> <a href="#ref-for-parse-filters①">(2)</a> <a href="#ref-for-parse-filters②">(3)</a> <a href="#ref-for-parse-filters③">(4)</a> <a href="#ref-for-parse-filters④">(5)</a> <a href="#ref-for-parse-filters⑤">(6)</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-check-if-cookie-based-debugging-is-allowed" class="dfn-panel" data-for="check-if-cookie-based-debugging-is-allowed" id="infopanel-for-check-if-cookie-based-debugging-is-allowed">
   <span id="infopaneltitle-for-check-if-cookie-based-debugging-is-allowed" style="display:none">Info about the 'check if cookie-based debugging is allowed' definition.</span><b><a href="#check-if-cookie-based-debugging-is-allowed">#check-if-cookie-based-debugging-is-allowed</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-check-if-cookie-based-debugging-is-allowed">10.4. Parsing source-registration JSON</a>
    <li><a href="#ref-for-check-if-cookie-based-debugging-is-allowed①">10.5. Processing an attribution source</a>
    <li><a href="#ref-for-check-if-cookie-based-debugging-is-allowed②">11.1. Creating an attribution trigger</a>
    <li><a href="#ref-for-check-if-cookie-based-debugging-is-allowed③">11.8. Obtaining debug data on trigger registration</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-obtain-a-randomized-response" class="dfn-panel" data-for="obtain-a-randomized-response" id="infopanel-for-obtain-a-randomized-response">
   <span id="infopaneltitle-for-obtain-a-randomized-response" style="display:none">Info about the 'obtain a randomized response' definition.</span><b><a href="#obtain-a-randomized-response">#obtain-a-randomized-response</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-obtain-a-randomized-response">10.1. Obtaining a randomized source response</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-parse-an-aggregation-key-piece" class="dfn-panel" data-for="parse-an-aggregation-key-piece" id="infopanel-for-parse-an-aggregation-key-piece">
   <span id="infopaneltitle-for-parse-an-aggregation-key-piece" style="display:none">Info about the 'parse an aggregation key piece' definition.</span><b><a href="#parse-an-aggregation-key-piece">#parse-an-aggregation-key-piece</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-parse-an-aggregation-key-piece">10.4. Parsing source-registration JSON</a>
    <li><a href="#ref-for-parse-an-aggregation-key-piece①">11.1. Creating an attribution trigger</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-can-attribution-rate-limit-record-be-removed" class="dfn-panel" data-for="can-attribution-rate-limit-record-be-removed" id="infopanel-for-can-attribution-rate-limit-record-be-removed">
   <span id="infopaneltitle-for-can-attribution-rate-limit-record-be-removed" style="display:none">Info about the '9.8. Can attribution rate-limit record be removed' definition.</span><b><a href="#can-attribution-rate-limit-record-be-removed">#can-attribution-rate-limit-record-be-removed</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-can-attribution-rate-limit-record-be-removed">9.8. Can attribution rate-limit record be removed</a>
    <li><a href="#ref-for-can-attribution-rate-limit-record-be-removed">10.5. Processing an attribution source</a>
    <li><a href="#ref-for-can-attribution-rate-limit-record-be-removed①">11.11. Triggering attribution</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-obtain-and-deliver-a-debug-report" class="dfn-panel" data-for="obtain-and-deliver-a-debug-report" id="infopanel-for-obtain-and-deliver-a-debug-report">
   <span id="infopaneltitle-for-obtain-and-deliver-a-debug-report" style="display:none">Info about the 'obtain and deliver a debug report' definition.</span><b><a href="#obtain-and-deliver-a-debug-report">#obtain-and-deliver-a-debug-report</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-obtain-and-deliver-a-debug-report">10.5. Processing an attribution source</a>
    <li><a href="#ref-for-obtain-and-deliver-a-debug-report①">11.11. Triggering attribution</a> <a href="#ref-for-obtain-and-deliver-a-debug-report②">(2)</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-eligibility" class="dfn-panel" data-for="eligibility" id="infopanel-for-eligibility">
   <span id="infopaneltitle-for-eligibility" style="display:none">Info about the 'eligibility' definition.</span><b><a href="#eligibility">#eligibility</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-eligibility">9.10. Making a background attributionsrc request</a> <a href="#ref-for-eligibility①">(2)</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-eligibility-navigation-source" class="dfn-panel" data-for="eligibility-navigation-source" id="infopanel-for-eligibility-navigation-source">
   <span id="infopaneltitle-for-eligibility-navigation-source" style="display:none">Info about the 'navigation-source' definition.</span><b><a href="#eligibility-navigation-source">#eligibility-navigation-source</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-eligibility-navigation-source">9.10. Making a background attributionsrc request</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-eligibility-event-source-trigger" class="dfn-panel" data-for="eligibility-event-source-trigger" id="infopanel-for-eligibility-event-source-trigger">
   <span id="infopaneltitle-for-eligibility-event-source-trigger" style="display:none">Info about the 'event-source, trigger' definition.</span><b><a href="#eligibility-event-source-trigger">#eligibility-event-source-trigger</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-eligibility-event-source-trigger">2.1. API for elements</a>
    <li><a href="#ref-for-eligibility-event-source-trigger①">9.10. Making a background attributionsrc request</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-make-a-background-attributionsrc-request" class="dfn-panel" data-for="make-a-background-attributionsrc-request" id="infopanel-for-make-a-background-attributionsrc-request">
   <span id="infopaneltitle-for-make-a-background-attributionsrc-request" style="display:none">Info about the 'make a background attributionsrc request' definition.</span><b><a href="#make-a-background-attributionsrc-request">#make-a-background-attributionsrc-request</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-make-a-background-attributionsrc-request">2.1. API for elements</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-process-an-attributionsrc-response" class="dfn-panel" data-for="process-an-attributionsrc-response" id="infopanel-for-process-an-attributionsrc-response">
   <span id="infopaneltitle-for-process-an-attributionsrc-response" style="display:none">Info about the 'process an attributionsrc response' definition.</span><b><a href="#process-an-attributionsrc-response">#process-an-attributionsrc-response</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-process-an-attributionsrc-response">9.10. Making a background attributionsrc request</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-obtain-a-set-of-possible-trigger-states" class="dfn-panel" data-for="obtain-a-set-of-possible-trigger-states" id="infopanel-for-obtain-a-set-of-possible-trigger-states">
   <span id="infopaneltitle-for-obtain-a-set-of-possible-trigger-states" style="display:none">Info about the 'obtain a set of possible trigger states' definition.</span><b><a href="#obtain-a-set-of-possible-trigger-states">#obtain-a-set-of-possible-trigger-states</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-obtain-a-set-of-possible-trigger-states">10.1. Obtaining a randomized source response</a> <a href="#ref-for-obtain-a-set-of-possible-trigger-states①">(2)</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-obtain-a-randomized-source-response-pick-rate" class="dfn-panel" data-for="obtain-a-randomized-source-response-pick-rate" id="infopanel-for-obtain-a-randomized-source-response-pick-rate">
   <span id="infopaneltitle-for-obtain-a-randomized-source-response-pick-rate" style="display:none">Info about the 'obtain a randomized source response pick rate' definition.</span><b><a href="#obtain-a-randomized-source-response-pick-rate">#obtain-a-randomized-source-response-pick-rate</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-obtain-a-randomized-source-response-pick-rate">10.1. Obtaining a randomized source response</a>
    <li><a href="#ref-for-obtain-a-randomized-source-response-pick-rate①">10.4. Parsing source-registration JSON</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-obtain-a-randomized-source-response" class="dfn-panel" data-for="obtain-a-randomized-source-response" id="infopanel-for-obtain-a-randomized-source-response">
   <span id="infopaneltitle-for-obtain-a-randomized-source-response" style="display:none">Info about the 'obtain a randomized source response' definition.</span><b><a href="#obtain-a-randomized-source-response">#obtain-a-randomized-source-response</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-obtain-a-randomized-source-response">10.4. Parsing source-registration JSON</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-parse-an-attribution-destination" class="dfn-panel" data-for="parse-an-attribution-destination" id="infopanel-for-parse-an-attribution-destination">
   <span id="infopaneltitle-for-parse-an-attribution-destination" style="display:none">Info about the 'parse an attribution destination' definition.</span><b><a href="#parse-an-attribution-destination">#parse-an-attribution-destination</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-parse-an-attribution-destination">10.4. Parsing source-registration JSON</a> <a href="#ref-for-parse-an-attribution-destination①">(2)</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-parse-attribution-destinations" class="dfn-panel" data-for="parse-attribution-destinations" id="infopanel-for-parse-attribution-destinations">
   <span id="infopaneltitle-for-parse-attribution-destinations" style="display:none">Info about the 'parse attribution destinations' definition.</span><b><a href="#parse-attribution-destinations">#parse-attribution-destinations</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-parse-attribution-destinations">10.4. Parsing source-registration JSON</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-obtain-a-source-expiry" class="dfn-panel" data-for="obtain-a-source-expiry" id="infopanel-for-obtain-a-source-expiry">
   <span id="infopaneltitle-for-obtain-a-source-expiry" style="display:none">Info about the 'obtain a source expiry' definition.</span><b><a href="#obtain-a-source-expiry">#obtain-a-source-expiry</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-obtain-a-source-expiry">10.4. Parsing source-registration JSON</a> <a href="#ref-for-obtain-a-source-expiry①">(2)</a> <a href="#ref-for-obtain-a-source-expiry②">(3)</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-parse-aggregation-keys" class="dfn-panel" data-for="parse-aggregation-keys" id="infopanel-for-parse-aggregation-keys">
   <span id="infopaneltitle-for-parse-aggregation-keys" style="display:none">Info about the 'parse aggregation keys' definition.</span><b><a href="#parse-aggregation-keys">#parse-aggregation-keys</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-parse-aggregation-keys">10.4. Parsing source-registration JSON</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-parse-source-registration-json" class="dfn-panel" data-for="parse-source-registration-json" id="infopanel-for-parse-source-registration-json">
   <span id="infopaneltitle-for-parse-source-registration-json" style="display:none">Info about the 'parse source-registration JSON' definition.</span><b><a href="#parse-source-registration-json">#parse-source-registration-json</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-parse-source-registration-json">9.10. Making a background attributionsrc request</a> <a href="#ref-for-parse-source-registration-json①">(2)</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-check-if-an-attribution-source-exceeds-the-unexpired-destination-limit" class="dfn-panel" data-for="check-if-an-attribution-source-exceeds-the-unexpired-destination-limit" id="infopanel-for-check-if-an-attribution-source-exceeds-the-unexpired-destination-limit">
   <span id="infopaneltitle-for-check-if-an-attribution-source-exceeds-the-unexpired-destination-limit" style="display:none">Info about the 'check if an attribution source exceeds the unexpired destination limit' definition.</span><b><a href="#check-if-an-attribution-source-exceeds-the-unexpired-destination-limit">#check-if-an-attribution-source-exceeds-the-unexpired-destination-limit</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-check-if-an-attribution-source-exceeds-the-unexpired-destination-limit">10.5. Processing an attribution source</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-obtain-a-fake-report" class="dfn-panel" data-for="obtain-a-fake-report" id="infopanel-for-obtain-a-fake-report">
   <span id="infopaneltitle-for-obtain-a-fake-report" style="display:none">Info about the 'obtain a fake report' definition.</span><b><a href="#obtain-a-fake-report">#obtain-a-fake-report</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-obtain-a-fake-report">10.5. Processing an attribution source</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-check-if-debug-reporting-is-allowed" class="dfn-panel" data-for="check-if-debug-reporting-is-allowed" id="infopanel-for-check-if-debug-reporting-is-allowed">
   <span id="infopaneltitle-for-check-if-debug-reporting-is-allowed" style="display:none">Info about the 'check if debug reporting is allowed' definition.</span><b><a href="#check-if-debug-reporting-is-allowed">#check-if-debug-reporting-is-allowed</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-check-if-debug-reporting-is-allowed">10.5. Processing an attribution source</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-obtain-and-deliver-a-debug-report-on-source-registration" class="dfn-panel" data-for="obtain-and-deliver-a-debug-report-on-source-registration" id="infopanel-for-obtain-and-deliver-a-debug-report-on-source-registration">
   <span id="infopaneltitle-for-obtain-and-deliver-a-debug-report-on-source-registration" style="display:none">Info about the 'obtain and deliver a debug report on source registration' definition.</span><b><a href="#obtain-and-deliver-a-debug-report-on-source-registration">#obtain-and-deliver-a-debug-report-on-source-registration</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-obtain-and-deliver-a-debug-report-on-source-registration">10.5. Processing an attribution source</a> <a href="#ref-for-obtain-and-deliver-a-debug-report-on-source-registration①">(2)</a> <a href="#ref-for-obtain-and-deliver-a-debug-report-on-source-registration②">(3)</a> <a href="#ref-for-obtain-and-deliver-a-debug-report-on-source-registration③">(4)</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-process-an-attribution-source" class="dfn-panel" data-for="process-an-attribution-source" id="infopanel-for-process-an-attribution-source">
   <span id="infopaneltitle-for-process-an-attribution-source" style="display:none">Info about the 'process an attribution source' definition.</span><b><a href="#process-an-attribution-source">#process-an-attribution-source</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-process-an-attribution-source">9.10. Making a background attributionsrc request</a> <a href="#ref-for-process-an-attribution-source①">(2)</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-parse-event-triggers" class="dfn-panel" data-for="parse-event-triggers" id="infopanel-for-parse-event-triggers">
   <span id="infopaneltitle-for-parse-event-triggers" style="display:none">Info about the 'parse event triggers' definition.</span><b><a href="#parse-event-triggers">#parse-event-triggers</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-parse-event-triggers">11.1. Creating an attribution trigger</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-parse-aggregatable-trigger-data" class="dfn-panel" data-for="parse-aggregatable-trigger-data" id="infopanel-for-parse-aggregatable-trigger-data">
   <span id="infopaneltitle-for-parse-aggregatable-trigger-data" style="display:none">Info about the 'parse aggregatable trigger data' definition.</span><b><a href="#parse-aggregatable-trigger-data">#parse-aggregatable-trigger-data</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-parse-aggregatable-trigger-data">11.1. Creating an attribution trigger</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-parse-aggregatable-values" class="dfn-panel" data-for="parse-aggregatable-values" id="infopanel-for-parse-aggregatable-values">
   <span id="infopaneltitle-for-parse-aggregatable-values" style="display:none">Info about the 'parse aggregatable values' definition.</span><b><a href="#parse-aggregatable-values">#parse-aggregatable-values</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-parse-aggregatable-values">11.1. Creating an attribution trigger</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-parse-aggregatable-dedup-keys" class="dfn-panel" data-for="parse-aggregatable-dedup-keys" id="infopanel-for-parse-aggregatable-dedup-keys">
   <span id="infopaneltitle-for-parse-aggregatable-dedup-keys" style="display:none">Info about the 'parse aggregatable dedup keys' definition.</span><b><a href="#parse-aggregatable-dedup-keys">#parse-aggregatable-dedup-keys</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-parse-aggregatable-dedup-keys">11.1. Creating an attribution trigger</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-serialize-a-private-state-token" class="dfn-panel" data-for="serialize-a-private-state-token" id="infopanel-for-serialize-a-private-state-token">
   <span id="infopaneltitle-for-serialize-a-private-state-token" style="display:none">Info about the 'serialize a private state token' definition.</span><b><a href="#serialize-a-private-state-token">#serialize-a-private-state-token</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-serialize-a-private-state-token">11.1. Creating an attribution trigger</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-create-an-attribution-trigger" class="dfn-panel" data-for="create-an-attribution-trigger" id="infopanel-for-create-an-attribution-trigger">
   <span id="infopaneltitle-for-create-an-attribution-trigger" style="display:none">Info about the 'create an attribution trigger' definition.</span><b><a href="#create-an-attribution-trigger">#create-an-attribution-trigger</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-create-an-attribution-trigger">9.10. Making a background attributionsrc request</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-does-filter-data-match" class="dfn-panel" data-for="does-filter-data-match" id="infopanel-for-does-filter-data-match">
   <span id="infopaneltitle-for-does-filter-data-match" style="display:none">Info about the '11.2. Does filter data match' definition.</span><b><a href="#does-filter-data-match">#does-filter-data-match</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-does-filter-data-match">11.2. Does filter data match</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-match-filter-values" class="dfn-panel" data-for="match-filter-values" id="infopanel-for-match-filter-values">
   <span id="infopaneltitle-for-match-filter-values" style="display:none">Info about the 'match filter values' definition.</span><b><a href="#match-filter-values">#match-filter-values</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-match-filter-values">11.2. Does filter data match</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-match-filter-values-with-negation" class="dfn-panel" data-for="match-filter-values-with-negation" id="infopanel-for-match-filter-values-with-negation">
   <span id="infopaneltitle-for-match-filter-values-with-negation" style="display:none">Info about the 'match filter values with negation' definition.</span><b><a href="#match-filter-values-with-negation">#match-filter-values-with-negation</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-match-filter-values-with-negation">11.2. Does filter data match</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-match-an-attribution-sources-filter-data-against-a-filter-map" class="dfn-panel" data-for="match-an-attribution-sources-filter-data-against-a-filter-map" id="infopanel-for-match-an-attribution-sources-filter-data-against-a-filter-map">
   <span id="infopaneltitle-for-match-an-attribution-sources-filter-data-against-a-filter-map" style="display:none">Info about the 'match an attribution source’s filter data against a filter map' definition.</span><b><a href="#match-an-attribution-sources-filter-data-against-a-filter-map">#match-an-attribution-sources-filter-data-against-a-filter-map</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-match-an-attribution-sources-filter-data-against-a-filter-map">11.2. Does filter data match</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-match-an-attribution-sources-filter-data-against-filters" class="dfn-panel" data-for="match-an-attribution-sources-filter-data-against-filters" id="infopanel-for-match-an-attribution-sources-filter-data-against-filters">
   <span id="infopaneltitle-for-match-an-attribution-sources-filter-data-against-filters" style="display:none">Info about the 'match an attribution source’s filter data against filters' definition.</span><b><a href="#match-an-attribution-sources-filter-data-against-filters">#match-an-attribution-sources-filter-data-against-filters</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-match-an-attribution-sources-filter-data-against-filters">11.2. Does filter data match</a> <a href="#ref-for-match-an-attribution-sources-filter-data-against-filters①">(2)</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-match-an-attribution-sources-filter-data-against-filters-isnegated" class="dfn-panel" data-for="match-an-attribution-sources-filter-data-against-filters-isnegated" id="infopanel-for-match-an-attribution-sources-filter-data-against-filters-isnegated">
   <span id="infopaneltitle-for-match-an-attribution-sources-filter-data-against-filters-isnegated" style="display:none">Info about the 'isNegated' definition.</span><b><a href="#match-an-attribution-sources-filter-data-against-filters-isnegated">#match-an-attribution-sources-filter-data-against-filters-isnegated</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-match-an-attribution-sources-filter-data-against-filters-isnegated">11.2. Does filter data match</a> <a href="#ref-for-match-an-attribution-sources-filter-data-against-filters-isnegated①">(2)</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-match-an-attribution-sources-filter-data-against-filters-and-negated-filters" class="dfn-panel" data-for="match-an-attribution-sources-filter-data-against-filters-and-negated-filters" id="infopanel-for-match-an-attribution-sources-filter-data-against-filters-and-negated-filters">
   <span id="infopaneltitle-for-match-an-attribution-sources-filter-data-against-filters-and-negated-filters" style="display:none">Info about the 'match an attribution source’s filter data against filters and negated filters' definition.</span><b><a href="#match-an-attribution-sources-filter-data-against-filters-and-negated-filters">#match-an-attribution-sources-filter-data-against-filters-and-negated-filters</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-match-an-attribution-sources-filter-data-against-filters-and-negated-filters">11.6. Creating aggregatable contributions</a>
    <li><a href="#ref-for-match-an-attribution-sources-filter-data-against-filters-and-negated-filters①">11.9. Triggering event-level attribution</a>
    <li><a href="#ref-for-match-an-attribution-sources-filter-data-against-filters-and-negated-filters②">11.10. Triggering aggregatable attribution</a>
    <li><a href="#ref-for-match-an-attribution-sources-filter-data-against-filters-and-negated-filters③">11.11. Triggering attribution</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-should-block-attribution-for-attribution-limit" class="dfn-panel" data-for="should-block-attribution-for-attribution-limit" id="infopanel-for-should-block-attribution-for-attribution-limit">
   <span id="infopaneltitle-for-should-block-attribution-for-attribution-limit" style="display:none">Info about the '11.3. Should attribution be blocked by attribution rate limit' definition.</span><b><a href="#should-block-attribution-for-attribution-limit">#should-block-attribution-for-attribution-limit</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-should-block-attribution-for-attribution-limit">11.3. Should attribution be blocked by attribution rate limit</a>
    <li><a href="#ref-for-should-block-attribution-for-attribution-limit">11.5. Should attribution be blocked by rate limits</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-should-block-processing-for-reporting-endpoint-limit" class="dfn-panel" data-for="should-block-processing-for-reporting-endpoint-limit" id="infopanel-for-should-block-processing-for-reporting-endpoint-limit">
   <span id="infopaneltitle-for-should-block-processing-for-reporting-endpoint-limit" style="display:none">Info about the '11.4. Should processing be blocked by reporting-endpoint limit' definition.</span><b><a href="#should-block-processing-for-reporting-endpoint-limit">#should-block-processing-for-reporting-endpoint-limit</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-should-block-processing-for-reporting-endpoint-limit">10.5. Processing an attribution source</a>
    <li><a href="#ref-for-should-block-processing-for-reporting-endpoint-limit">11.4. Should processing be blocked by reporting-endpoint limit</a>
    <li><a href="#ref-for-should-block-processing-for-reporting-endpoint-limit①">11.5. Should attribution be blocked by rate limits</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-should-block-attribution-for-rate-limits" class="dfn-panel" data-for="should-block-attribution-for-rate-limits" id="infopanel-for-should-block-attribution-for-rate-limits">
   <span id="infopaneltitle-for-should-block-attribution-for-rate-limits" style="display:none">Info about the '11.5. Should attribution be blocked by rate limits' definition.</span><b><a href="#should-block-attribution-for-rate-limits">#should-block-attribution-for-rate-limits</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-should-block-attribution-for-rate-limits">11.5. Should attribution be blocked by rate limits</a>
    <li><a href="#ref-for-should-block-attribution-for-rate-limits">11.9. Triggering event-level attribution</a>
    <li><a href="#ref-for-should-block-attribution-for-rate-limits①">11.10. Triggering aggregatable attribution</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-create-aggregatable-contributions" class="dfn-panel" data-for="create-aggregatable-contributions" id="infopanel-for-create-aggregatable-contributions">
   <span id="infopaneltitle-for-create-aggregatable-contributions" style="display:none">Info about the 'create aggregatable contributions' definition.</span><b><a href="#create-aggregatable-contributions">#create-aggregatable-contributions</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-create-aggregatable-contributions">11.15. Obtaining an aggregatable report</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-check-if-an-attribution-source-can-create-aggregatable-contributions" class="dfn-panel" data-for="check-if-an-attribution-source-can-create-aggregatable-contributions" id="infopanel-for-check-if-an-attribution-source-can-create-aggregatable-contributions">
   <span id="infopaneltitle-for-check-if-an-attribution-source-can-create-aggregatable-contributions" style="display:none">Info about the 'check if an attribution source can create aggregatable contributions' definition.</span><b><a href="#check-if-an-attribution-source-can-create-aggregatable-contributions">#check-if-an-attribution-source-can-create-aggregatable-contributions</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-check-if-an-attribution-source-can-create-aggregatable-contributions">11.10. Triggering aggregatable attribution</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-obtain-debug-data-body-on-trigger-registration" class="dfn-panel" data-for="obtain-debug-data-body-on-trigger-registration" id="infopanel-for-obtain-debug-data-body-on-trigger-registration">
   <span id="infopaneltitle-for-obtain-debug-data-body-on-trigger-registration" style="display:none">Info about the 'obtain debug data body on trigger registration' definition.</span><b><a href="#obtain-debug-data-body-on-trigger-registration">#obtain-debug-data-body-on-trigger-registration</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-obtain-debug-data-body-on-trigger-registration">11.8. Obtaining debug data on trigger registration</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-obtain-debug-data-on-trigger-registration" class="dfn-panel" data-for="obtain-debug-data-on-trigger-registration" id="infopanel-for-obtain-debug-data-on-trigger-registration">
   <span id="infopaneltitle-for-obtain-debug-data-on-trigger-registration" style="display:none">Info about the 'obtain debug data on trigger registration' definition.</span><b><a href="#obtain-debug-data-on-trigger-registration">#obtain-debug-data-on-trigger-registration</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-obtain-debug-data-on-trigger-registration">11.5. Should attribution be blocked by rate limits</a> <a href="#ref-for-obtain-debug-data-on-trigger-registration①">(2)</a>
    <li><a href="#ref-for-obtain-debug-data-on-trigger-registration②">11.9. Triggering event-level attribution</a> <a href="#ref-for-obtain-debug-data-on-trigger-registration③">(2)</a> <a href="#ref-for-obtain-debug-data-on-trigger-registration④">(3)</a> <a href="#ref-for-obtain-debug-data-on-trigger-registration⑤">(4)</a> <a href="#ref-for-obtain-debug-data-on-trigger-registration⑥">(5)</a> <a href="#ref-for-obtain-debug-data-on-trigger-registration⑦">(6)</a> <a href="#ref-for-obtain-debug-data-on-trigger-registration⑧">(7)</a> <a href="#ref-for-obtain-debug-data-on-trigger-registration⑨">(8)</a> <a href="#ref-for-obtain-debug-data-on-trigger-registration①⓪">(9)</a>
    <li><a href="#ref-for-obtain-debug-data-on-trigger-registration①①">11.10. Triggering aggregatable attribution</a> <a href="#ref-for-obtain-debug-data-on-trigger-registration①②">(2)</a> <a href="#ref-for-obtain-debug-data-on-trigger-registration①③">(3)</a> <a href="#ref-for-obtain-debug-data-on-trigger-registration①④">(4)</a> <a href="#ref-for-obtain-debug-data-on-trigger-registration①⑤">(5)</a>
    <li><a href="#ref-for-obtain-debug-data-on-trigger-registration①⑥">11.11. Triggering attribution</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-obtain-debug-data-on-trigger-registration-report" class="dfn-panel" data-for="obtain-debug-data-on-trigger-registration-report" id="infopanel-for-obtain-debug-data-on-trigger-registration-report">
   <span id="infopaneltitle-for-obtain-debug-data-on-trigger-registration-report" style="display:none">Info about the 'report' definition.</span><b><a href="#obtain-debug-data-on-trigger-registration-report">#obtain-debug-data-on-trigger-registration-report</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-obtain-debug-data-on-trigger-registration-report">11.5. Should attribution be blocked by rate limits</a> <a href="#ref-for-obtain-debug-data-on-trigger-registration-report①">(2)</a>
    <li><a href="#ref-for-obtain-debug-data-on-trigger-registration-report②">11.9. Triggering event-level attribution</a> <a href="#ref-for-obtain-debug-data-on-trigger-registration-report③">(2)</a> <a href="#ref-for-obtain-debug-data-on-trigger-registration-report④">(3)</a> <a href="#ref-for-obtain-debug-data-on-trigger-registration-report⑤">(4)</a> <a href="#ref-for-obtain-debug-data-on-trigger-registration-report⑥">(5)</a> <a href="#ref-for-obtain-debug-data-on-trigger-registration-report⑦">(6)</a>
    <li><a href="#ref-for-obtain-debug-data-on-trigger-registration-report⑧">11.10. Triggering aggregatable attribution</a> <a href="#ref-for-obtain-debug-data-on-trigger-registration-report⑨">(2)</a> <a href="#ref-for-obtain-debug-data-on-trigger-registration-report①⓪">(3)</a> <a href="#ref-for-obtain-debug-data-on-trigger-registration-report①①">(4)</a> <a href="#ref-for-obtain-debug-data-on-trigger-registration-report①②">(5)</a>
    <li><a href="#ref-for-obtain-debug-data-on-trigger-registration-report①③">11.11. Triggering attribution</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-trigger-event-level-attribution" class="dfn-panel" data-for="trigger-event-level-attribution" id="infopanel-for-trigger-event-level-attribution">
   <span id="infopaneltitle-for-trigger-event-level-attribution" style="display:none">Info about the 'trigger event-level attribution' definition.</span><b><a href="#trigger-event-level-attribution">#trigger-event-level-attribution</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-trigger-event-level-attribution">6.20. Triggering result</a>
    <li><a href="#ref-for-trigger-event-level-attribution①">11.11. Triggering attribution</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-trigger-aggregatable-attribution" class="dfn-panel" data-for="trigger-aggregatable-attribution" id="infopanel-for-trigger-aggregatable-attribution">
   <span id="infopaneltitle-for-trigger-aggregatable-attribution" style="display:none">Info about the 'trigger aggregatable attribution' definition.</span><b><a href="#trigger-aggregatable-attribution">#trigger-aggregatable-attribution</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-trigger-aggregatable-attribution">11.11. Triggering attribution</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-obtain-and-deliver-a-debug-report-on-trigger-registration" class="dfn-panel" data-for="obtain-and-deliver-a-debug-report-on-trigger-registration" id="infopanel-for-obtain-and-deliver-a-debug-report-on-trigger-registration">
   <span id="infopaneltitle-for-obtain-and-deliver-a-debug-report-on-trigger-registration" style="display:none">Info about the 'obtain and deliver a debug report on trigger registration' definition.</span><b><a href="#obtain-and-deliver-a-debug-report-on-trigger-registration">#obtain-and-deliver-a-debug-report-on-trigger-registration</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-obtain-and-deliver-a-debug-report-on-trigger-registration">11.11. Triggering attribution</a> <a href="#ref-for-obtain-and-deliver-a-debug-report-on-trigger-registration①">(2)</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-obtain-and-deliver-a-debug-report-on-trigger-registration-sourcetoattribute" class="dfn-panel" data-for="obtain-and-deliver-a-debug-report-on-trigger-registration-sourcetoattribute" id="infopanel-for-obtain-and-deliver-a-debug-report-on-trigger-registration-sourcetoattribute">
   <span id="infopaneltitle-for-obtain-and-deliver-a-debug-report-on-trigger-registration-sourcetoattribute" style="display:none">Info about the 'sourceToAttribute' definition.</span><b><a href="#obtain-and-deliver-a-debug-report-on-trigger-registration-sourcetoattribute">#obtain-and-deliver-a-debug-report-on-trigger-registration-sourcetoattribute</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-obtain-and-deliver-a-debug-report-on-trigger-registration-sourcetoattribute">11.11. Triggering attribution</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-find-matching-sources" class="dfn-panel" data-for="find-matching-sources" id="infopanel-for-find-matching-sources">
   <span id="infopaneltitle-for-find-matching-sources" style="display:none">Info about the 'find matching sources' definition.</span><b><a href="#find-matching-sources">#find-matching-sources</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-find-matching-sources">11.11. Triggering attribution</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-trigger-attribution" class="dfn-panel" data-for="trigger-attribution" id="infopanel-for-trigger-attribution">
   <span id="infopaneltitle-for-trigger-attribution" style="display:none">Info about the 'trigger attribution' definition.</span><b><a href="#trigger-attribution">#trigger-attribution</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-trigger-attribution">9.10. Making a background attributionsrc request</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-obtain-early-deadlines" class="dfn-panel" data-for="obtain-early-deadlines" id="infopanel-for-obtain-early-deadlines">
   <span id="infopaneltitle-for-obtain-early-deadlines" style="display:none">Info about the 'obtain early deadlines' definition.</span><b><a href="#obtain-early-deadlines">#obtain-early-deadlines</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-obtain-early-deadlines">11.12. Establishing report delivery time</a> <a href="#ref-for-obtain-early-deadlines①">(2)</a> <a href="#ref-for-obtain-early-deadlines②">(3)</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-obtain-the-number-of-report-windows" class="dfn-panel" data-for="obtain-the-number-of-report-windows" id="infopanel-for-obtain-the-number-of-report-windows">
   <span id="infopaneltitle-for-obtain-the-number-of-report-windows" style="display:none">Info about the 'obtain the number of report windows' definition.</span><b><a href="#obtain-the-number-of-report-windows">#obtain-the-number-of-report-windows</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-obtain-the-number-of-report-windows">10.4. Parsing source-registration JSON</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-obtain-a-report-time-from-deadline" class="dfn-panel" data-for="obtain-a-report-time-from-deadline" id="infopanel-for-obtain-a-report-time-from-deadline">
   <span id="infopaneltitle-for-obtain-a-report-time-from-deadline" style="display:none">Info about the 'obtain a report time from deadline' definition.</span><b><a href="#obtain-a-report-time-from-deadline">#obtain-a-report-time-from-deadline</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-obtain-a-report-time-from-deadline">11.12. Establishing report delivery time</a> <a href="#ref-for-obtain-a-report-time-from-deadline①">(2)</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-obtain-the-report-time-at-a-window" class="dfn-panel" data-for="obtain-the-report-time-at-a-window" id="infopanel-for-obtain-the-report-time-at-a-window">
   <span id="infopaneltitle-for-obtain-the-report-time-at-a-window" style="display:none">Info about the 'obtain the report time at a window' definition.</span><b><a href="#obtain-the-report-time-at-a-window">#obtain-the-report-time-at-a-window</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-obtain-the-report-time-at-a-window">10.5. Processing an attribution source</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-obtain-an-event-level-report-delivery-time" class="dfn-panel" data-for="obtain-an-event-level-report-delivery-time" id="infopanel-for-obtain-an-event-level-report-delivery-time">
   <span id="infopaneltitle-for-obtain-an-event-level-report-delivery-time" style="display:none">Info about the 'obtain an event-level report delivery time' definition.</span><b><a href="#obtain-an-event-level-report-delivery-time">#obtain-an-event-level-report-delivery-time</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-obtain-an-event-level-report-delivery-time">11.13. Obtaining an event-level report</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-obtain-an-aggregatable-report-delivery-time" class="dfn-panel" data-for="obtain-an-aggregatable-report-delivery-time" id="infopanel-for-obtain-an-aggregatable-report-delivery-time">
   <span id="infopaneltitle-for-obtain-an-aggregatable-report-delivery-time" style="display:none">Info about the 'obtain an aggregatable report delivery time' definition.</span><b><a href="#obtain-an-aggregatable-report-delivery-time">#obtain-an-aggregatable-report-delivery-time</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-obtain-an-aggregatable-report-delivery-time">11.15. Obtaining an aggregatable report</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-obtain-an-event-level-report" class="dfn-panel" data-for="obtain-an-event-level-report" id="infopanel-for-obtain-an-event-level-report">
   <span id="infopaneltitle-for-obtain-an-event-level-report" style="display:none">Info about the 'obtain an event-level report' definition.</span><b><a href="#obtain-an-event-level-report">#obtain-an-event-level-report</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-obtain-an-event-level-report">10.5. Processing an attribution source</a>
    <li><a href="#ref-for-obtain-an-event-level-report①">11.9. Triggering event-level attribution</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-aggregatable-report-required-aggregatable-budget" class="dfn-panel" data-for="aggregatable-report-required-aggregatable-budget" id="infopanel-for-aggregatable-report-required-aggregatable-budget">
   <span id="infopaneltitle-for-aggregatable-report-required-aggregatable-budget" style="display:none">Info about the '
required aggregatable budget' definition.</span><b><a href="#aggregatable-report-required-aggregatable-budget">#aggregatable-report-required-aggregatable-budget</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-aggregatable-report-required-aggregatable-budget">8. Vendor-Specific Values</a>
    <li><a href="#ref-for-aggregatable-report-required-aggregatable-budget①">11.7. Can source create aggregatable contributions</a>
    <li><a href="#ref-for-aggregatable-report-required-aggregatable-budget②">11.10. Triggering aggregatable attribution</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-obtain-an-aggregatable-report" class="dfn-panel" data-for="obtain-an-aggregatable-report" id="infopanel-for-obtain-an-aggregatable-report">
   <span id="infopaneltitle-for-obtain-an-aggregatable-report" style="display:none">Info about the 'obtain an aggregatable report' definition.</span><b><a href="#obtain-an-aggregatable-report">#obtain-an-aggregatable-report</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-obtain-an-aggregatable-report">11.10. Triggering aggregatable attribution</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-queue-a-report-for-delivery" class="dfn-panel" data-for="queue-a-report-for-delivery" id="infopanel-for-queue-a-report-for-delivery">
   <span id="infopaneltitle-for-queue-a-report-for-delivery" style="display:none">Info about the 'queue a report for delivery' definition.</span><b><a href="#queue-a-report-for-delivery">#queue-a-report-for-delivery</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-queue-a-report-for-delivery">12. Report delivery</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-encode-an-unsigned-k-bit-integer" class="dfn-panel" data-for="encode-an-unsigned-k-bit-integer" id="infopanel-for-encode-an-unsigned-k-bit-integer">
   <span id="infopaneltitle-for-encode-an-unsigned-k-bit-integer" style="display:none">Info about the 'encode an unsigned k-bit integer' definition.</span><b><a href="#encode-an-unsigned-k-bit-integer">#encode-an-unsigned-k-bit-integer</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-encode-an-unsigned-k-bit-integer">12.4. Obtaining an aggregatable report’s aggregation service payloads</a> <a href="#ref-for-encode-an-unsigned-k-bit-integer①">(2)</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-aggregatable-report-debug-mode" class="dfn-panel" data-for="aggregatable-report-debug-mode" id="infopanel-for-aggregatable-report-debug-mode">
   <span id="infopaneltitle-for-aggregatable-report-debug-mode" style="display:none">Info about the 'debug mode' definition.</span><b><a href="#aggregatable-report-debug-mode">#aggregatable-report-debug-mode</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-aggregatable-report-debug-mode">12.3. Obtaining an aggregatable report’s shared info</a>
    <li><a href="#ref-for-aggregatable-report-debug-mode①">12.4. Obtaining an aggregatable report’s aggregation service payloads</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-aggregatable-report-shared-info" class="dfn-panel" data-for="aggregatable-report-shared-info" id="infopanel-for-aggregatable-report-shared-info">
   <span id="infopaneltitle-for-aggregatable-report-shared-info" style="display:none">Info about the 'shared info' definition.</span><b><a href="#aggregatable-report-shared-info">#aggregatable-report-shared-info</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-aggregatable-report-shared-info">12.4. Obtaining an aggregatable report’s aggregation service payloads</a>
    <li><a href="#ref-for-aggregatable-report-shared-info①">12.5. Serialize attribution report body</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-obtain-the-public-key-for-encryption" class="dfn-panel" data-for="obtain-the-public-key-for-encryption" id="infopanel-for-obtain-the-public-key-for-encryption">
   <span id="infopaneltitle-for-obtain-the-public-key-for-encryption" style="display:none">Info about the 'obtain the public key for encryption' definition.</span><b><a href="#obtain-the-public-key-for-encryption">#obtain-the-public-key-for-encryption</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-obtain-the-public-key-for-encryption">12.4. Obtaining an aggregatable report’s aggregation service payloads</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-aggregatable-report-plaintext-payload" class="dfn-panel" data-for="aggregatable-report-plaintext-payload" id="infopanel-for-aggregatable-report-plaintext-payload">
   <span id="infopaneltitle-for-aggregatable-report-plaintext-payload" style="display:none">Info about the 'plaintext payload' definition.</span><b><a href="#aggregatable-report-plaintext-payload">#aggregatable-report-plaintext-payload</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-aggregatable-report-plaintext-payload">12.4. Obtaining an aggregatable report’s aggregation service payloads</a> <a href="#ref-for-aggregatable-report-plaintext-payload①">(2)</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-obtain-the-encrypted-payload" class="dfn-panel" data-for="obtain-the-encrypted-payload" id="infopanel-for-obtain-the-encrypted-payload">
   <span id="infopaneltitle-for-obtain-the-encrypted-payload" style="display:none">Info about the 'obtain the encrypted payload' definition.</span><b><a href="#obtain-the-encrypted-payload">#obtain-the-encrypted-payload</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-obtain-the-encrypted-payload">12.4. Obtaining an aggregatable report’s aggregation service payloads</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-obtain-the-aggregation-service-payloads" class="dfn-panel" data-for="obtain-the-aggregation-service-payloads" id="infopanel-for-obtain-the-aggregation-service-payloads">
   <span id="infopaneltitle-for-obtain-the-aggregation-service-payloads" style="display:none">Info about the 'obtain the aggregation service payloads' definition.</span><b><a href="#obtain-the-aggregation-service-payloads">#obtain-the-aggregation-service-payloads</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-obtain-the-aggregation-service-payloads">12.5. Serialize attribution report body</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-obtain-an-event-level-report-body" class="dfn-panel" data-for="obtain-an-event-level-report-body" id="infopanel-for-obtain-an-event-level-report-body">
   <span id="infopaneltitle-for-obtain-an-event-level-report-body" style="display:none">Info about the 'obtain an event-level report body' definition.</span><b><a href="#obtain-an-event-level-report-body">#obtain-an-event-level-report-body</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-obtain-an-event-level-report-body">11.8. Obtaining debug data on trigger registration</a>
    <li><a href="#ref-for-obtain-an-event-level-report-body①">12.5. Serialize attribution report body</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-serialize-an-event-level-report" class="dfn-panel" data-for="serialize-an-event-level-report" id="infopanel-for-serialize-an-event-level-report">
   <span id="infopaneltitle-for-serialize-an-event-level-report" style="display:none">Info about the 'serialize an event-level report' definition.</span><b><a href="#serialize-an-event-level-report">#serialize-an-event-level-report</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-serialize-an-event-level-report">12.5. Serialize attribution report body</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-serialize-an-aggregatable-report" class="dfn-panel" data-for="serialize-an-aggregatable-report" id="infopanel-for-serialize-an-aggregatable-report">
   <span id="infopaneltitle-for-serialize-an-aggregatable-report" style="display:none">Info about the 'serialize an aggregatable report ' definition.</span><b><a href="#serialize-an-aggregatable-report">#serialize-an-aggregatable-report</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-serialize-an-aggregatable-report">12.5. Serialize attribution report body</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-serialize-an-attribution-report" class="dfn-panel" data-for="serialize-an-attribution-report" id="infopanel-for-serialize-an-attribution-report">
   <span id="infopaneltitle-for-serialize-an-attribution-report" style="display:none">Info about the 'serialize an attribution report' definition.</span><b><a href="#serialize-an-attribution-report">#serialize-an-attribution-report</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-serialize-an-attribution-report">12.10. Issuing a report request</a>
    <li><a href="#ref-for-serialize-an-attribution-report①">12.11. Issuing a debug report request</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-serialize-an-attribution-debug-report" class="dfn-panel" data-for="serialize-an-attribution-debug-report" id="infopanel-for-serialize-an-attribution-debug-report">
   <span id="infopaneltitle-for-serialize-an-attribution-debug-report" style="display:none">Info about the 'serialize an attribution debug report' definition.</span><b><a href="#serialize-an-attribution-debug-report">#serialize-an-attribution-debug-report</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-serialize-an-attribution-debug-report">12.12. Issuing a verbose debug request</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-generate-a-report-url" class="dfn-panel" data-for="generate-a-report-url" id="infopanel-for-generate-a-report-url">
   <span id="infopaneltitle-for-generate-a-report-url" style="display:none">Info about the 'generate a report URL' definition.</span><b><a href="#generate-a-report-url">#generate-a-report-url</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-generate-a-report-url">12.7. Get report request URL</a> <a href="#ref-for-generate-a-report-url①">(2)</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-generate-an-attribution-report-url" class="dfn-panel" data-for="generate-an-attribution-report-url" id="infopanel-for-generate-an-attribution-report-url">
   <span id="infopaneltitle-for-generate-an-attribution-report-url" style="display:none">Info about the 'generate an attribution report URL' definition.</span><b><a href="#generate-an-attribution-report-url">#generate-an-attribution-report-url</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-generate-an-attribution-report-url">12.10. Issuing a report request</a>
    <li><a href="#ref-for-generate-an-attribution-report-url①">12.11. Issuing a debug report request</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-generate-an-attribution-report-url-isdebugreport" class="dfn-panel" data-for="generate-an-attribution-report-url-isdebugreport" id="infopanel-for-generate-an-attribution-report-url-isdebugreport">
   <span id="infopaneltitle-for-generate-an-attribution-report-url-isdebugreport" style="display:none">Info about the 'isDebugReport' definition.</span><b><a href="#generate-an-attribution-report-url-isdebugreport">#generate-an-attribution-report-url-isdebugreport</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-generate-an-attribution-report-url-isdebugreport">12.11. Issuing a debug report request</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-generate-an-attribution-debug-report-url" class="dfn-panel" data-for="generate-an-attribution-debug-report-url" id="infopanel-for-generate-an-attribution-debug-report-url">
   <span id="infopaneltitle-for-generate-an-attribution-debug-report-url" style="display:none">Info about the 'generate an attribution debug report URL' definition.</span><b><a href="#generate-an-attribution-debug-report-url">#generate-an-attribution-debug-report-url</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-generate-an-attribution-debug-report-url">12.12. Issuing a verbose debug request</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-create-a-report-request" class="dfn-panel" data-for="create-a-report-request" id="infopanel-for-create-a-report-request">
   <span id="infopaneltitle-for-create-a-report-request" style="display:none">Info about the 'create a report request' definition.</span><b><a href="#create-a-report-request">#create-a-report-request</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-create-a-report-request">12.10. Issuing a report request</a>
    <li><a href="#ref-for-create-a-report-request①">12.11. Issuing a debug report request</a>
    <li><a href="#ref-for-create-a-report-request②">12.12. Issuing a verbose debug request</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-generate-attribution-report-headers" class="dfn-panel" data-for="generate-attribution-report-headers" id="infopanel-for-generate-attribution-report-headers">
   <span id="infopaneltitle-for-generate-attribution-report-headers" style="display:none">Info about the 'generate attribution report headers' definition.</span><b><a href="#generate-attribution-report-headers">#generate-attribution-report-headers</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-generate-attribution-report-headers">12.10. Issuing a report request</a>
    <li><a href="#ref-for-generate-attribution-report-headers①">12.11. Issuing a debug report request</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-remove-a-report-from-the-cache" class="dfn-panel" data-for="remove-a-report-from-the-cache" id="infopanel-for-remove-a-report-from-the-cache">
   <span id="infopaneltitle-for-remove-a-report-from-the-cache" style="display:none">Info about the 'remove a report from the cache' definition.</span><b><a href="#remove-a-report-from-the-cache">#remove-a-report-from-the-cache</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-remove-a-report-from-the-cache">12.10. Issuing a report request</a> <a href="#ref-for-remove-a-report-from-the-cache①">(2)</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-attempt-to-deliver-a-report" class="dfn-panel" data-for="attempt-to-deliver-a-report" id="infopanel-for-attempt-to-deliver-a-report">
   <span id="infopaneltitle-for-attempt-to-deliver-a-report" style="display:none">Info about the 'attempt to deliver a report' definition.</span><b><a href="#attempt-to-deliver-a-report">#attempt-to-deliver-a-report</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-attempt-to-deliver-a-report">12. Report delivery</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-attempt-to-deliver-a-debug-report" class="dfn-panel" data-for="attempt-to-deliver-a-debug-report" id="infopanel-for-attempt-to-deliver-a-debug-report">
   <span id="infopaneltitle-for-attempt-to-deliver-a-debug-report" style="display:none">Info about the 'attempt to deliver a debug report' definition.</span><b><a href="#attempt-to-deliver-a-debug-report">#attempt-to-deliver-a-debug-report</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-attempt-to-deliver-a-debug-report">11.9. Triggering event-level attribution</a>
    <li><a href="#ref-for-attempt-to-deliver-a-debug-report①">11.10. Triggering aggregatable attribution</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-attempt-to-deliver-a-verbose-debug-report" class="dfn-panel" data-for="attempt-to-deliver-a-verbose-debug-report" id="infopanel-for-attempt-to-deliver-a-verbose-debug-report">
   <span id="infopaneltitle-for-attempt-to-deliver-a-verbose-debug-report" style="display:none">Info about the 'attempt to deliver a verbose debug report' definition.</span><b><a href="#attempt-to-deliver-a-verbose-debug-report">#attempt-to-deliver-a-verbose-debug-report</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-attempt-to-deliver-a-verbose-debug-report">9.9. Obtaining and delivering an attribution debug report</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-set-an-os-support-header" class="dfn-panel" data-for="set-an-os-support-header" id="infopanel-for-set-an-os-support-header">
   <span id="infopaneltitle-for-set-an-os-support-header" style="display:none">Info about the 'set an OS-support header' definition.</span><b><a href="#set-an-os-support-header">#set-an-os-support-header</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-set-an-os-support-header">9.10. Making a background attributionsrc request</a>
   </ul>
  </aside>
<script>/* script-dfn-panel */
"use strict";
{
    function queryAll(sel) {
        return [].slice.call(document.querySelectorAll(sel));
    }

    // Add popup behavior to all dfns to show the corresponding dfn-panel.
    var dfns = document.querySelectorAll('.dfn-paneled');
    for (let dfn of dfns) { insertDfnPopupAction(dfn); }

    document.body.addEventListener("click", (e) => {
        // If not handled already, just hide all dfn panels.
        hideAllDfnPanels();
    });

    function hideAllDfnPanels() {
        // Turn off any currently "on" or "activated" panels.
        queryAll(".dfn-panel.on, .dfn-panel.activated").forEach(el=>hideDfnPanel(el));
    }

    function showDfnPanel(dfnPanel, dfn) {
        hideAllDfnPanels(); // Only display one at this time.
        dfn.setAttribute("aria-expanded", "true");
        dfnPanel.classList.add("on");
        dfnPanel.style.left = "5px";
        dfnPanel.style.top = "0px";
        const panelRect = dfnPanel.getBoundingClientRect();
        const panelWidth = panelRect.right - panelRect.left;
        if (panelRect.right > document.body.scrollWidth) {
            // Panel's overflowing the screen.
            // Just drop it below the dfn and flip it rightward instead.
            // This still wont' fix things if the screen is *really* wide,
            // but fixing that's a lot harder without 'anchor()'.
            dfnPanel.style.top = "1.5em";
            dfnPanel.style.left = "auto";
            dfnPanel.style.right = "0px";
        }
    }

    function pinDfnPanel(dfnPanel) {
        // Switch it to "activated" state, which pins it.
        dfnPanel.classList.add("activated");
        dfnPanel.style.left = null;
        dfnPanel.style.top = null;
    }

    function hideDfnPanel(dfnPanel, dfn) {
        if(!dfn) {
            dfn = document.getElementById(dfnPanel.getAttribute("data-for"));
        }
        dfn.setAttribute("aria-expanded", "false")
        dfnPanel.classList.remove("on");
        dfnPanel.classList.remove("activated");
    }

    function toggleDfnPanel(dfnPanel, dfn) {
        if(dfnPanel.classList.contains("on")) {
            hideDfnPanel(dfnPanel, dfn);
        } else {
            showDfnPanel(dfnPanel, dfn);
        }
    }

    function insertDfnPopupAction(dfn) {
        // Find dfn panel
        const dfnPanel = document.querySelector(`.dfn-panel[data-for='${dfn.id}']`);
        if (dfnPanel) {
            const panelWrapper = document.createElement('span');
            panelWrapper.appendChild(dfnPanel);
            panelWrapper.style.position = "relative";
            panelWrapper.style.height = "0px";
            dfn.insertAdjacentElement("afterend", panelWrapper);
            dfn.setAttribute('role', 'button');
            dfn.setAttribute('aria-expanded', 'false')
            dfn.tabIndex = 0;
            dfn.classList.add('has-dfn-panel');
            dfn.addEventListener('click', (event) => {
                showDfnPanel(dfnPanel, dfn);
                event.stopPropagation();
            });
            dfn.addEventListener('keypress', (event) => {
                const kc = event.keyCode;
                // 32->Space, 13->Enter
                if(kc == 32 || kc == 13) {
                    toggleDfnPanel(dfnPanel, dfn);
                    event.stopPropagation();
                    event.preventDefault();
                }
            });

            dfnPanel.addEventListener('click', (event) => {
                pinDfnPanel(dfnPanel);
                event.stopPropagation();
            });

            dfnPanel.addEventListener('keydown', (event) => {
                if(event.keyCode == 27) { // Escape key
                    hideDfnPanel(dfnPanel, dfn);
                    event.stopPropagation();
                    event.preventDefault();
                }
            })

        } else {
            console.log("Couldn't find .dfn-panel[data-for='" + dfn.id + "']");
        }
    }
}
</script>
<script>/* script-var-click-highlighting */

    "use strict";
    {
        document.addEventListener("click", e=>{
            if(e.target.nodeName == "VAR") {
                highlightSameAlgoVars(e.target);
            }
        });
        const indexCounts = new Map();
        const indexNames = new Map();
        function highlightSameAlgoVars(v) {
            // Find the algorithm container.
            let algoContainer = null;
            let searchEl = v;
            while(algoContainer == null && searchEl != document.body) {
                searchEl = searchEl.parentNode;
                if(searchEl.hasAttribute("data-algorithm")) {
                    algoContainer = searchEl;
                }
            }

            // Not highlighting document-global vars,
            // too likely to be unrelated.
            if(algoContainer == null) return;

            const algoName = algoContainer.getAttribute("data-algorithm");
            const varName = getVarName(v);
            const addClass = !v.classList.contains("selected");
            let highlightClass = null;
            if(addClass) {
                const index = chooseHighlightIndex(algoName, varName);
                indexCounts.get(algoName)[index] += 1;
                indexNames.set(algoName+"///"+varName, index);
                highlightClass = nameFromIndex(index);
            } else {
                const index = previousHighlightIndex(algoName, varName);
                indexCounts.get(algoName)[index] -= 1;
                highlightClass = nameFromIndex(index);
            }

            // Find all same-name vars, and toggle their class appropriately.
            for(const el of algoContainer.querySelectorAll("var")) {
                if(getVarName(el) == varName) {
                    el.classList.toggle("selected", addClass);
                    el.classList.toggle(highlightClass, addClass);
                }
            }
        }
        function getVarName(el) {
            return el.textContent.replace(/(\s|\xa0)+/, " ").trim();
        }
        function chooseHighlightIndex(algoName, varName) {
            let indexes = null;
            if(indexCounts.has(algoName)) {
                indexes = indexCounts.get(algoName);
            } else {
                // 7 classes right now
                indexes = [0,0,0,0,0,0,0];
                indexCounts.set(algoName, indexes);
            }

            // If the element was recently unclicked,
            // *and* that color is still unclaimed,
            // give it back the same color.
            const lastIndex = previousHighlightIndex(algoName, varName);
            if(indexes[lastIndex] === 0) return lastIndex;

            // Find the earliest index with the lowest count.
            const minCount = Math.min.apply(null, indexes);
            let index = null;
            for(var i = 0; i < indexes.length; i++) {
                if(indexes[i] == minCount) {
                    return i;
                }
            }
        }
        function previousHighlightIndex(algoName, varName) {
            return indexNames.get(algoName+"///"+varName);
        }
        function nameFromIndex(index) {
            return "selected" + index;
        }
    }
    </script>